%
\begin{isabellebody}%
\setisabellecontext{Interface}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Interface between set models and Constructibility%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
This theory provides an interface between Paulson's
relativization results and set models of ZFC. In particular,
it is used to prove that the locale \isa{forcing{\isacharunderscore}{\kern0pt}data} is
a sublocale of all relevant locales in ZF-Constructibility
(\isa{M{\isacharunderscore}{\kern0pt}trivial}, \isa{M{\isacharunderscore}{\kern0pt}basic}, \isa{M{\isacharunderscore}{\kern0pt}eclose}, etc).%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Interface\isanewline
\ \ \isakeyword{imports}\isanewline
\ \ \ \ Nat{\isacharunderscore}{\kern0pt}Miscellanea\isanewline
\ \ \ \ Relative{\isacharunderscore}{\kern0pt}Univ\isanewline
\ \ \ \ Synthetic{\isacharunderscore}{\kern0pt}Definition\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
\isanewline
\isanewline
\isacommand{syntax}\isamarkupfalse%
\isanewline
\ \ {\isachardoublequoteopen}{\isacharunderscore}{\kern0pt}sats{\isachardoublequoteclose}\ \ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ i{\isacharbrackright}{\kern0pt}\ {\isasymRightarrow}\ o{\isachardoublequoteclose}\ \ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymTurnstile}\ {\isacharunderscore}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isadigit{6}}{\isacharbrackright}{\kern0pt}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{translations}\isamarkupfalse%
\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}env\ {\isasymTurnstile}\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isasymrightleftharpoons}\ {\isachardoublequoteopen}CONST\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymphi}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\isanewline
\ \ dec{\isadigit{1}}{\isadigit{0}}\ \ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ i\ \ \ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isadigit{1}}{\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isadigit{1}}{\isadigit{0}}\ {\isasymequiv}\ succ{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\isanewline
\ \ dec{\isadigit{1}}{\isadigit{1}}\ \ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ i\ \ \ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isadigit{1}}{\isadigit{1}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isadigit{1}}{\isadigit{1}}\ {\isasymequiv}\ succ{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\isanewline
\ \ dec{\isadigit{1}}{\isadigit{2}}\ \ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ i\ \ \ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isadigit{1}}{\isadigit{2}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isadigit{1}}{\isadigit{2}}\ {\isasymequiv}\ succ{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\isanewline
\ \ dec{\isadigit{1}}{\isadigit{3}}\ \ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ i\ \ \ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isadigit{1}}{\isadigit{3}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isadigit{1}}{\isadigit{3}}\ {\isasymequiv}\ succ{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\isanewline
\ \ dec{\isadigit{1}}{\isadigit{4}}\ \ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ i\ \ \ {\isacharparenleft}{\kern0pt}{\isachardoublequoteopen}{\isadigit{1}}{\isadigit{4}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isadigit{1}}{\isadigit{4}}\ {\isasymequiv}\ succ{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\isanewline
\ \ infinity{\isacharunderscore}{\kern0pt}ax\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}i\ {\isasymRightarrow}\ o{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ o{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}infinity{\isacharunderscore}{\kern0pt}ax{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymequiv}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}I{\isacharbrackleft}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}z{\isacharbrackleft}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ empty{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isasymand}\ z{\isasymin}I{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}y{\isacharbrackleft}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ y{\isasymin}I\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}sy{\isacharbrackleft}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ successor{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}sy{\isacharparenright}{\kern0pt}\ {\isasymand}\ sy{\isasymin}I{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\isanewline
\ \ choice{\isacharunderscore}{\kern0pt}ax\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}i{\isasymRightarrow}o{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ o{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}choice{\isacharunderscore}{\kern0pt}ax{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ {\isasymforall}x{\isacharbrackleft}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}a{\isacharbrackleft}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}f{\isacharbrackleft}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ ordinal{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymand}\ surjection{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{context}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}basic\ \isakeyword{begin}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ choice{\isacharunderscore}{\kern0pt}ax{\isacharunderscore}{\kern0pt}abs\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}choice{\isacharunderscore}{\kern0pt}ax{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isacharbrackleft}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}a{\isacharbrackleft}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}f{\isacharbrackleft}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ Ord{\isacharparenleft}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymand}\ f\ {\isasymin}\ surj{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ choice{\isacharunderscore}{\kern0pt}ax{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\ \isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\isanewline
\ \ wellfounded{\isacharunderscore}{\kern0pt}trancl\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}i{\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}o{\isacharcomma}{\kern0pt}i{\isacharcomma}{\kern0pt}i{\isacharcomma}{\kern0pt}i{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}{\isachargreater}{\kern0pt}\ o{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}wellfounded{\isacharunderscore}{\kern0pt}trancl{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}Z{\isacharcomma}{\kern0pt}r{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymequiv}\isanewline
\ \ \ \ \ \ {\isasymexists}w{\isacharbrackleft}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}wx{\isacharbrackleft}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}rp{\isacharbrackleft}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ w\ {\isasymin}\ Z\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}w{\isacharcomma}{\kern0pt}p{\isacharcomma}{\kern0pt}wx{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ tran{\isacharunderscore}{\kern0pt}closure{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}r{\isacharcomma}{\kern0pt}rp{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ wx\ {\isasymin}\ rp{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ empty{\isacharunderscore}{\kern0pt}intf\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}infinity{\isacharunderscore}{\kern0pt}ax{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymexists}z{\isacharbrackleft}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ empty{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ empty{\isacharunderscore}{\kern0pt}def\ infinity{\isacharunderscore}{\kern0pt}ax{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Transset{\isacharunderscore}{\kern0pt}intf\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}Transset{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ \ y{\isasymin}x\ {\isasymLongrightarrow}\ x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ y\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Transset{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}auto{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{locale}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans\ {\isacharequal}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ M\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ upair{\isacharunderscore}{\kern0pt}ax{\isacharcolon}{\kern0pt}\ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}upair{\isacharunderscore}{\kern0pt}ax{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ Union{\isacharunderscore}{\kern0pt}ax{\isacharcolon}{\kern0pt}\ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}Union{\isacharunderscore}{\kern0pt}ax{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ power{\isacharunderscore}{\kern0pt}ax{\isacharcolon}{\kern0pt}\ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}power{\isacharunderscore}{\kern0pt}ax{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ extensionality{\isacharcolon}{\kern0pt}\ \ \ {\isachardoublequoteopen}extensionality{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ foundation{\isacharunderscore}{\kern0pt}ax{\isacharcolon}{\kern0pt}\ \ \ \ {\isachardoublequoteopen}foundation{\isacharunderscore}{\kern0pt}ax{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ infinity{\isacharunderscore}{\kern0pt}ax{\isacharcolon}{\kern0pt}\ \ \ \ \ \ {\isachardoublequoteopen}infinity{\isacharunderscore}{\kern0pt}ax{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ separation{\isacharunderscore}{\kern0pt}ax{\isacharcolon}{\kern0pt}\ \ \ \ {\isachardoublequoteopen}{\isasymphi}{\isasymin}formula\ {\isasymLongrightarrow}\ env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ arity{\isacharparenleft}{\kern0pt}{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{1}}\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymphi}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ replacement{\isacharunderscore}{\kern0pt}ax{\isacharcolon}{\kern0pt}\ \ \ {\isachardoublequoteopen}{\isasymphi}{\isasymin}formula\ {\isasymLongrightarrow}\ env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ arity{\isacharparenleft}{\kern0pt}{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{2}}\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x\ y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymphi}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ trans{\isacharunderscore}{\kern0pt}M{\isacharcolon}{\kern0pt}\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}Transset{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeyword{begin}\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ TranssetI\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}y\ x{\isachardot}{\kern0pt}\ y{\isasymin}x\ {\isasymLongrightarrow}\ x{\isasymin}M\ {\isasymLongrightarrow}\ y{\isasymin}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ Transset{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Transset{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ infinity{\isacharunderscore}{\kern0pt}ax\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}z{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ empty{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ empty{\isacharunderscore}{\kern0pt}intf{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\isanewline
\ \ \ \ zm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}empty{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ trans{\isacharunderscore}{\kern0pt}M\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}z{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ \ add{\isacharcolon}{\kern0pt}\ empty{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ blast\ intro{\isacharcolon}{\kern0pt}\ Transset{\isacharunderscore}{\kern0pt}intf\ {\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ zm\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Interface with \isa{M{\isacharunderscore}{\kern0pt}trivial}%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ mtrans\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}trans{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Transset{\isacharunderscore}{\kern0pt}intf{\isacharbrackleft}{\kern0pt}OF\ trans{\isacharunderscore}{\kern0pt}M{\isacharbrackright}{\kern0pt}\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ exI{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymlambda}x{\isachardot}{\kern0pt}\ x{\isasymin}M{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mtriv\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}trivial{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ trans{\isacharunderscore}{\kern0pt}M\ M{\isacharunderscore}{\kern0pt}trivial{\isachardot}{\kern0pt}intro\ mtrans\ M{\isacharunderscore}{\kern0pt}trivial{\isacharunderscore}{\kern0pt}axioms{\isachardot}{\kern0pt}intro\ upair{\isacharunderscore}{\kern0pt}ax\ Union{\isacharunderscore}{\kern0pt}ax\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans\ {\isasymsubseteq}\ M{\isacharunderscore}{\kern0pt}trivial\ {\isachardoublequoteopen}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ mtriv{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{context}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans\isanewline
\isakeyword{begin}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Interface with \isa{M{\isacharunderscore}{\kern0pt}basic}%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ inter{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}y{\isasymin}A\ {\isachardot}{\kern0pt}\ y{\isasymin}B\ {\isasymlongrightarrow}\ x{\isasymin}y{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}ifm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ inter{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}A{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x\ {\isachardot}{\kern0pt}\ {\isasymforall}y{\isasymin}M\ {\isachardot}{\kern0pt}\ y{\isasymin}A\ {\isasymlongrightarrow}\ x{\isasymin}y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ ifm\ \isakeyword{where}\isanewline
\ \ \ \ fmsats{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}env{\isachardot}{\kern0pt}\ env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}\ y{\isasymin}M{\isachardot}{\kern0pt}\ y{\isasymin}{\isacharparenleft}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isasymin}y{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}ifm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}ifm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}ifm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ inter{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ add{\isacharcolon}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}a{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}ifm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}y{\isasymin}M\ {\isachardot}{\kern0pt}\ y{\isasymin}a\ {\isasymlongrightarrow}\ x{\isasymin}y{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}ifm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}a{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ a\ x\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ fmsats{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}a{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x\ {\isachardot}{\kern0pt}\ {\isasymforall}y{\isasymin}M\ {\isachardot}{\kern0pt}\ y{\isasymin}a\ {\isasymlongrightarrow}\ x{\isasymin}y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ diff{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}x{\isasymnotin}B\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}dfm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ diff{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}B{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x\ {\isachardot}{\kern0pt}\ x{\isasymnotin}B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ dfm\ \isakeyword{where}\isanewline
\ \ \ \ fmsats{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}env{\isachardot}{\kern0pt}\ env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isasymnotin}nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}dfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}dfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}dfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}B{\isasymin}M{\isacartoucheclose}\ diff{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ add{\isacharcolon}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}b{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}dfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ b{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x{\isasymnotin}b\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}dfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}b{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}b{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ b\ x\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ fmsats{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}b{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}b{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x\ {\isachardot}{\kern0pt}\ x{\isasymnotin}b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}B{\isasymin}M{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ cprod{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ z{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ B{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}h{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ C{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}h\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}A{\isachardot}{\kern0pt}\ x{\isasymin}B\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}A{\isachardot}{\kern0pt}\ y{\isasymin}C\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}cpfm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharcomma}{\kern0pt}h{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ cartprod{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}A{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}B{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}z{\isachardot}{\kern0pt}\ {\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ x{\isasymin}A\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ y{\isasymin}B\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ cpfm\ \isakeyword{where}\isanewline
\ \ \ \ fmsats{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}env{\isachardot}{\kern0pt}\ env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ x{\isasymin}nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ y{\isasymin}nth{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}cpfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}cpfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}cpfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cprod{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}a{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}b{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}z{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}cpfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ b{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ x{\isasymin}a\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ y{\isasymin}b\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}cpfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}z{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}a{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}b{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ a\ b\ z\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ fmsats{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}z{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}a{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}b{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}z\ {\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ x{\isasymin}a\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ y{\isasymin}b\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}B{\isasymin}M{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ im{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}h{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}h\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}p{\isasymin}A{\isachardot}{\kern0pt}\ p{\isasymin}r\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}A{\isachardot}{\kern0pt}\ x{\isasymin}B\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}imfm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharcomma}{\kern0pt}h{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}A{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}r{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}y{\isachardot}{\kern0pt}\ {\isasymexists}p{\isasymin}M{\isachardot}{\kern0pt}\ p{\isasymin}r\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ x{\isasymin}A\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ imfm\ \isakeyword{where}\isanewline
\ \ \ \ fmsats{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}env{\isachardot}{\kern0pt}\ env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}p{\isasymin}M{\isachardot}{\kern0pt}\ p{\isasymin}nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ x{\isasymin}nth{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}imfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}imfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}imfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ im{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}r{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}a{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}imfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}r{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}p{\isasymin}M{\isachardot}{\kern0pt}\ p{\isasymin}k\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ x{\isasymin}a\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}imfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}k{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}k{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ k\ a\ y\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ fmsats{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}k{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}k{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}a{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}y\ {\isachardot}{\kern0pt}\ {\isasymexists}p{\isasymin}M{\isachardot}{\kern0pt}\ p{\isasymin}k\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ x{\isasymin}a\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}r{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ con{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ z{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}p{\isasymin}A{\isachardot}{\kern0pt}\ p{\isasymin}R\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}A{\isachardot}{\kern0pt}{\isasymexists}y{\isasymin}A{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}cfm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ converse{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}R{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}z{\isachardot}{\kern0pt}\ {\isasymexists}p{\isasymin}M{\isachardot}{\kern0pt}\ p{\isasymin}R\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ cfm\ \isakeyword{where}\isanewline
\ \ \ \ fmsats{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}env{\isachardot}{\kern0pt}\ env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}p{\isasymin}M{\isachardot}{\kern0pt}\ p{\isasymin}nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}cfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}cfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}cfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ con{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}r{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}z{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}cfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}z{\isacharcomma}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}p{\isasymin}M{\isachardot}{\kern0pt}\ p{\isasymin}r\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}cfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}z{\isacharcomma}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}r{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ z\ r\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ fmsats{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}z{\isacharcomma}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}r{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}z\ {\isachardot}{\kern0pt}\ {\isasymexists}p{\isasymin}M{\isachardot}{\kern0pt}\ p{\isasymin}r\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}R{\isasymin}M{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ rest{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ z{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ C{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}A{\isachardot}{\kern0pt}\ x{\isasymin}C\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}A{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}rfm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ restrict{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}A{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}z{\isachardot}{\kern0pt}\ {\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ x{\isasymin}A\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ rfm\ \isakeyword{where}\isanewline
\ \ \ \ fmsats{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}env{\isachardot}{\kern0pt}\ env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ x{\isasymin}nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}rfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}rfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}rfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ rest{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}a{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}z{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}rfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}z{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ x{\isasymin}a\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}rfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}z{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ z\ a\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ fmsats{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}z{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}a{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}z\ {\isachardot}{\kern0pt}\ {\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ x{\isasymin}a\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ xz{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ S{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}h{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}h\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}A{\isachardot}{\kern0pt}\ {\isasymexists}y{\isasymin}A{\isachardot}{\kern0pt}\ {\isasymexists}z{\isasymin}A{\isachardot}{\kern0pt}\ {\isasymexists}xy{\isasymin}A{\isachardot}{\kern0pt}\ {\isasymexists}yz{\isasymin}A{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}xz{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}xy{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}yz{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xy{\isasymin}S\ {\isacharampersand}{\kern0pt}\ yz{\isasymin}R{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}cfm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharcomma}{\kern0pt}h{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}R{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}S{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}xz{\isachardot}{\kern0pt}\ {\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}z{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}xy{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}yz{\isasymin}M{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}xz{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}xy{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}yz{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xy{\isasymin}S\ {\isacharampersand}{\kern0pt}\ yz{\isasymin}R{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ cfm\ \isakeyword{where}\isanewline
\ \ \ \ fmsats{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}env{\isachardot}{\kern0pt}\ env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}z{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}xy{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}yz{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}xy{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}yz{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xy{\isasymin}nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ yz{\isasymin}nth{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}cfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}cfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}cfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}r{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}s{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}cfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}s{\isacharcomma}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}z{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}xy{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}yz{\isasymin}M{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}xz{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}xy{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}yz{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xy{\isasymin}s\ {\isacharampersand}{\kern0pt}\ yz{\isasymin}r{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}cfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}xz{\isacharcomma}{\kern0pt}s{\isacharcomma}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}xz{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}s{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}r{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ xz\ s\ r\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ fmsats{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}xz{\isacharcomma}{\kern0pt}s{\isacharcomma}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}s{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}r{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}xz\ {\isachardot}{\kern0pt}\ {\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}z{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}xy{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}yz{\isasymin}M{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}xz{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}xy{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}yz{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xy{\isasymin}s\ {\isacharampersand}{\kern0pt}\ yz{\isasymin}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}S{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}R{\isasymin}M{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ pred{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ R{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}h{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}h\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}p{\isasymin}A{\isachardot}{\kern0pt}\ p{\isasymin}R\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}X{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}pfm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharcomma}{\kern0pt}h{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pred{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}R{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}X{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}y{\isachardot}{\kern0pt}\ {\isasymexists}p{\isasymin}M{\isachardot}{\kern0pt}\ p{\isasymin}R\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}X{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ pfm\ \isakeyword{where}\isanewline
\ \ \ \ fmsats{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}env{\isachardot}{\kern0pt}\ env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}p{\isasymin}M{\isachardot}{\kern0pt}\ p{\isasymin}nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}pfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}pfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}pfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pred{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}r{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}pfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}r{\isacharcomma}{\kern0pt}x{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}p{\isasymin}M{\isachardot}{\kern0pt}\ p{\isasymin}r\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}pfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}r{\isacharcomma}{\kern0pt}x{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}r{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ y\ x\ r\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ fmsats{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}r{\isacharcomma}{\kern0pt}x{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}r{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}\ y\ {\isachardot}{\kern0pt}\ {\isasymexists}p{\isasymin}M{\isachardot}{\kern0pt}\ p{\isasymin}r\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}X{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}R{\isasymin}M{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ mem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ z{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}A{\isachardot}{\kern0pt}\ {\isasymexists}y{\isasymin}A{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ x\ {\isasymin}\ y{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}mfm{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ memrel{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}z{\isachardot}{\kern0pt}\ {\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ x\ {\isasymin}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ mfm\ \isakeyword{where}\isanewline
\ \ \ \ fmsats{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}env{\isachardot}{\kern0pt}\ env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ x\ {\isasymin}\ y{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}mfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}mfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}mfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ mem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}z{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}mfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}z{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ x\ {\isasymin}\ y{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}mfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}z{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ z\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ fmsats{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}z{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}z\ {\isachardot}{\kern0pt}\ {\isasymexists}x{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ x\ {\isasymin}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ recfun{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isadigit{2}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isadigit{3}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isadigit{4}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isadigit{5}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isadigit{6}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ b{\isachardoublequoteclose}\ {\isachardoublequoteopen}i{\isadigit{1}}{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}i{\isadigit{2}}{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}i{\isadigit{3}}{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}i{\isadigit{4}}{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}i{\isadigit{5}}{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}i{\isadigit{6}}{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}xa{\isasymin}A{\isachardot}{\kern0pt}\ {\isasymexists}xb{\isasymin}A{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xa\ {\isasymin}\ r\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}b{\isacharcomma}{\kern0pt}xb{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xb\ {\isasymin}\ r\ {\isacharampersand}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}fx{\isasymin}A{\isachardot}{\kern0pt}\ {\isasymexists}gx{\isasymin}A{\isachardot}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}fx{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}g{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}gx{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ fx\ {\isasymnoteq}\ gx{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}rffm{\isacharparenleft}{\kern0pt}i{\isadigit{1}}{\isacharcomma}{\kern0pt}i{\isadigit{2}}{\isacharcomma}{\kern0pt}i{\isadigit{3}}{\isacharcomma}{\kern0pt}i{\isadigit{4}}{\isacharcomma}{\kern0pt}i{\isadigit{5}}{\isacharcomma}{\kern0pt}i{\isadigit{6}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}r{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}f{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}g{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}b{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymexists}xa{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}xb{\isasymin}M{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xa\ {\isasymin}\ r\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}b{\isacharcomma}{\kern0pt}xb{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xb\ {\isasymin}\ r\ {\isacharampersand}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}fx{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}gx{\isasymin}M{\isachardot}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}fx{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}g{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}gx{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fx\ {\isasymnoteq}\ gx{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ rffm\ \isakeyword{where}\isanewline
\ \ \ \ fmsats{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}env{\isachardot}{\kern0pt}\ env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}xa{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}xb{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xa\ {\isasymin}\ nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\isanewline
\ \ \ \ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}xb{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xb\ {\isasymin}\ nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}fx{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}gx{\isasymin}M{\isachardot}{\kern0pt}\isanewline
\ \ \ \ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}fx{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}gx{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ fx\ {\isasymnoteq}\ gx{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}rffm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}rffm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}rffm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{6}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ recfun{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}a{\isadigit{1}}{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}a{\isadigit{2}}{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}a{\isadigit{3}}{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}a{\isadigit{4}}{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}a{\isadigit{5}}{\isasymin}M{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}rffm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isadigit{1}}{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}a{\isadigit{4}}{\isacharcomma}{\kern0pt}a{\isadigit{5}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}xa{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}xb{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isadigit{4}}{\isacharcomma}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xa\ {\isasymin}\ a{\isadigit{1}}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isadigit{5}}{\isacharcomma}{\kern0pt}xb{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xb\ {\isasymin}\ a{\isadigit{1}}\ {\isacharampersand}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}fx{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}gx{\isasymin}M{\isachardot}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}fx{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}gx{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ fx\ {\isasymnoteq}\ gx{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}rffm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isadigit{1}}{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}a{\isadigit{4}}{\isacharcomma}{\kern0pt}a{\isadigit{5}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{1}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{2}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{3}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{4}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{5}}{\isasymin}M{\isachardoublequoteclose}\ \ \isakeyword{for}\ x\ a{\isadigit{1}}\ a{\isadigit{2}}\ a{\isadigit{3}}\ a{\isadigit{4}}\ a{\isadigit{5}}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ fmsats{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isadigit{1}}{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}a{\isadigit{4}}{\isacharcomma}{\kern0pt}a{\isadigit{5}}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}a{\isadigit{1}}{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}a{\isadigit{2}}{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}a{\isadigit{3}}{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}a{\isadigit{4}}{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}a{\isadigit{5}}{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}\ x\ {\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymexists}xa{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}xb{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isadigit{4}}{\isacharcomma}{\kern0pt}xa{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xa\ {\isasymin}\ a{\isadigit{1}}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isadigit{5}}{\isacharcomma}{\kern0pt}xb{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ xb\ {\isasymin}\ a{\isadigit{1}}\ {\isacharampersand}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}fx{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}gx{\isasymin}M{\isachardot}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}fx{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}gx{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ fx\ {\isasymnoteq}\ gx{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}r{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}f{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}g{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}a{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}b{\isasymin}M{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ funsp{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ z{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}h{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}h\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}f{\isasymin}A{\isachardot}{\kern0pt}\ {\isasymexists}b{\isasymin}A{\isachardot}{\kern0pt}\ {\isasymexists}nb{\isasymin}A{\isachardot}{\kern0pt}\ {\isasymexists}cnbf{\isasymin}A{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}b{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}n{\isacharcomma}{\kern0pt}b{\isacharcomma}{\kern0pt}nb{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}cons{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}nb{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}cnbf{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\isanewline
\ \ \ \ upair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}cnbf{\isacharcomma}{\kern0pt}cnbf{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}fsfm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharcomma}{\kern0pt}h{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ funspace{\isacharunderscore}{\kern0pt}succ{\isacharunderscore}{\kern0pt}rep{\isacharunderscore}{\kern0pt}intf\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}n{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymlambda}p\ z{\isachardot}{\kern0pt}\ {\isasymexists}f{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}b{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}nb{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}cnbf{\isasymin}M{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}b{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}n{\isacharcomma}{\kern0pt}b{\isacharcomma}{\kern0pt}nb{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}cons{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}nb{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}cnbf{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ upair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}cnbf{\isacharcomma}{\kern0pt}cnbf{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ fsfm\ \isakeyword{where}\isanewline
\ \ \ \ fmsats{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}f{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}b{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}nb{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}cnbf{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}b{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}b{\isacharcomma}{\kern0pt}nb{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}cons{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}nb{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}cnbf{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ upair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}cnbf{\isacharcomma}{\kern0pt}cnbf{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}fsfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isachardoublequoteopen}fsfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}fsfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isachardoublequoteclose}\ \isakeyword{for}\ env\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ funsp{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharbrackleft}{\kern0pt}of\ concl{\isacharcolon}{\kern0pt}M{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}n{\isadigit{0}}{\isasymin}M{\isachardot}{\kern0pt}\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}p\ z{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}fsfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}p{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}n{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ replacement{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}f{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}b{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}nb{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}cnbf{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}b{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}n{\isadigit{0}}{\isacharcomma}{\kern0pt}b{\isacharcomma}{\kern0pt}nb{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}cons{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}nb{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}cnbf{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ upair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}cnbf{\isacharcomma}{\kern0pt}cnbf{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}fsfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}p{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}n{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}p{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}n{\isadigit{0}}{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ p\ z\ n{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ fmsats{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}p{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}n{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}n{\isadigit{0}}{\isasymin}M{\isachardot}{\kern0pt}\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}\ p\ z{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymexists}f{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}b{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}nb{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}cnbf{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}b{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}n{\isadigit{0}}{\isacharcomma}{\kern0pt}b{\isacharcomma}{\kern0pt}nb{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}cons{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}nb{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}cnbf{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ upair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}cnbf{\isacharcomma}{\kern0pt}cnbf{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}def\ univalent{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}n{\isasymin}M{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}basic{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}instances\ {\isacharequal}{\kern0pt}\isanewline
\ \ inter{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ diff{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ cartprod{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\isanewline
\ \ image{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ converse{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ restrict{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\isanewline
\ \ pred{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ memrel{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ comp{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mbasic\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}basic{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ trans{\isacharunderscore}{\kern0pt}M\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ power{\isacharunderscore}{\kern0pt}ax\ M{\isacharunderscore}{\kern0pt}basic{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}instances\ funspace{\isacharunderscore}{\kern0pt}succ{\isacharunderscore}{\kern0pt}rep{\isacharunderscore}{\kern0pt}intf\ mtriv\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans\ {\isasymsubseteq}\ M{\isacharunderscore}{\kern0pt}basic\ {\isachardoublequoteopen}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ mbasic{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Interface with \isa{M{\isacharunderscore}{\kern0pt}trancl}%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ rtran{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}rtran{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}mem{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}B{\isacharcomma}{\kern0pt}r{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}rcfm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharcomma}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ rtran{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ rtrancl{\isacharunderscore}{\kern0pt}separation{\isacharunderscore}{\kern0pt}intf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}r{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}A{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}separation\ {\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ rtran{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}mem{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ rcfm\ \isakeyword{where}\isanewline
\ \ \ \ fmsats{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}env{\isachardot}{\kern0pt}\ env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}rtran{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}mem{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}rcfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}rcfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}rcfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ rtran{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}auto\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}a{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}rcfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}rtran{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}mem{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}rcfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ y\ x\ a\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ fmsats{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}a{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ rtran{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}mem{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}r{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ rtran{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ rp{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}rtran{\isacharunderscore}{\kern0pt}closure{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}r{\isacharcomma}{\kern0pt}rp{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}rtc{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ rtran{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ rtran{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}auto\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ trans{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ rp{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}tran{\isacharunderscore}{\kern0pt}closure{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}r{\isacharcomma}{\kern0pt}rp{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}tc{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tran{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ rtran{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimML
\isanewline
%
\endisadelimML
%
\isatagML
\isacommand{synthesize}\isamarkupfalse%
\ {\isachardoublequoteopen}trans{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}fm{\isachardoublequoteclose}\ \isakeyword{from{\isacharunderscore}{\kern0pt}schematic}\ trans{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto%
\endisatagML
{\isafoldML}%
%
\isadelimML
\isanewline
%
\endisadelimML
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ wellfounded{\isacharunderscore}{\kern0pt}trancl{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}wellfounded{\isacharunderscore}{\kern0pt}trancl{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}B{\isacharcomma}{\kern0pt}r{\isacharcomma}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}wtf{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharcomma}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ \ wellfounded{\isacharunderscore}{\kern0pt}trancl{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ trans{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ wftrancl{\isacharunderscore}{\kern0pt}separation{\isacharunderscore}{\kern0pt}intf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}r{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}Z{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}separation\ {\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ wellfounded{\isacharunderscore}{\kern0pt}trancl{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}Z{\isacharcomma}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ rcfm\ \isakeyword{where}\isanewline
\ \ \ \ fmsats{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}env{\isachardot}{\kern0pt}\ env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}wellfounded{\isacharunderscore}{\kern0pt}trancl{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}rcfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}rcfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}rcfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wellfounded{\isacharunderscore}{\kern0pt}trancl{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharbrackleft}{\kern0pt}of\ concl{\isacharcolon}{\kern0pt}M\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isacharunderscore}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ fm{\isacharunderscore}{\kern0pt}defs\ trans{\isacharunderscore}{\kern0pt}closure{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}z{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}rcfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}wellfounded{\isacharunderscore}{\kern0pt}trancl{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}rcfm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ y\ x\ z\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ fmsats{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymforall}z{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ wellfounded{\isacharunderscore}{\kern0pt}trancl{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}r{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}Z{\isasymin}M{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x{\isachardot}{\kern0pt}\ x{\isasymin}nat{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}finite{\isacharunderscore}{\kern0pt}ordinal{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}\ {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}ordinal{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ limit{\isacharunderscore}{\kern0pt}ordinal{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ empty{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ succ{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ cons{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ union{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ upair{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}abs{\isadigit{1}}\ Un{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}ax\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}v{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}finite{\isacharunderscore}{\kern0pt}ordinal{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}v{\isasymin}M{\isachardot}{\kern0pt}\ separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}finite{\isacharunderscore}{\kern0pt}ordinal{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}finite{\isacharunderscore}{\kern0pt}ordinal{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{unfolding}\isamarkupfalse%
\ separation{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}I{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymlbrakk}\ I{\isasymin}M\ {\isacharsemicolon}{\kern0pt}\ {\isadigit{0}}{\isasymin}I\ {\isacharsemicolon}{\kern0pt}\ {\isasymAnd}x{\isachardot}{\kern0pt}\ x{\isasymin}I\ {\isasymLongrightarrow}\ succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isasymin}I\ {\isasymrbrakk}\ {\isasymLongrightarrow}\ nat\ {\isasymsubseteq}\ I{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}induct{\isacharunderscore}{\kern0pt}tac\ x{\isacharcomma}{\kern0pt}simp{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}I\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymexists}I{\isasymin}M{\isachardot}{\kern0pt}\ nat\ {\isasymsubseteq}\ I{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}I{\isasymin}M{\isachardot}{\kern0pt}\ {\isadigit{0}}{\isasymin}I\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isasymin}M{\isachardot}{\kern0pt}\ x{\isasymin}I\ {\isasymlongrightarrow}\ succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isasymin}I{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ infinity{\isacharunderscore}{\kern0pt}ax\ \isacommand{unfolding}\isamarkupfalse%
\ infinity{\isacharunderscore}{\kern0pt}ax{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ I\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}I{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{0}}{\isasymin}I{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}x{\isasymin}M{\isachardot}{\kern0pt}\ x{\isasymin}I\ {\isasymlongrightarrow}\ succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isasymin}I{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x{\isasymin}I\ {\isasymLongrightarrow}\ succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isasymin}I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Transset{\isacharunderscore}{\kern0pt}intf{\isacharbrackleft}{\kern0pt}OF\ trans{\isacharunderscore}{\kern0pt}M{\isacharbrackright}{\kern0pt}\ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}nat{\isasymsubseteq}I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ {\isacartoucheopen}I{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}{\isadigit{0}}{\isasymin}I{\isacartoucheclose}\ nat{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}I{\isacharprime}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}I{\isasymin}M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}nat\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isasymin}B\ {\isachardot}{\kern0pt}\ x{\isasymin}A{\isacharbraceright}{\kern0pt}{\isacharequal}{\kern0pt}A{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}A{\isasymsubseteq}B{\isachardoublequoteclose}\ \isakeyword{for}\ A\ B\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ I\ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}I{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}nat{\isasymsubseteq}I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}I\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isasymin}I\ {\isachardot}{\kern0pt}\ x{\isasymin}nat{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}sep{\isacharunderscore}{\kern0pt}intf\ separation{\isacharunderscore}{\kern0pt}closed{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymlambda}x\ {\isachardot}{\kern0pt}\ x{\isasymin}nat{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}nat{\isasymsubseteq}I{\isacartoucheclose}\ {\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ mtrancl\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}trancl{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ \ mbasic\ rtrancl{\isacharunderscore}{\kern0pt}separation{\isacharunderscore}{\kern0pt}intf\ wftrancl{\isacharunderscore}{\kern0pt}separation{\isacharunderscore}{\kern0pt}intf\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ wellfounded{\isacharunderscore}{\kern0pt}trancl{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans\ {\isasymsubseteq}\ M{\isacharunderscore}{\kern0pt}trancl\ {\isachardoublequoteopen}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ mtrancl{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Interface with \isa{M{\isacharunderscore}{\kern0pt}eclose}%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ repl{\isacharunderscore}{\kern0pt}sats{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ sat{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}x\ z{\isachardot}{\kern0pt}\ x{\isasymin}M\ {\isasymLongrightarrow}\ z{\isasymin}M\ {\isasymLongrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymphi}{\isacharcomma}{\kern0pt}Cons{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}Cons{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ P{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x\ z{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymphi}{\isacharcomma}{\kern0pt}Cons{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}Cons{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}P{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}cong{\isacharcomma}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}sat{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}trans{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}n{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}n{\isasymin}nat{\isachardoublequoteclose}\ \isakeyword{for}\ n\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ that\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ Transset{\isacharunderscore}{\kern0pt}intf{\isacharbrackleft}{\kern0pt}OF\ trans{\isacharunderscore}{\kern0pt}M{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}repl{\isadigit{1}}{\isacharunderscore}{\kern0pt}intf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}A{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}iterates{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ n\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}n{\isasymin}nat{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}n{\isasymin}nat{\isacartoucheclose}\ nat{\isacharunderscore}{\kern0pt}trans{\isacharunderscore}{\kern0pt}M\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}n{\isasymin}nat{\isacartoucheclose}\ Memrel{\isacharunderscore}{\kern0pt}closed\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ nat{\isacharunderscore}{\kern0pt}{\isadigit{0}}I\ nat{\isacharunderscore}{\kern0pt}trans{\isacharunderscore}{\kern0pt}M\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ A{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}b{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}c{\isacharcomma}{\kern0pt}d{\isacharcomma}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}a{\isadigit{1}}{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}a{\isadigit{4}}{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}a{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}b{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}c{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}d{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{0}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{1}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{2}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{3}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{4}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{for}\ a\ b\ c\ d\ a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ a{\isadigit{3}}\ a{\isadigit{4}}\ y\ x\ z\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isadigit{1}}\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ list{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}a{\isadigit{1}}{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}a{\isadigit{4}}{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}a{\isadigit{0}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{1}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{2}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{3}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{4}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{for}\ a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ a{\isadigit{3}}\ a{\isadigit{4}}\ y\ x\ z\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ sats{\isacharunderscore}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}MH{\isacharunderscore}{\kern0pt}fm{\isacharbrackleft}{\kern0pt}of\ M\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharunderscore}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isadigit{1}}\ {\isacartoucheopen}{\isadigit{0}}{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}MH{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}wfrec{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ y\ x\ z\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ that\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm\ {\isadigit{1}}\ {\isacartoucheopen}{\isadigit{0}}{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isacharquery}{\kern0pt}f{\isacharequal}{\kern0pt}{\isachardoublequoteopen}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}MH{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ satsf{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isacharquery}{\kern0pt}f{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}wfrec{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ x\ z\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isadigit{2}}\ {\isadigit{1}}\ {\isacartoucheopen}{\isadigit{0}}{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}pair{\isacharunderscore}{\kern0pt}abs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{5}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ restriction{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ list{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ number{\isadigit{1}}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ cartprod{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ sum{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ quasinat{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ pre{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ fm{\isacharunderscore}{\kern0pt}defs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x\ z{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}f{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ replacement{\isacharunderscore}{\kern0pt}ax\ {\isadigit{1}}\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}{\isadigit{0}}{\isasymin}M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x\ z{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ repl{\isacharunderscore}{\kern0pt}sats{\isacharbrackleft}{\kern0pt}of\ M\ {\isacharquery}{\kern0pt}f\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \ satsf\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}pair{\isacharunderscore}{\kern0pt}abs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{unfolding}\isamarkupfalse%
\ iterates{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}def\ wfrec{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ iterates{\isacharunderscore}{\kern0pt}repl{\isacharunderscore}{\kern0pt}intf\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}v{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ isfm{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}F{\isacharunderscore}{\kern0pt}fm\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ arty{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}F{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}{\isacharequal}{\kern0pt}{\isadigit{2}}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ satsf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}a\ b\ env{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlbrakk}\ a{\isasymin}M\ {\isacharsemicolon}{\kern0pt}\ b{\isasymin}M\ {\isacharsemicolon}{\kern0pt}\ env{\isacharprime}{\kern0pt}{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymrbrakk}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ is{\isacharunderscore}{\kern0pt}F{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}F{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}b{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharat}{\kern0pt}env{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}iterates{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}F{\isacharcomma}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ n\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}n{\isasymin}nat{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}n{\isasymin}nat{\isacartoucheclose}\ nat{\isacharunderscore}{\kern0pt}trans{\isacharunderscore}{\kern0pt}M\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}n{\isasymin}nat{\isacartoucheclose}\ Memrel{\isacharunderscore}{\kern0pt}closed\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ a{\isadigit{3}}\ a{\isadigit{4}}\ y\ x\ z\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ as{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}a{\isadigit{0}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{1}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{2}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{3}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{4}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}F{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}b{\isacharcomma}{\kern0pt}Cons{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}Cons{\isacharparenleft}{\kern0pt}c{\isacharcomma}{\kern0pt}Cons{\isacharparenleft}{\kern0pt}d{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}a{\isadigit{1}}{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}a{\isadigit{4}}{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\ is{\isacharunderscore}{\kern0pt}F{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}a{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}b{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}c{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}d{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ a\ b\ c\ d\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ as\ that\ {\isadigit{1}}\ satsf{\isacharbrackleft}{\kern0pt}of\ a\ b\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}c{\isacharcomma}{\kern0pt}d{\isacharcomma}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}a{\isadigit{1}}{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}a{\isadigit{4}}{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ {\isacartoucheopen}v{\isasymin}M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}F{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}a{\isadigit{1}}{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}a{\isadigit{4}}{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}F{\isacharcomma}{\kern0pt}v{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ as\isanewline
\ \ \ \ \ \ \ \ \ \ sats{\isacharunderscore}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}MH{\isacharunderscore}{\kern0pt}fm{\isacharbrackleft}{\kern0pt}of\ M\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}F{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}F{\isacharunderscore}{\kern0pt}fm{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ {\isadigit{1}}\ {\isacartoucheopen}v{\isasymin}M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}MH{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}F{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}wfrec{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}F{\isacharcomma}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ y\ x\ z\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ that\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm\ {\isadigit{1}}\ {\isacartoucheopen}v{\isasymin}M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isacharquery}{\kern0pt}f{\isacharequal}{\kern0pt}{\isachardoublequoteopen}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}MH{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}F{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ satsf{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isacharquery}{\kern0pt}f{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}wfrec{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}F{\isacharcomma}{\kern0pt}v{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ x\ z\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isadigit{2}}\ {\isadigit{1}}\ {\isacartoucheopen}v{\isasymin}M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}pair{\isacharunderscore}{\kern0pt}abs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{4}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ restriction{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ pre{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ quasinat{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ fm{\isacharunderscore}{\kern0pt}defs\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ arty\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x\ z{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}f{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ replacement{\isacharunderscore}{\kern0pt}ax\ {\isadigit{1}}\ {\isacartoucheopen}v{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}is{\isacharunderscore}{\kern0pt}F{\isacharunderscore}{\kern0pt}fm{\isasymin}formula{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x\ z{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}F{\isacharcomma}{\kern0pt}v{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ repl{\isacharunderscore}{\kern0pt}sats{\isacharbrackleft}{\kern0pt}of\ M\ {\isacharquery}{\kern0pt}f\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}Memrel{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \ satsf\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}pair{\isacharunderscore}{\kern0pt}abs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{unfolding}\isamarkupfalse%
\ iterates{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}def\ wfrec{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ formula{\isacharunderscore}{\kern0pt}repl{\isadigit{1}}{\isacharunderscore}{\kern0pt}intf\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}iterates{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}formula{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ nat{\isacharunderscore}{\kern0pt}{\isadigit{0}}I\ nat{\isacharunderscore}{\kern0pt}trans{\isacharunderscore}{\kern0pt}M\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}formula{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ formula{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ fm{\isacharunderscore}{\kern0pt}defs\ sum{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ cartprod{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ number{\isadigit{1}}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}formula{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isasymin}formula{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}formula{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ formula{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}b{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}a{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}b{\isasymin}M{\isachardoublequoteclose}\ \ \isakeyword{for}\ a\ b\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isadigit{0}}{\isasymin}M{\isacartoucheclose}\ {\isadigit{1}}\ {\isadigit{2}}\ iterates{\isacharunderscore}{\kern0pt}repl{\isacharunderscore}{\kern0pt}intf\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ nth{\isacharunderscore}{\kern0pt}repl{\isacharunderscore}{\kern0pt}intf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}l\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}iterates{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}l{\isacharprime}{\kern0pt}\ t{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}tl{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}l{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}t{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}tl{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ tl{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ fm{\isacharunderscore}{\kern0pt}defs\ quasilist{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ Cons{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ Nil{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ Inr{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ number{\isadigit{1}}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ Inl{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}tl{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isasymin}formula{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}tl{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ tl{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}b{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}a{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}b{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ a\ b\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}l{\isasymin}M{\isacartoucheclose}\ {\isadigit{1}}\ {\isadigit{2}}\ iterates{\isacharunderscore}{\kern0pt}repl{\isacharunderscore}{\kern0pt}intf\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ eclose{\isacharunderscore}{\kern0pt}repl{\isadigit{1}}{\isacharunderscore}{\kern0pt}intf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}A{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}iterates{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ big{\isacharunderscore}{\kern0pt}union{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}big{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ big{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ fm{\isacharunderscore}{\kern0pt}defs\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{2}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}big{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isasymin}formula{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}big{\isacharunderscore}{\kern0pt}union{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ big{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}b{\isacharcomma}{\kern0pt}a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}a{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}b{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ a\ b\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ {\isadigit{1}}\ {\isadigit{2}}\ iterates{\isacharunderscore}{\kern0pt}repl{\isacharunderscore}{\kern0pt}intf\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}repl{\isadigit{2}}{\isacharunderscore}{\kern0pt}intf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}A{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}n\ y{\isachardot}{\kern0pt}\ n{\isasymin}nat\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}iterates{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ nat{\isacharunderscore}{\kern0pt}{\isadigit{0}}I\ nat{\isacharunderscore}{\kern0pt}trans{\isacharunderscore}{\kern0pt}M\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}b{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}c{\isacharcomma}{\kern0pt}d{\isacharcomma}{\kern0pt}e{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}g{\isacharcomma}{\kern0pt}h{\isacharcomma}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharcomma}{\kern0pt}k{\isacharcomma}{\kern0pt}n{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}a{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}b{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}c{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}d{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}e{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}f{\isasymin}M{\isachardoublequoteclose}{\isachardoublequoteopen}g{\isasymin}M{\isachardoublequoteclose}{\isachardoublequoteopen}h{\isasymin}M{\isachardoublequoteclose}{\isachardoublequoteopen}i{\isasymin}M{\isachardoublequoteclose}{\isachardoublequoteopen}j{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}k{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}n{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{for}\ a\ b\ c\ d\ e\ f\ g\ h\ i\ j\ k\ n\ y\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isacartoucheopen}{\isadigit{0}}{\isasymin}M{\isacartoucheclose}\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}n{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}\ {\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}iterates{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ n\ {\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}n{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ n\ y\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isacartoucheopen}{\isadigit{0}}{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}fm{\isacharbrackleft}{\kern0pt}of\ M\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}f\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}And{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ satsf{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isacharquery}{\kern0pt}f{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}n{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}\ {\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ n{\isasymin}nat\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}iterates{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}n{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ n\ y\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isacartoucheopen}{\isadigit{0}}{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{5}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ restriction{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ list{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ number{\isadigit{1}}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ Memrel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ cartprod{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ sum{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ quasinat{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ pre{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ fm{\isacharunderscore}{\kern0pt}defs\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}n\ y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}f{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}n{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ replacement{\isacharunderscore}{\kern0pt}ax\ {\isadigit{1}}\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}{\isadigit{0}}{\isasymin}M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ repl{\isacharunderscore}{\kern0pt}sats{\isacharbrackleft}{\kern0pt}of\ M\ {\isacharquery}{\kern0pt}f\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \ satsf\ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ formula{\isacharunderscore}{\kern0pt}repl{\isadigit{2}}{\isacharunderscore}{\kern0pt}intf{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}n\ y{\isachardot}{\kern0pt}\ n{\isasymin}nat\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}iterates{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}formula{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ nat{\isacharunderscore}{\kern0pt}{\isadigit{0}}I\ nat{\isacharunderscore}{\kern0pt}trans{\isacharunderscore}{\kern0pt}M\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}formula{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}formula{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}b{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}c{\isacharcomma}{\kern0pt}d{\isacharcomma}{\kern0pt}e{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}g{\isacharcomma}{\kern0pt}h{\isacharcomma}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharcomma}{\kern0pt}k{\isacharcomma}{\kern0pt}n{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}a{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}b{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}c{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}d{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}e{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}f{\isasymin}M{\isachardoublequoteclose}{\isachardoublequoteopen}g{\isasymin}M{\isachardoublequoteclose}{\isachardoublequoteopen}h{\isasymin}M{\isachardoublequoteclose}{\isachardoublequoteopen}i{\isasymin}M{\isachardoublequoteclose}{\isachardoublequoteopen}j{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}k{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}n{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{for}\ a\ b\ c\ d\ e\ f\ g\ h\ i\ j\ k\ n\ y\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isacartoucheopen}{\isadigit{0}}{\isasymin}M{\isacartoucheclose}\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}formula{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}n{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}\ {\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}iterates{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}formula{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ n\ {\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}n{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ n\ y\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isacartoucheopen}{\isadigit{0}}{\isasymin}M{\isacartoucheclose}\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}fm{\isacharbrackleft}{\kern0pt}of\ M\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}formula{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}f\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}And{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}formula{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ satsf{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isacharquery}{\kern0pt}f{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}n{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}\ {\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ n{\isasymin}nat\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}iterates{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}formula{\isacharunderscore}{\kern0pt}functor{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}n{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ n\ y\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isacartoucheopen}{\isadigit{0}}{\isasymin}M{\isacartoucheclose}\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ artyf{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{4}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ formula{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ fm{\isacharunderscore}{\kern0pt}defs\ sum{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ quasinat{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ cartprod{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ number{\isadigit{1}}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ Memrel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ ordinal{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ transset{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ subset{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ pre{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ restriction{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}n\ y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}f{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}n{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ replacement{\isacharunderscore}{\kern0pt}ax\ {\isadigit{1}}\ artyf\ {\isacartoucheopen}{\isadigit{0}}{\isasymin}M{\isacartoucheclose}\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ repl{\isacharunderscore}{\kern0pt}sats{\isacharbrackleft}{\kern0pt}of\ M\ {\isacharquery}{\kern0pt}f\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \ satsf\ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ eclose{\isacharunderscore}{\kern0pt}repl{\isadigit{2}}{\isacharunderscore}{\kern0pt}intf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}A{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}n\ y{\isachardot}{\kern0pt}\ n{\isasymin}nat\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}iterates{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ big{\isacharunderscore}{\kern0pt}union{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}big{\isacharunderscore}{\kern0pt}union{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}b{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}big{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}b{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}c{\isacharcomma}{\kern0pt}d{\isacharcomma}{\kern0pt}e{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}g{\isacharcomma}{\kern0pt}h{\isacharcomma}{\kern0pt}i{\isacharcomma}{\kern0pt}j{\isacharcomma}{\kern0pt}k{\isacharcomma}{\kern0pt}n{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}a{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}b{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}c{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}d{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}e{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}f{\isasymin}M{\isachardoublequoteclose}{\isachardoublequoteopen}g{\isasymin}M{\isachardoublequoteclose}{\isachardoublequoteopen}h{\isasymin}M{\isachardoublequoteclose}{\isachardoublequoteopen}i{\isasymin}M{\isachardoublequoteclose}{\isachardoublequoteopen}j{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}k{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}n{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{for}\ a\ b\ c\ d\ e\ f\ g\ h\ i\ j\ k\ n\ y\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}big{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}n{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}\ {\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}iterates{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ big{\isacharunderscore}{\kern0pt}union{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A{\isacharcomma}{\kern0pt}\ n\ {\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}n{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ n\ y\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}fm{\isacharbrackleft}{\kern0pt}of\ M\ {\isachardoublequoteopen}big{\isacharunderscore}{\kern0pt}union{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}f\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}And{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}big{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ satsf{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isacharquery}{\kern0pt}f{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}n{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}\ {\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ n{\isasymin}nat\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}iterates{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ big{\isacharunderscore}{\kern0pt}union{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ A{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}n{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ n\ y\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ artyf{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{4}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}iterates{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ formula{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ fm{\isacharunderscore}{\kern0pt}defs\ sum{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ quasinat{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ cartprod{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ number{\isadigit{1}}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ Memrel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ ordinal{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ transset{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ iterates{\isacharunderscore}{\kern0pt}MH{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ subset{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ pre{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ restriction{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}n\ y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}f{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}n{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ replacement{\isacharunderscore}{\kern0pt}ax\ {\isadigit{1}}\ artyf\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ repl{\isacharunderscore}{\kern0pt}sats{\isacharbrackleft}{\kern0pt}of\ M\ {\isacharquery}{\kern0pt}f\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}A{\isacharcomma}{\kern0pt}nat{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \ satsf\ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ mdatatypes\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}datatypes{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ \ mtrancl\ list{\isacharunderscore}{\kern0pt}repl{\isadigit{1}}{\isacharunderscore}{\kern0pt}intf\ list{\isacharunderscore}{\kern0pt}repl{\isadigit{2}}{\isacharunderscore}{\kern0pt}intf\ formula{\isacharunderscore}{\kern0pt}repl{\isadigit{1}}{\isacharunderscore}{\kern0pt}intf\isanewline
\ \ \ \ formula{\isacharunderscore}{\kern0pt}repl{\isadigit{2}}{\isacharunderscore}{\kern0pt}intf\ nth{\isacharunderscore}{\kern0pt}repl{\isacharunderscore}{\kern0pt}intf\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans\ {\isasymsubseteq}\ M{\isacharunderscore}{\kern0pt}datatypes\ {\isachardoublequoteopen}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ mdatatypes{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ meclose\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}eclose{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ mdatatypes\ eclose{\isacharunderscore}{\kern0pt}repl{\isadigit{1}}{\isacharunderscore}{\kern0pt}intf\ eclose{\isacharunderscore}{\kern0pt}repl{\isadigit{2}}{\isacharunderscore}{\kern0pt}intf\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans\ {\isasymsubseteq}\ M{\isacharunderscore}{\kern0pt}eclose\ {\isachardoublequoteopen}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ meclose{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\isanewline
\ \ powerset{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}i{\isacharcomma}{\kern0pt}i{\isacharbrackright}{\kern0pt}\ {\isasymRightarrow}\ i{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}powerset{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ Forall{\isacharparenleft}{\kern0pt}Iff{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}succ{\isacharparenleft}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}subset{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}succ{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ powerset{\isacharunderscore}{\kern0pt}type\ {\isacharbrackleft}{\kern0pt}TC{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymlbrakk}\ x\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ y\ {\isasymin}\ nat\ {\isasymrbrakk}\ {\isasymLongrightarrow}\ powerset{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}powerset{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\isanewline
\ \ is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}i{\isacharcomma}{\kern0pt}i{\isacharcomma}{\kern0pt}i{\isacharbrackright}{\kern0pt}\ {\isasymRightarrow}\ i{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isasymequiv}\isanewline
\ \ \ \ \ \ Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}fun{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Forall{\isacharparenleft}{\kern0pt}Iff{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Forall{\isacharparenleft}{\kern0pt}Implies{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}type\ {\isacharbrackleft}{\kern0pt}TC{\isacharbrackright}{\kern0pt}\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymlbrakk}f{\isasymin}nat\ {\isacharsemicolon}{\kern0pt}\ y{\isasymin}nat{\isacharsemicolon}{\kern0pt}\ z{\isasymin}nat{\isasymrbrakk}\ {\isasymLongrightarrow}\ is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isasymin}formula{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}f{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env{\isasymin}list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{0}}{\isasymin}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}powapply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}def\ powerset{\isacharunderscore}{\kern0pt}def\ subset{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ nth{\isacharunderscore}{\kern0pt}closed\ assms\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ powapply{\isacharunderscore}{\kern0pt}repl\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}f{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}powapply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}f{\isadigit{0}}{\isasymin}M{\isachardot}{\kern0pt}\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}p\ z{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}p{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}f{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ replacement{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}powapply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}f{\isadigit{0}}{\isacharcomma}{\kern0pt}p{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}p{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}f{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}p{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}f{\isadigit{0}}{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ p\ z\ f{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm{\isacharbrackleft}{\kern0pt}of\ {\isadigit{2}}\ {\isadigit{0}}\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}p{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}f{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ M{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}f{\isadigit{0}}{\isasymin}M{\isachardot}{\kern0pt}\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}powapply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}f{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}def\ univalent{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}f{\isasymin}M{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\isanewline
\ \ PHrank{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}i{\isacharcomma}{\kern0pt}i{\isacharcomma}{\kern0pt}i{\isacharbrackright}{\kern0pt}\ {\isasymRightarrow}\ i{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}PHrank{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}fun{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}succ{\isacharparenleft}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharcomma}{\kern0pt}succ{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}succ{\isacharparenleft}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ PHrank{\isacharunderscore}{\kern0pt}type\ {\isacharbrackleft}{\kern0pt}TC{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymlbrakk}\ x\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ y\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ z\ {\isasymin}\ nat\ {\isasymrbrakk}\ {\isasymLongrightarrow}\ PHrank{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}PHrank{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ sats{\isacharunderscore}{\kern0pt}PHrank{\isacharunderscore}{\kern0pt}fm\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymlbrakk}\ x\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ y\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ z\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ \ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymrbrakk}\ \isanewline
\ \ \ \ {\isasymLongrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}PHrank{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ PHrank{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ Internalizations{\isachardot}{\kern0pt}nth{\isacharunderscore}{\kern0pt}closed\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ PHrank{\isacharunderscore}{\kern0pt}def\ PHrank{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ phrank{\isacharunderscore}{\kern0pt}repl\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}f{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}PHrank{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}PHrank{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ PHrank{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}f{\isadigit{0}}{\isasymin}M{\isachardot}{\kern0pt}\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}p\ z{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}PHrank{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}p{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}f{\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ replacement{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}f{\isadigit{0}}{\isasymin}M{\isachardot}{\kern0pt}\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ PHrank{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}f{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}def\ univalent{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}f{\isasymin}M{\isacartoucheclose}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\isanewline
\ \ is{\isacharunderscore}{\kern0pt}Hrank{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}i{\isacharcomma}{\kern0pt}i{\isacharcomma}{\kern0pt}i{\isacharbrackright}{\kern0pt}\ {\isasymRightarrow}\ i{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Hrank{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}hc{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}big{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}succ{\isacharparenleft}{\kern0pt}hc{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Replace{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}PHrank{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Hrank{\isacharunderscore}{\kern0pt}type\ {\isacharbrackleft}{\kern0pt}TC{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymlbrakk}\ x\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ y\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ z\ {\isasymin}\ nat\ {\isasymrbrakk}\ {\isasymLongrightarrow}\ is{\isacharunderscore}{\kern0pt}Hrank{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}is{\isacharunderscore}{\kern0pt}Hrank{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Hrank{\isacharunderscore}{\kern0pt}fm\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymlbrakk}\ x\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ y\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ z\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isasymrbrakk}\isanewline
\ \ \ \ {\isasymLongrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}Hrank{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}Hrank{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ is{\isacharunderscore}{\kern0pt}Hrank{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}Hrank{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ sats{\isacharunderscore}{\kern0pt}Replace{\isacharunderscore}{\kern0pt}fm\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ wfrec{\isacharunderscore}{\kern0pt}rank\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}X{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}wfrec{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}Hrank{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}rrank{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Hrank{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Hrank{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}a{\isadigit{1}}{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}a{\isadigit{4}}{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}rrank{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}a{\isadigit{4}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{3}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{2}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{1}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{0}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ a{\isadigit{4}}\ a{\isadigit{3}}\ a{\isadigit{2}}\ a{\isadigit{1}}\ a{\isadigit{0}}\ y\ x\ z\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ rrank{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacartoucheopen}X{\isasymin}M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}Hrank{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}rrank{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isasymlongleftrightarrow}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Hrank{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}rrank{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ y\ x\ z\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isacartoucheopen}X{\isasymin}M{\isacartoucheclose}\ rrank{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\isanewline
\ \ \ \ {\isacharquery}{\kern0pt}f{\isacharequal}{\kern0pt}{\isachardoublequoteopen}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}Hrank{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ satsf{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isacharquery}{\kern0pt}f{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}rrank{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Hrank{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ rrank{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ x\ z\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isadigit{1}}\ {\isacartoucheopen}X{\isasymin}M{\isacartoucheclose}\ rrank{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}pair{\isacharunderscore}{\kern0pt}abs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}Hrank{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ PHrank{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ restriction{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ list{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ number{\isadigit{1}}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ cartprod{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ sum{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ quasinat{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ pre{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ fm{\isacharunderscore}{\kern0pt}defs\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x\ z{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}f{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}rrank{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ replacement{\isacharunderscore}{\kern0pt}ax\ {\isadigit{1}}\ {\isacartoucheopen}X{\isasymin}M{\isacartoucheclose}\ rrank{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x\ z{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Hrank{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ rrank{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ repl{\isacharunderscore}{\kern0pt}sats{\isacharbrackleft}{\kern0pt}of\ M\ {\isacharquery}{\kern0pt}f\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}rrank{\isacharparenleft}{\kern0pt}X{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \ satsf\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}pair{\isacharunderscore}{\kern0pt}abs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{unfolding}\isamarkupfalse%
\ wfrec{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\isanewline
\ \ is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}i{\isacharcomma}{\kern0pt}i{\isacharcomma}{\kern0pt}i{\isacharcomma}{\kern0pt}i{\isacharbrackright}{\kern0pt}\ {\isasymRightarrow}\ i{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}h{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}union{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}A\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}h\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ And{\isacharparenleft}{\kern0pt}big{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Replace{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}type\ {\isacharbrackleft}{\kern0pt}TC{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymlbrakk}\ A{\isasymin}nat{\isacharsemicolon}{\kern0pt}\ x\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ f\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ h\ {\isasymin}\ nat\ {\isasymrbrakk}\ {\isasymLongrightarrow}\ is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}h{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymlbrakk}\ a{\isasymin}nat{\isacharsemicolon}{\kern0pt}\ x\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ f\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ h\ {\isasymin}\ nat{\isacharsemicolon}{\kern0pt}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\ {\isadigit{0}}{\isasymin}A{\isasymrbrakk}\isanewline
\ \ \ \ {\isasymLongrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}h{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}HVfrom{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}h{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ sats{\isacharunderscore}{\kern0pt}Replace{\isacharunderscore}{\kern0pt}fm{\isacharbrackleft}{\kern0pt}OF\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ aa{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ xx{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ff{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}h{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ hh{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}a{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}f{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}h{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env{\isasymin}list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{0}}{\isasymin}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}HVfrom{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}aa{\isacharcomma}{\kern0pt}xx{\isacharcomma}{\kern0pt}ff{\isacharcomma}{\kern0pt}hh{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}f{\isacharcomma}{\kern0pt}h{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}fm\ \isacommand{by}\isamarkupfalse%
\ simp%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Vset{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}i{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}v{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env{\isasymin}list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{0}}{\isasymin}A{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Vset{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}nth{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}ivs{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Vset{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}Vfrom{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms{\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats\ is{\isacharunderscore}{\kern0pt}transrec{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Vset{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ii{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vv{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}v{\isasymin}nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}env{\isasymin}list{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{0}}{\isasymin}A{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Vset{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}A{\isacharcomma}{\kern0pt}ii{\isacharcomma}{\kern0pt}vv{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ {\isacharquery}{\kern0pt}ivs{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ {\isacartoucheopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ii{\isacartoucheclose}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ {\isacartoucheopen}nth{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vv{\isacartoucheclose}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Vset{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ memrel{\isacharunderscore}{\kern0pt}eclose{\isacharunderscore}{\kern0pt}sing\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}a{\isasymin}M\ {\isasymLongrightarrow}\ {\isasymexists}sa{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}esa{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}mesa{\isasymin}M{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ upair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}a{\isacharcomma}{\kern0pt}sa{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}eclose{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}sa{\isacharcomma}{\kern0pt}esa{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ membership{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}esa{\isacharcomma}{\kern0pt}mesa{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ upair{\isacharunderscore}{\kern0pt}ax\ eclose{\isacharunderscore}{\kern0pt}closed\ Memrel{\isacharunderscore}{\kern0pt}closed\ \isacommand{unfolding}\isamarkupfalse%
\ upair{\isacharunderscore}{\kern0pt}ax{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}upair{\isacharunderscore}{\kern0pt}abs{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ trans{\isacharunderscore}{\kern0pt}repl{\isacharunderscore}{\kern0pt}HVFrom\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}A{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}i{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}transrec{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}HVfrom{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\ \isacommand{fix}\isamarkupfalse%
\ mesa\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}mesa{\isasymin}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isadigit{0}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}HVfrom{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}a{\isadigit{1}}{\isacharcomma}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}a{\isadigit{4}}{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}mesa{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}a{\isadigit{4}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{3}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{2}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{1}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a{\isadigit{0}}{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ a{\isadigit{4}}\ a{\isadigit{3}}\ a{\isadigit{2}}\ a{\isadigit{1}}\ a{\isadigit{0}}\ y\ x\ z\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}fm\ {\isacartoucheopen}mesa{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}mesa{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}HVfrom{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}mesa{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ y\ x\ z\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}mesa{\isasymin}M{\isacartoucheclose}\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharbrackleft}{\kern0pt}OF\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isacharquery}{\kern0pt}f{\isacharequal}{\kern0pt}{\isachardoublequoteopen}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ satsf{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isacharquery}{\kern0pt}f{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}mesa{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}HVfrom{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ mesa{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ x\ z\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ {\isadigit{1}}\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}mesa{\isasymin}M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}pair{\isacharunderscore}{\kern0pt}abs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}{\isacharquery}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{4}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}HVfrom{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}case{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ restriction{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ list{\isacharunderscore}{\kern0pt}functor{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ number{\isadigit{1}}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ cartprod{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ is{\isacharunderscore}{\kern0pt}powapply{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ sum{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ quasinat{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ pre{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ fm{\isacharunderscore}{\kern0pt}defs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x\ z{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}f{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}z{\isacharcomma}{\kern0pt}A{\isacharcomma}{\kern0pt}mesa{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ replacement{\isacharunderscore}{\kern0pt}ax\ {\isadigit{1}}\ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ {\isacartoucheopen}mesa{\isasymin}M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x\ z{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharcomma}{\kern0pt}z{\isacharparenright}{\kern0pt}\ {\isacharampersand}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}HVfrom{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ mesa{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ repl{\isacharunderscore}{\kern0pt}sats{\isacharbrackleft}{\kern0pt}of\ M\ {\isacharquery}{\kern0pt}f\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}A{\isacharcomma}{\kern0pt}mesa{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \ satsf\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}pair{\isacharunderscore}{\kern0pt}abs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}wfrec{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}HVfrom{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}mesa{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ wfrec{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}def\ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{unfolding}\isamarkupfalse%
\ transrec{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}i{\isasymin}M{\isacartoucheclose}\ memrel{\isacharunderscore}{\kern0pt}eclose{\isacharunderscore}{\kern0pt}sing\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ meclose{\isacharunderscore}{\kern0pt}pow\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}eclose{\isacharunderscore}{\kern0pt}pow{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ meclose\ power{\isacharunderscore}{\kern0pt}ax\ powapply{\isacharunderscore}{\kern0pt}repl\ phrank{\isacharunderscore}{\kern0pt}repl\ trans{\isacharunderscore}{\kern0pt}repl{\isacharunderscore}{\kern0pt}HVFrom\ wfrec{\isacharunderscore}{\kern0pt}rank\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ unfold{\isacharunderscore}{\kern0pt}locales\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{sublocale}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans\ {\isasymsubseteq}\ M{\isacharunderscore}{\kern0pt}eclose{\isacharunderscore}{\kern0pt}pow\ {\isachardoublequoteopen}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ meclose{\isacharunderscore}{\kern0pt}pow{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ repl{\isacharunderscore}{\kern0pt}gen\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}abs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x\ y{\isachardot}{\kern0pt}\ {\isasymlbrakk}\ x{\isasymin}M{\isacharsemicolon}{\kern0pt}\ y{\isasymin}M\ {\isasymrbrakk}\ {\isasymLongrightarrow}\ is{\isacharunderscore}{\kern0pt}F{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ y\ {\isacharequal}{\kern0pt}\ f{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}sats{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x\ y{\isachardot}{\kern0pt}\ {\isasymlbrakk}x{\isasymin}M\ {\isacharsemicolon}{\kern0pt}\ y{\isasymin}M\ {\isasymrbrakk}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}f{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}Cons{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}Cons{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ is{\isacharunderscore}{\kern0pt}F{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}form{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f{\isacharunderscore}{\kern0pt}fm\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\kern0pt}arty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}f{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x\ y{\isachardot}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ f{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}f{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharat}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ is{\isacharunderscore}{\kern0pt}F{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}x{\isasymin}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}y{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{for}\ x\ y\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\ f{\isacharunderscore}{\kern0pt}sats{\isacharbrackleft}{\kern0pt}of\ x\ y{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}form\ f{\isacharunderscore}{\kern0pt}arty\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x\ y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}f{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharat}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ replacement{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}F{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymlambda}x\ y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}f{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharat}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}F{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}abs\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}F{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymlambda}x\ y{\isachardot}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ f{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ M{\isacharunderscore}{\kern0pt}ZF{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ sep{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymphi}\ {\isasymin}\ formula{\isachardoublequoteclose}\ {\isachardoublequoteopen}env{\isasymin}list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{1}}\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}A{\isasymin}M{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ satsQ{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x{\isasymin}M\ {\isasymLongrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymphi}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}{\isacharat}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ Q{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}y{\isasymin}A\ {\isachardot}{\kern0pt}\ Q{\isacharparenleft}{\kern0pt}y{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isasymin}M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymphi}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ separation{\isacharunderscore}{\kern0pt}ax\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isacartoucheopen}A{\isasymin}M{\isacartoucheclose}\ satsQ\ trans{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ separation{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymlambda}y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isasymphi}{\isacharcomma}{\kern0pt}{\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharat}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Q{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ separation{\isacharunderscore}{\kern0pt}closed\ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/source/repos/ZF-notAC/code/Forcing/Interface.thy%:%
%:%11=1%:%
%:%23=3%:%
%:%24=4%:%
%:%25=5%:%
%:%26=6%:%
%:%27=7%:%
%:%35=9%:%
%:%36=9%:%
%:%37=10%:%
%:%38=11%:%
%:%39=12%:%
%:%40=13%:%
%:%41=14%:%
%:%48=14%:%
%:%49=15%:%
%:%50=16%:%
%:%51=16%:%
%:%52=17%:%
%:%53=18%:%
%:%54=18%:%
%:%55=19%:%
%:%56=20%:%
%:%57=21%:%
%:%58=21%:%
%:%59=22%:%
%:%60=23%:%
%:%61=24%:%
%:%62=24%:%
%:%63=25%:%
%:%64=26%:%
%:%65=27%:%
%:%66=27%:%
%:%67=28%:%
%:%68=29%:%
%:%69=30%:%
%:%70=30%:%
%:%71=31%:%
%:%72=32%:%
%:%73=33%:%
%:%74=33%:%
%:%75=34%:%
%:%76=35%:%
%:%77=36%:%
%:%78=37%:%
%:%79=37%:%
%:%80=38%:%
%:%81=39%:%
%:%82=40%:%
%:%83=41%:%
%:%84=42%:%
%:%85=42%:%
%:%86=43%:%
%:%87=44%:%
%:%88=45%:%
%:%89=46%:%
%:%90=46%:%
%:%91=47%:%
%:%92=48%:%
%:%93=48%:%
%:%94=49%:%
%:%97=50%:%
%:%101=50%:%
%:%102=50%:%
%:%103=51%:%
%:%104=51%:%
%:%109=51%:%
%:%112=52%:%
%:%113=53%:%
%:%114=53%:%
%:%115=54%:%
%:%116=55%:%
%:%117=55%:%
%:%118=56%:%
%:%119=57%:%
%:%121=59%:%
%:%122=60%:%
%:%123=61%:%
%:%124=61%:%
%:%125=62%:%
%:%126=63%:%
%:%129=64%:%
%:%133=64%:%
%:%134=64%:%
%:%139=64%:%
%:%142=65%:%
%:%143=66%:%
%:%144=66%:%
%:%145=67%:%
%:%148=68%:%
%:%152=68%:%
%:%153=68%:%
%:%158=68%:%
%:%161=69%:%
%:%162=70%:%
%:%163=70%:%
%:%164=71%:%
%:%165=72%:%
%:%166=73%:%
%:%167=74%:%
%:%168=75%:%
%:%169=76%:%
%:%170=77%:%
%:%171=78%:%
%:%172=79%:%
%:%173=80%:%
%:%174=81%:%
%:%175=82%:%
%:%176=83%:%
%:%177=84%:%
%:%178=85%:%
%:%179=86%:%
%:%180=87%:%
%:%181=87%:%
%:%182=88%:%
%:%185=89%:%
%:%189=89%:%
%:%190=89%:%
%:%195=89%:%
%:%198=90%:%
%:%199=91%:%
%:%200=91%:%
%:%207=92%:%
%:%208=92%:%
%:%209=93%:%
%:%210=93%:%
%:%211=93%:%
%:%212=94%:%
%:%213=95%:%
%:%214=95%:%
%:%215=96%:%
%:%216=96%:%
%:%217=96%:%
%:%218=97%:%
%:%219=98%:%
%:%220=98%:%
%:%221=99%:%
%:%222=99%:%
%:%223=99%:%
%:%224=100%:%
%:%225=100%:%
%:%226=101%:%
%:%227=101%:%
%:%228=101%:%
%:%229=102%:%
%:%230=102%:%
%:%231=103%:%
%:%246=105%:%
%:%256=106%:%
%:%257=106%:%
%:%258=107%:%
%:%261=108%:%
%:%265=108%:%
%:%266=108%:%
%:%267=109%:%
%:%268=109%:%
%:%273=109%:%
%:%276=110%:%
%:%277=111%:%
%:%278=112%:%
%:%279=112%:%
%:%280=113%:%
%:%283=114%:%
%:%287=114%:%
%:%288=114%:%
%:%289=115%:%
%:%290=115%:%
%:%295=115%:%
%:%298=116%:%
%:%299=117%:%
%:%300=117%:%
%:%301=118%:%
%:%302=119%:%
%:%303=119%:%
%:%306=120%:%
%:%310=120%:%
%:%311=120%:%
%:%316=120%:%
%:%319=121%:%
%:%320=122%:%
%:%321=122%:%
%:%322=123%:%
%:%329=125%:%
%:%339=128%:%
%:%340=128%:%
%:%341=129%:%
%:%342=130%:%
%:%343=131%:%
%:%344=132%:%
%:%345=133%:%
%:%348=134%:%
%:%352=134%:%
%:%353=134%:%
%:%358=134%:%
%:%361=135%:%
%:%362=136%:%
%:%363=136%:%
%:%364=137%:%
%:%365=138%:%
%:%366=139%:%
%:%367=140%:%
%:%374=141%:%
%:%375=141%:%
%:%376=142%:%
%:%377=142%:%
%:%378=143%:%
%:%379=144%:%
%:%380=145%:%
%:%381=146%:%
%:%382=147%:%
%:%383=148%:%
%:%384=149%:%
%:%385=149%:%
%:%386=150%:%
%:%387=150%:%
%:%388=151%:%
%:%389=151%:%
%:%390=152%:%
%:%391=152%:%
%:%392=153%:%
%:%393=153%:%
%:%394=153%:%
%:%395=154%:%
%:%396=154%:%
%:%397=155%:%
%:%398=155%:%
%:%399=156%:%
%:%400=157%:%
%:%401=157%:%
%:%402=157%:%
%:%403=158%:%
%:%404=158%:%
%:%405=159%:%
%:%406=159%:%
%:%407=160%:%
%:%408=160%:%
%:%409=160%:%
%:%410=161%:%
%:%411=161%:%
%:%412=161%:%
%:%413=161%:%
%:%414=162%:%
%:%420=162%:%
%:%423=163%:%
%:%424=164%:%
%:%425=165%:%
%:%426=166%:%
%:%427=166%:%
%:%428=167%:%
%:%429=168%:%
%:%430=169%:%
%:%431=170%:%
%:%432=171%:%
%:%435=172%:%
%:%439=172%:%
%:%440=172%:%
%:%445=172%:%
%:%448=173%:%
%:%449=174%:%
%:%450=174%:%
%:%451=175%:%
%:%452=176%:%
%:%453=177%:%
%:%454=178%:%
%:%461=179%:%
%:%462=179%:%
%:%463=180%:%
%:%464=180%:%
%:%465=181%:%
%:%466=182%:%
%:%467=183%:%
%:%468=184%:%
%:%469=185%:%
%:%470=186%:%
%:%471=187%:%
%:%472=187%:%
%:%473=188%:%
%:%474=188%:%
%:%475=189%:%
%:%476=189%:%
%:%477=190%:%
%:%478=190%:%
%:%479=191%:%
%:%480=191%:%
%:%481=191%:%
%:%482=192%:%
%:%483=192%:%
%:%484=193%:%
%:%485=193%:%
%:%486=194%:%
%:%487=195%:%
%:%488=195%:%
%:%489=195%:%
%:%490=196%:%
%:%491=196%:%
%:%492=197%:%
%:%493=197%:%
%:%494=198%:%
%:%495=198%:%
%:%496=198%:%
%:%497=199%:%
%:%498=199%:%
%:%499=199%:%
%:%500=199%:%
%:%501=200%:%
%:%507=200%:%
%:%510=201%:%
%:%511=202%:%
%:%512=202%:%
%:%513=203%:%
%:%514=204%:%
%:%515=205%:%
%:%516=206%:%
%:%517=207%:%
%:%520=208%:%
%:%524=208%:%
%:%525=208%:%
%:%530=208%:%
%:%533=209%:%
%:%534=210%:%
%:%535=211%:%
%:%536=211%:%
%:%537=212%:%
%:%538=213%:%
%:%539=214%:%
%:%540=215%:%
%:%541=216%:%
%:%542=217%:%
%:%549=218%:%
%:%550=218%:%
%:%551=219%:%
%:%552=219%:%
%:%553=220%:%
%:%555=222%:%
%:%556=223%:%
%:%557=224%:%
%:%558=225%:%
%:%559=226%:%
%:%560=227%:%
%:%561=227%:%
%:%562=227%:%
%:%563=228%:%
%:%564=228%:%
%:%565=229%:%
%:%566=229%:%
%:%567=230%:%
%:%568=230%:%
%:%569=230%:%
%:%570=231%:%
%:%571=231%:%
%:%572=232%:%
%:%573=232%:%
%:%574=233%:%
%:%575=234%:%
%:%576=234%:%
%:%577=234%:%
%:%578=235%:%
%:%579=235%:%
%:%580=236%:%
%:%581=236%:%
%:%582=237%:%
%:%583=237%:%
%:%584=237%:%
%:%585=238%:%
%:%586=238%:%
%:%587=238%:%
%:%588=238%:%
%:%589=239%:%
%:%595=239%:%
%:%598=240%:%
%:%599=241%:%
%:%600=241%:%
%:%601=242%:%
%:%602=243%:%
%:%603=244%:%
%:%604=245%:%
%:%605=246%:%
%:%608=247%:%
%:%612=247%:%
%:%613=247%:%
%:%618=247%:%
%:%621=248%:%
%:%622=249%:%
%:%623=249%:%
%:%624=250%:%
%:%625=251%:%
%:%626=252%:%
%:%627=253%:%
%:%628=254%:%
%:%629=255%:%
%:%636=256%:%
%:%637=256%:%
%:%638=257%:%
%:%639=257%:%
%:%640=258%:%
%:%642=260%:%
%:%643=261%:%
%:%644=262%:%
%:%645=263%:%
%:%646=264%:%
%:%647=265%:%
%:%648=265%:%
%:%649=265%:%
%:%650=266%:%
%:%651=266%:%
%:%652=267%:%
%:%653=267%:%
%:%654=268%:%
%:%655=268%:%
%:%656=268%:%
%:%657=269%:%
%:%658=269%:%
%:%659=270%:%
%:%660=270%:%
%:%661=271%:%
%:%662=272%:%
%:%663=272%:%
%:%664=272%:%
%:%665=273%:%
%:%666=273%:%
%:%667=274%:%
%:%668=274%:%
%:%669=275%:%
%:%670=275%:%
%:%671=275%:%
%:%672=276%:%
%:%673=276%:%
%:%674=276%:%
%:%675=276%:%
%:%676=277%:%
%:%682=277%:%
%:%685=278%:%
%:%686=279%:%
%:%687=279%:%
%:%688=280%:%
%:%689=281%:%
%:%690=282%:%
%:%691=283%:%
%:%692=284%:%
%:%693=285%:%
%:%696=286%:%
%:%700=286%:%
%:%701=286%:%
%:%706=286%:%
%:%709=287%:%
%:%710=288%:%
%:%711=289%:%
%:%712=289%:%
%:%713=290%:%
%:%714=291%:%
%:%715=292%:%
%:%716=293%:%
%:%723=294%:%
%:%724=294%:%
%:%725=295%:%
%:%726=295%:%
%:%727=296%:%
%:%729=298%:%
%:%730=299%:%
%:%731=300%:%
%:%732=301%:%
%:%733=302%:%
%:%734=303%:%
%:%735=303%:%
%:%736=303%:%
%:%737=304%:%
%:%738=304%:%
%:%739=305%:%
%:%740=305%:%
%:%741=306%:%
%:%742=306%:%
%:%743=306%:%
%:%744=307%:%
%:%745=307%:%
%:%746=308%:%
%:%747=308%:%
%:%748=309%:%
%:%749=310%:%
%:%750=311%:%
%:%751=311%:%
%:%752=311%:%
%:%753=312%:%
%:%754=312%:%
%:%755=313%:%
%:%756=313%:%
%:%757=314%:%
%:%758=314%:%
%:%759=314%:%
%:%760=315%:%
%:%761=315%:%
%:%762=315%:%
%:%763=315%:%
%:%764=316%:%
%:%770=316%:%
%:%773=317%:%
%:%774=318%:%
%:%775=319%:%
%:%776=319%:%
%:%777=320%:%
%:%778=321%:%
%:%779=322%:%
%:%780=323%:%
%:%781=324%:%
%:%782=325%:%
%:%785=326%:%
%:%789=326%:%
%:%790=326%:%
%:%795=326%:%
%:%798=327%:%
%:%799=328%:%
%:%800=329%:%
%:%801=329%:%
%:%802=330%:%
%:%803=331%:%
%:%804=332%:%
%:%805=333%:%
%:%812=334%:%
%:%813=334%:%
%:%814=335%:%
%:%815=335%:%
%:%816=336%:%
%:%818=338%:%
%:%819=339%:%
%:%820=340%:%
%:%821=341%:%
%:%822=342%:%
%:%823=343%:%
%:%824=343%:%
%:%825=343%:%
%:%826=344%:%
%:%827=344%:%
%:%828=345%:%
%:%829=345%:%
%:%830=346%:%
%:%831=346%:%
%:%832=346%:%
%:%833=347%:%
%:%834=347%:%
%:%835=348%:%
%:%836=348%:%
%:%837=349%:%
%:%838=350%:%
%:%839=351%:%
%:%840=351%:%
%:%841=351%:%
%:%842=352%:%
%:%843=352%:%
%:%844=353%:%
%:%845=353%:%
%:%846=354%:%
%:%847=354%:%
%:%848=354%:%
%:%849=355%:%
%:%850=355%:%
%:%851=355%:%
%:%852=355%:%
%:%853=356%:%
%:%859=356%:%
%:%862=357%:%
%:%863=358%:%
%:%864=358%:%
%:%865=359%:%
%:%866=360%:%
%:%867=361%:%
%:%868=362%:%
%:%869=363%:%
%:%871=365%:%
%:%874=366%:%
%:%878=366%:%
%:%879=366%:%
%:%884=366%:%
%:%887=367%:%
%:%888=368%:%
%:%889=369%:%
%:%890=369%:%
%:%891=370%:%
%:%892=371%:%
%:%893=372%:%
%:%894=373%:%
%:%895=374%:%
%:%896=375%:%
%:%897=376%:%
%:%904=377%:%
%:%905=377%:%
%:%906=378%:%
%:%907=378%:%
%:%908=379%:%
%:%911=382%:%
%:%912=383%:%
%:%913=384%:%
%:%914=385%:%
%:%915=386%:%
%:%916=387%:%
%:%917=387%:%
%:%918=387%:%
%:%919=388%:%
%:%920=388%:%
%:%921=389%:%
%:%922=389%:%
%:%923=390%:%
%:%924=390%:%
%:%925=390%:%
%:%926=391%:%
%:%927=391%:%
%:%928=392%:%
%:%929=392%:%
%:%931=394%:%
%:%932=395%:%
%:%933=396%:%
%:%934=396%:%
%:%935=396%:%
%:%936=397%:%
%:%937=397%:%
%:%938=398%:%
%:%939=398%:%
%:%940=399%:%
%:%941=400%:%
%:%942=400%:%
%:%943=400%:%
%:%944=401%:%
%:%945=401%:%
%:%946=401%:%
%:%947=401%:%
%:%948=402%:%
%:%954=402%:%
%:%957=403%:%
%:%958=404%:%
%:%959=405%:%
%:%960=405%:%
%:%961=406%:%
%:%962=407%:%
%:%963=408%:%
%:%964=409%:%
%:%965=410%:%
%:%968=411%:%
%:%972=411%:%
%:%973=411%:%
%:%978=411%:%
%:%981=412%:%
%:%982=413%:%
%:%983=414%:%
%:%984=414%:%
%:%985=415%:%
%:%986=416%:%
%:%987=417%:%
%:%988=418%:%
%:%989=419%:%
%:%990=420%:%
%:%997=421%:%
%:%998=421%:%
%:%999=422%:%
%:%1000=422%:%
%:%1001=423%:%
%:%1002=424%:%
%:%1003=425%:%
%:%1004=426%:%
%:%1005=427%:%
%:%1006=428%:%
%:%1007=429%:%
%:%1008=429%:%
%:%1009=429%:%
%:%1010=430%:%
%:%1011=430%:%
%:%1012=431%:%
%:%1013=431%:%
%:%1014=432%:%
%:%1015=432%:%
%:%1016=432%:%
%:%1017=433%:%
%:%1018=433%:%
%:%1019=434%:%
%:%1020=434%:%
%:%1021=435%:%
%:%1022=436%:%
%:%1023=437%:%
%:%1024=437%:%
%:%1025=437%:%
%:%1026=438%:%
%:%1027=438%:%
%:%1028=439%:%
%:%1029=439%:%
%:%1030=440%:%
%:%1031=440%:%
%:%1032=440%:%
%:%1033=441%:%
%:%1034=441%:%
%:%1035=441%:%
%:%1036=441%:%
%:%1037=442%:%
%:%1043=442%:%
%:%1046=443%:%
%:%1047=446%:%
%:%1048=447%:%
%:%1049=447%:%
%:%1050=448%:%
%:%1051=449%:%
%:%1052=450%:%
%:%1053=451%:%
%:%1056=452%:%
%:%1060=452%:%
%:%1061=452%:%
%:%1066=452%:%
%:%1069=453%:%
%:%1070=454%:%
%:%1071=454%:%
%:%1072=455%:%
%:%1079=456%:%
%:%1080=456%:%
%:%1081=457%:%
%:%1082=457%:%
%:%1083=458%:%
%:%1084=459%:%
%:%1085=460%:%
%:%1086=461%:%
%:%1087=462%:%
%:%1088=463%:%
%:%1089=464%:%
%:%1090=464%:%
%:%1091=464%:%
%:%1092=465%:%
%:%1093=465%:%
%:%1094=466%:%
%:%1095=466%:%
%:%1096=467%:%
%:%1097=467%:%
%:%1098=467%:%
%:%1099=468%:%
%:%1100=468%:%
%:%1101=469%:%
%:%1102=469%:%
%:%1103=470%:%
%:%1104=471%:%
%:%1105=471%:%
%:%1106=471%:%
%:%1107=472%:%
%:%1108=472%:%
%:%1109=473%:%
%:%1110=473%:%
%:%1111=474%:%
%:%1112=474%:%
%:%1113=474%:%
%:%1114=475%:%
%:%1115=475%:%
%:%1116=475%:%
%:%1117=475%:%
%:%1118=476%:%
%:%1124=476%:%
%:%1127=477%:%
%:%1128=478%:%
%:%1129=478%:%
%:%1130=479%:%
%:%1131=480%:%
%:%1132=481%:%
%:%1133=482%:%
%:%1134=483%:%
%:%1136=485%:%
%:%1139=486%:%
%:%1143=486%:%
%:%1144=486%:%
%:%1149=486%:%
%:%1152=487%:%
%:%1153=488%:%
%:%1154=489%:%
%:%1155=489%:%
%:%1156=490%:%
%:%1157=491%:%
%:%1158=492%:%
%:%1159=493%:%
%:%1162=496%:%
%:%1169=497%:%
%:%1170=497%:%
%:%1171=498%:%
%:%1172=498%:%
%:%1173=499%:%
%:%1177=503%:%
%:%1178=504%:%
%:%1179=505%:%
%:%1180=506%:%
%:%1181=507%:%
%:%1182=508%:%
%:%1183=508%:%
%:%1184=508%:%
%:%1185=509%:%
%:%1186=509%:%
%:%1187=510%:%
%:%1188=510%:%
%:%1189=511%:%
%:%1190=512%:%
%:%1191=512%:%
%:%1192=512%:%
%:%1193=513%:%
%:%1194=513%:%
%:%1195=514%:%
%:%1196=514%:%
%:%1198=516%:%
%:%1199=517%:%
%:%1200=518%:%
%:%1201=518%:%
%:%1202=518%:%
%:%1203=519%:%
%:%1204=519%:%
%:%1205=520%:%
%:%1206=520%:%
%:%1208=522%:%
%:%1209=523%:%
%:%1210=523%:%
%:%1211=523%:%
%:%1212=524%:%
%:%1213=524%:%
%:%1214=524%:%
%:%1215=524%:%
%:%1216=525%:%
%:%1222=525%:%
%:%1225=526%:%
%:%1226=527%:%
%:%1227=528%:%
%:%1228=529%:%
%:%1229=530%:%
%:%1230=530%:%
%:%1231=531%:%
%:%1232=532%:%
%:%1233=533%:%
%:%1234=534%:%
%:%1235=535%:%
%:%1236=536%:%
%:%1239=537%:%
%:%1243=537%:%
%:%1244=537%:%
%:%1249=537%:%
%:%1252=538%:%
%:%1253=539%:%
%:%1254=540%:%
%:%1255=540%:%
%:%1256=541%:%
%:%1257=542%:%
%:%1258=543%:%
%:%1259=544%:%
%:%1262=547%:%
%:%1269=548%:%
%:%1270=548%:%
%:%1271=549%:%
%:%1272=549%:%
%:%1273=550%:%
%:%1276=553%:%
%:%1277=554%:%
%:%1278=555%:%
%:%1279=555%:%
%:%1280=555%:%
%:%1281=556%:%
%:%1282=556%:%
%:%1283=557%:%
%:%1284=557%:%
%:%1285=558%:%
%:%1286=558%:%
%:%1287=558%:%
%:%1288=559%:%
%:%1289=559%:%
%:%1290=560%:%
%:%1291=560%:%
%:%1293=562%:%
%:%1294=563%:%
%:%1295=564%:%
%:%1296=564%:%
%:%1297=564%:%
%:%1298=565%:%
%:%1299=565%:%
%:%1300=566%:%
%:%1301=566%:%
%:%1303=568%:%
%:%1304=569%:%
%:%1305=569%:%
%:%1306=569%:%
%:%1307=570%:%
%:%1308=570%:%
%:%1309=570%:%
%:%1310=570%:%
%:%1311=571%:%
%:%1317=571%:%
%:%1320=572%:%
%:%1321=573%:%
%:%1322=574%:%
%:%1323=575%:%
%:%1324=576%:%
%:%1325=576%:%
%:%1326=577%:%
%:%1327=578%:%
%:%1328=579%:%
%:%1329=580%:%
%:%1330=581%:%
%:%1331=581%:%
%:%1334=582%:%
%:%1338=582%:%
%:%1339=582%:%
%:%1340=583%:%
%:%1341=583%:%
%:%1346=583%:%
%:%1349=584%:%
%:%1350=585%:%
%:%1351=585%:%
%:%1352=586%:%
%:%1353=587%:%
%:%1354=587%:%
%:%1357=588%:%
%:%1361=588%:%
%:%1362=588%:%
%:%1376=590%:%
%:%1386=593%:%
%:%1387=593%:%
%:%1388=594%:%
%:%1389=595%:%
%:%1390=596%:%
%:%1391=597%:%
%:%1392=598%:%
%:%1395=599%:%
%:%1399=599%:%
%:%1400=599%:%
%:%1401=600%:%
%:%1402=600%:%
%:%1407=600%:%
%:%1410=601%:%
%:%1411=602%:%
%:%1412=603%:%
%:%1413=603%:%
%:%1414=604%:%
%:%1415=605%:%
%:%1416=606%:%
%:%1417=607%:%
%:%1418=608%:%
%:%1419=609%:%
%:%1426=610%:%
%:%1427=610%:%
%:%1428=611%:%
%:%1429=611%:%
%:%1430=612%:%
%:%1431=613%:%
%:%1432=614%:%
%:%1433=615%:%
%:%1434=616%:%
%:%1435=617%:%
%:%1436=618%:%
%:%1437=618%:%
%:%1438=618%:%
%:%1439=619%:%
%:%1440=619%:%
%:%1441=620%:%
%:%1442=620%:%
%:%1443=621%:%
%:%1444=621%:%
%:%1445=621%:%
%:%1446=622%:%
%:%1447=622%:%
%:%1448=623%:%
%:%1449=623%:%
%:%1450=624%:%
%:%1451=625%:%
%:%1452=626%:%
%:%1453=626%:%
%:%1454=626%:%
%:%1455=627%:%
%:%1456=627%:%
%:%1457=628%:%
%:%1458=628%:%
%:%1459=629%:%
%:%1460=629%:%
%:%1461=629%:%
%:%1462=630%:%
%:%1463=630%:%
%:%1464=630%:%
%:%1465=630%:%
%:%1466=631%:%
%:%1472=631%:%
%:%1475=632%:%
%:%1476=633%:%
%:%1477=633%:%
%:%1478=634%:%
%:%1479=635%:%
%:%1480=636%:%
%:%1481=637%:%
%:%1482=638%:%
%:%1485=639%:%
%:%1489=639%:%
%:%1490=639%:%
%:%1491=640%:%
%:%1492=640%:%
%:%1497=640%:%
%:%1500=641%:%
%:%1501=642%:%
%:%1502=642%:%
%:%1503=643%:%
%:%1504=644%:%
%:%1505=645%:%
%:%1506=646%:%
%:%1507=647%:%
%:%1510=648%:%
%:%1514=648%:%
%:%1515=648%:%
%:%1516=649%:%
%:%1517=649%:%
%:%1522=649%:%
%:%1527=650%:%
%:%1532=651%:%
%:%1533=651%:%
%:%1538=651%:%
%:%1541=652%:%
%:%1542=653%:%
%:%1543=653%:%
%:%1544=654%:%
%:%1545=655%:%
%:%1546=656%:%
%:%1547=657%:%
%:%1548=658%:%
%:%1551=659%:%
%:%1555=659%:%
%:%1556=659%:%
%:%1557=660%:%
%:%1558=660%:%
%:%1563=660%:%
%:%1566=661%:%
%:%1567=662%:%
%:%1568=662%:%
%:%1569=663%:%
%:%1570=664%:%
%:%1571=665%:%
%:%1572=666%:%
%:%1573=667%:%
%:%1574=668%:%
%:%1581=669%:%
%:%1582=669%:%
%:%1583=670%:%
%:%1584=670%:%
%:%1585=671%:%
%:%1586=672%:%
%:%1587=673%:%
%:%1588=674%:%
%:%1589=675%:%
%:%1590=676%:%
%:%1591=677%:%
%:%1592=677%:%
%:%1593=677%:%
%:%1594=678%:%
%:%1595=678%:%
%:%1596=679%:%
%:%1597=679%:%
%:%1598=680%:%
%:%1599=680%:%
%:%1600=681%:%
%:%1601=681%:%
%:%1602=681%:%
%:%1603=682%:%
%:%1604=682%:%
%:%1605=683%:%
%:%1606=683%:%
%:%1607=684%:%
%:%1608=685%:%
%:%1609=686%:%
%:%1610=686%:%
%:%1611=686%:%
%:%1612=687%:%
%:%1613=687%:%
%:%1614=688%:%
%:%1615=688%:%
%:%1616=689%:%
%:%1617=689%:%
%:%1618=689%:%
%:%1619=690%:%
%:%1620=690%:%
%:%1621=690%:%
%:%1622=690%:%
%:%1623=691%:%
%:%1629=691%:%
%:%1632=692%:%
%:%1633=693%:%
%:%1634=694%:%
%:%1635=695%:%
%:%1636=695%:%
%:%1637=696%:%
%:%1644=697%:%
%:%1645=697%:%
%:%1646=698%:%
%:%1647=698%:%
%:%1648=699%:%
%:%1649=699%:%
%:%1650=700%:%
%:%1651=701%:%
%:%1652=701%:%
%:%1653=702%:%
%:%1654=702%:%
%:%1655=703%:%
%:%1656=703%:%
%:%1657=704%:%
%:%1658=704%:%
%:%1659=705%:%
%:%1660=705%:%
%:%1661=705%:%
%:%1662=706%:%
%:%1663=706%:%
%:%1664=706%:%
%:%1665=707%:%
%:%1666=707%:%
%:%1667=707%:%
%:%1668=708%:%
%:%1669=708%:%
%:%1670=708%:%
%:%1671=709%:%
%:%1672=709%:%
%:%1673=709%:%
%:%1674=709%:%
%:%1675=709%:%
%:%1676=710%:%
%:%1682=710%:%
%:%1685=711%:%
%:%1686=712%:%
%:%1687=713%:%
%:%1688=713%:%
%:%1689=714%:%
%:%1692=715%:%
%:%1696=715%:%
%:%1697=715%:%
%:%1702=715%:%
%:%1705=716%:%
%:%1706=717%:%
%:%1707=718%:%
%:%1708=718%:%
%:%1709=719%:%
%:%1716=720%:%
%:%1717=720%:%
%:%1718=721%:%
%:%1719=721%:%
%:%1720=722%:%
%:%1721=722%:%
%:%1722=722%:%
%:%1723=722%:%
%:%1724=723%:%
%:%1725=723%:%
%:%1726=723%:%
%:%1727=724%:%
%:%1728=725%:%
%:%1729=725%:%
%:%1730=726%:%
%:%1731=726%:%
%:%1732=726%:%
%:%1733=727%:%
%:%1734=727%:%
%:%1735=727%:%
%:%1736=728%:%
%:%1737=728%:%
%:%1738=728%:%
%:%1739=729%:%
%:%1740=729%:%
%:%1741=729%:%
%:%1742=730%:%
%:%1743=730%:%
%:%1744=730%:%
%:%1745=730%:%
%:%1746=730%:%
%:%1747=731%:%
%:%1753=731%:%
%:%1756=732%:%
%:%1757=733%:%
%:%1758=733%:%
%:%1759=734%:%
%:%1766=735%:%
%:%1767=735%:%
%:%1768=736%:%
%:%1769=736%:%
%:%1770=737%:%
%:%1771=737%:%
%:%1772=737%:%
%:%1773=738%:%
%:%1774=738%:%
%:%1775=739%:%
%:%1776=740%:%
%:%1777=740%:%
%:%1778=740%:%
%:%1779=741%:%
%:%1780=741%:%
%:%1781=741%:%
%:%1782=742%:%
%:%1783=742%:%
%:%1784=742%:%
%:%1785=743%:%
%:%1786=743%:%
%:%1787=743%:%
%:%1788=744%:%
%:%1789=744%:%
%:%1790=744%:%
%:%1791=745%:%
%:%1797=745%:%
%:%1800=746%:%
%:%1801=747%:%
%:%1802=748%:%
%:%1803=749%:%
%:%1804=749%:%
%:%1807=750%:%
%:%1811=750%:%
%:%1812=750%:%
%:%1813=751%:%
%:%1814=752%:%
%:%1815=752%:%
%:%1820=752%:%
%:%1823=753%:%
%:%1824=754%:%
%:%1825=754%:%
%:%1828=755%:%
%:%1832=755%:%
%:%1833=755%:%
%:%1847=757%:%
%:%1857=759%:%
%:%1858=759%:%
%:%1859=760%:%
%:%1860=761%:%
%:%1861=762%:%
%:%1862=763%:%
%:%1863=764%:%
%:%1866=765%:%
%:%1870=765%:%
%:%1871=765%:%
%:%1876=765%:%
%:%1879=766%:%
%:%1880=767%:%
%:%1881=767%:%
%:%1882=768%:%
%:%1885=769%:%
%:%1889=769%:%
%:%1890=769%:%
%:%1891=769%:%
%:%1896=769%:%
%:%1899=770%:%
%:%1900=771%:%
%:%1901=771%:%
%:%1902=772%:%
%:%1903=773%:%
%:%1904=774%:%
%:%1905=775%:%
%:%1912=776%:%
%:%1913=776%:%
%:%1914=777%:%
%:%1915=777%:%
%:%1916=778%:%
%:%1917=778%:%
%:%1918=779%:%
%:%1919=779%:%
%:%1920=780%:%
%:%1921=780%:%
%:%1922=781%:%
%:%1923=781%:%
%:%1924=781%:%
%:%1925=782%:%
%:%1926=782%:%
%:%1927=782%:%
%:%1928=783%:%
%:%1929=783%:%
%:%1930=783%:%
%:%1931=784%:%
%:%1932=784%:%
%:%1933=785%:%
%:%1934=785%:%
%:%1935=785%:%
%:%1936=786%:%
%:%1937=786%:%
%:%1938=786%:%
%:%1939=787%:%
%:%1940=788%:%
%:%1941=789%:%
%:%1942=790%:%
%:%1943=790%:%
%:%1944=790%:%
%:%1945=791%:%
%:%1946=791%:%
%:%1947=791%:%
%:%1948=792%:%
%:%1949=793%:%
%:%1950=794%:%
%:%1951=795%:%
%:%1952=795%:%
%:%1953=795%:%
%:%1954=796%:%
%:%1955=796%:%
%:%1956=796%:%
%:%1959=799%:%
%:%1960=800%:%
%:%1961=801%:%
%:%1962=801%:%
%:%1963=801%:%
%:%1964=802%:%
%:%1965=802%:%
%:%1966=803%:%
%:%1967=804%:%
%:%1968=805%:%
%:%1969=805%:%
%:%1972=808%:%
%:%1973=809%:%
%:%1974=810%:%
%:%1975=810%:%
%:%1976=810%:%
%:%1977=811%:%
%:%1978=811%:%
%:%1979=812%:%
%:%1980=812%:%
%:%1981=813%:%
%:%1982=814%:%
%:%1983=815%:%
%:%1984=815%:%
%:%1985=816%:%
%:%1986=816%:%
%:%1987=817%:%
%:%1988=817%:%
%:%1989=818%:%
%:%1990=818%:%
%:%1991=818%:%
%:%1992=819%:%
%:%1993=819%:%
%:%1994=820%:%
%:%1995=820%:%
%:%1997=822%:%
%:%1998=823%:%
%:%1999=823%:%
%:%2000=823%:%
%:%2001=824%:%
%:%2002=824%:%
%:%2003=825%:%
%:%2004=825%:%
%:%2005=826%:%
%:%2006=826%:%
%:%2007=826%:%
%:%2008=826%:%
%:%2009=827%:%
%:%2015=827%:%
%:%2018=828%:%
%:%2019=829%:%
%:%2020=830%:%
%:%2021=831%:%
%:%2022=832%:%
%:%2023=832%:%
%:%2024=833%:%
%:%2025=834%:%
%:%2026=835%:%
%:%2027=836%:%
%:%2028=837%:%
%:%2029=838%:%
%:%2030=839%:%
%:%2031=840%:%
%:%2038=841%:%
%:%2039=841%:%
%:%2040=842%:%
%:%2041=842%:%
%:%2042=843%:%
%:%2043=843%:%
%:%2044=844%:%
%:%2045=844%:%
%:%2046=845%:%
%:%2047=845%:%
%:%2048=846%:%
%:%2049=846%:%
%:%2050=846%:%
%:%2051=847%:%
%:%2052=847%:%
%:%2053=847%:%
%:%2054=848%:%
%:%2055=848%:%
%:%2056=848%:%
%:%2057=849%:%
%:%2058=849%:%
%:%2059=850%:%
%:%2060=850%:%
%:%2061=851%:%
%:%2062=851%:%
%:%2063=852%:%
%:%2064=852%:%
%:%2065=853%:%
%:%2066=854%:%
%:%2067=855%:%
%:%2068=855%:%
%:%2069=855%:%
%:%2070=856%:%
%:%2071=856%:%
%:%2072=857%:%
%:%2073=857%:%
%:%2074=858%:%
%:%2075=859%:%
%:%2076=859%:%
%:%2077=860%:%
%:%2078=860%:%
%:%2079=861%:%
%:%2080=861%:%
%:%2081=862%:%
%:%2082=862%:%
%:%2083=862%:%
%:%2086=865%:%
%:%2087=866%:%
%:%2088=867%:%
%:%2089=867%:%
%:%2090=867%:%
%:%2091=868%:%
%:%2092=868%:%
%:%2093=869%:%
%:%2094=870%:%
%:%2095=871%:%
%:%2096=871%:%
%:%2099=874%:%
%:%2100=875%:%
%:%2101=876%:%
%:%2102=876%:%
%:%2103=876%:%
%:%2104=877%:%
%:%2105=877%:%
%:%2106=878%:%
%:%2107=878%:%
%:%2108=879%:%
%:%2109=880%:%
%:%2110=880%:%
%:%2111=880%:%
%:%2112=881%:%
%:%2113=881%:%
%:%2114=882%:%
%:%2115=882%:%
%:%2116=883%:%
%:%2117=883%:%
%:%2118=883%:%
%:%2119=884%:%
%:%2120=884%:%
%:%2121=885%:%
%:%2122=885%:%
%:%2124=887%:%
%:%2125=888%:%
%:%2126=888%:%
%:%2127=888%:%
%:%2128=889%:%
%:%2129=889%:%
%:%2130=890%:%
%:%2131=890%:%
%:%2132=891%:%
%:%2133=891%:%
%:%2134=891%:%
%:%2135=891%:%
%:%2136=892%:%
%:%2142=892%:%
%:%2145=893%:%
%:%2146=894%:%
%:%2147=894%:%
%:%2148=895%:%
%:%2155=896%:%
%:%2156=896%:%
%:%2157=897%:%
%:%2158=897%:%
%:%2159=898%:%
%:%2160=898%:%
%:%2161=898%:%
%:%2162=899%:%
%:%2163=899%:%
%:%2164=900%:%
%:%2165=900%:%
%:%2166=901%:%
%:%2167=901%:%
%:%2168=902%:%
%:%2169=902%:%
%:%2170=902%:%
%:%2171=903%:%
%:%2172=903%:%
%:%2173=904%:%
%:%2174=905%:%
%:%2175=906%:%
%:%2176=906%:%
%:%2177=906%:%
%:%2178=907%:%
%:%2179=907%:%
%:%2180=907%:%
%:%2181=907%:%
%:%2182=907%:%
%:%2183=908%:%
%:%2189=908%:%
%:%2192=909%:%
%:%2193=910%:%
%:%2194=910%:%
%:%2195=911%:%
%:%2196=912%:%
%:%2197=913%:%
%:%2198=914%:%
%:%2205=915%:%
%:%2206=915%:%
%:%2207=916%:%
%:%2208=916%:%
%:%2209=917%:%
%:%2210=917%:%
%:%2211=918%:%
%:%2212=918%:%
%:%2213=919%:%
%:%2214=919%:%
%:%2215=919%:%
%:%2216=920%:%
%:%2217=920%:%
%:%2218=921%:%
%:%2219=922%:%
%:%2220=922%:%
%:%2221=922%:%
%:%2222=923%:%
%:%2223=923%:%
%:%2224=923%:%
%:%2225=923%:%
%:%2226=923%:%
%:%2227=924%:%
%:%2233=924%:%
%:%2236=925%:%
%:%2237=926%:%
%:%2238=927%:%
%:%2239=927%:%
%:%2240=928%:%
%:%2241=929%:%
%:%2242=930%:%
%:%2243=931%:%
%:%2250=932%:%
%:%2251=932%:%
%:%2252=933%:%
%:%2253=933%:%
%:%2254=934%:%
%:%2255=934%:%
%:%2256=934%:%
%:%2257=935%:%
%:%2258=935%:%
%:%2259=935%:%
%:%2260=936%:%
%:%2261=936%:%
%:%2262=937%:%
%:%2263=938%:%
%:%2264=938%:%
%:%2265=938%:%
%:%2266=939%:%
%:%2267=939%:%
%:%2268=939%:%
%:%2269=939%:%
%:%2270=939%:%
%:%2271=940%:%
%:%2277=940%:%
%:%2280=941%:%
%:%2281=947%:%
%:%2282=948%:%
%:%2283=948%:%
%:%2284=949%:%
%:%2285=950%:%
%:%2286=951%:%
%:%2287=952%:%
%:%2294=953%:%
%:%2295=953%:%
%:%2296=954%:%
%:%2297=954%:%
%:%2298=955%:%
%:%2299=955%:%
%:%2300=955%:%
%:%2301=956%:%
%:%2302=956%:%
%:%2303=957%:%
%:%2304=958%:%
%:%2305=959%:%
%:%2306=960%:%
%:%2307=960%:%
%:%2308=960%:%
%:%2309=961%:%
%:%2310=961%:%
%:%2311=962%:%
%:%2312=962%:%
%:%2313=963%:%
%:%2314=964%:%
%:%2315=965%:%
%:%2316=965%:%
%:%2317=966%:%
%:%2318=966%:%
%:%2319=967%:%
%:%2320=967%:%
%:%2321=968%:%
%:%2322=968%:%
%:%2323=969%:%
%:%2324=970%:%
%:%2325=971%:%
%:%2326=971%:%
%:%2327=971%:%
%:%2328=972%:%
%:%2329=972%:%
%:%2330=973%:%
%:%2331=973%:%
%:%2332=974%:%
%:%2333=975%:%
%:%2334=976%:%
%:%2335=976%:%
%:%2336=977%:%
%:%2337=977%:%
%:%2338=978%:%
%:%2339=978%:%
%:%2340=979%:%
%:%2341=979%:%
%:%2342=979%:%
%:%2343=980%:%
%:%2344=980%:%
%:%2345=981%:%
%:%2346=981%:%
%:%2347=981%:%
%:%2348=981%:%
%:%2349=982%:%
%:%2355=982%:%
%:%2358=983%:%
%:%2359=984%:%
%:%2360=984%:%
%:%2361=985%:%
%:%2368=986%:%
%:%2369=986%:%
%:%2370=987%:%
%:%2371=987%:%
%:%2372=988%:%
%:%2373=988%:%
%:%2374=988%:%
%:%2375=989%:%
%:%2376=989%:%
%:%2377=990%:%
%:%2378=991%:%
%:%2379=992%:%
%:%2380=993%:%
%:%2381=993%:%
%:%2382=993%:%
%:%2383=994%:%
%:%2384=994%:%
%:%2385=995%:%
%:%2386=995%:%
%:%2387=996%:%
%:%2388=997%:%
%:%2389=998%:%
%:%2390=998%:%
%:%2391=999%:%
%:%2392=999%:%
%:%2393=1000%:%
%:%2394=1000%:%
%:%2395=1001%:%
%:%2396=1001%:%
%:%2397=1002%:%
%:%2398=1003%:%
%:%2399=1004%:%
%:%2400=1004%:%
%:%2401=1004%:%
%:%2402=1005%:%
%:%2403=1005%:%
%:%2404=1006%:%
%:%2405=1006%:%
%:%2406=1007%:%
%:%2407=1008%:%
%:%2408=1009%:%
%:%2409=1010%:%
%:%2410=1010%:%
%:%2411=1011%:%
%:%2412=1011%:%
%:%2413=1012%:%
%:%2414=1012%:%
%:%2415=1013%:%
%:%2416=1013%:%
%:%2417=1013%:%
%:%2418=1014%:%
%:%2419=1014%:%
%:%2420=1015%:%
%:%2421=1015%:%
%:%2422=1015%:%
%:%2423=1015%:%
%:%2424=1016%:%
%:%2430=1016%:%
%:%2433=1017%:%
%:%2434=1018%:%
%:%2435=1022%:%
%:%2436=1023%:%
%:%2437=1024%:%
%:%2438=1024%:%
%:%2439=1025%:%
%:%2440=1026%:%
%:%2441=1027%:%
%:%2442=1028%:%
%:%2449=1029%:%
%:%2450=1029%:%
%:%2451=1030%:%
%:%2452=1030%:%
%:%2453=1031%:%
%:%2454=1032%:%
%:%2455=1033%:%
%:%2456=1034%:%
%:%2457=1034%:%
%:%2458=1034%:%
%:%2459=1035%:%
%:%2460=1035%:%
%:%2461=1036%:%
%:%2462=1036%:%
%:%2463=1037%:%
%:%2464=1038%:%
%:%2465=1039%:%
%:%2466=1039%:%
%:%2467=1040%:%
%:%2468=1040%:%
%:%2469=1041%:%
%:%2470=1041%:%
%:%2471=1042%:%
%:%2472=1042%:%
%:%2473=1043%:%
%:%2474=1044%:%
%:%2475=1045%:%
%:%2476=1045%:%
%:%2477=1045%:%
%:%2478=1046%:%
%:%2479=1046%:%
%:%2480=1047%:%
%:%2481=1047%:%
%:%2482=1048%:%
%:%2483=1049%:%
%:%2484=1050%:%
%:%2485=1051%:%
%:%2486=1051%:%
%:%2487=1052%:%
%:%2488=1052%:%
%:%2489=1053%:%
%:%2490=1053%:%
%:%2491=1054%:%
%:%2492=1054%:%
%:%2493=1054%:%
%:%2494=1055%:%
%:%2495=1055%:%
%:%2496=1056%:%
%:%2497=1056%:%
%:%2498=1056%:%
%:%2499=1056%:%
%:%2500=1057%:%
%:%2506=1057%:%
%:%2509=1058%:%
%:%2510=1059%:%
%:%2511=1059%:%
%:%2514=1060%:%
%:%2518=1060%:%
%:%2519=1060%:%
%:%2520=1061%:%
%:%2521=1062%:%
%:%2522=1062%:%
%:%2527=1062%:%
%:%2530=1063%:%
%:%2531=1064%:%
%:%2532=1064%:%
%:%2535=1065%:%
%:%2539=1065%:%
%:%2540=1065%:%
%:%2545=1065%:%
%:%2548=1066%:%
%:%2549=1067%:%
%:%2550=1067%:%
%:%2553=1068%:%
%:%2557=1068%:%
%:%2558=1068%:%
%:%2559=1069%:%
%:%2560=1069%:%
%:%2565=1069%:%
%:%2568=1070%:%
%:%2569=1071%:%
%:%2570=1071%:%
%:%2573=1072%:%
%:%2577=1072%:%
%:%2578=1072%:%
%:%2583=1072%:%
%:%2586=1073%:%
%:%2587=1074%:%
%:%2588=1075%:%
%:%2589=1076%:%
%:%2590=1077%:%
%:%2591=1077%:%
%:%2592=1078%:%
%:%2593=1079%:%
%:%2594=1080%:%
%:%2595=1081%:%
%:%2596=1081%:%
%:%2597=1082%:%
%:%2600=1083%:%
%:%2604=1083%:%
%:%2605=1083%:%
%:%2610=1083%:%
%:%2613=1084%:%
%:%2614=1085%:%
%:%2615=1085%:%
%:%2616=1086%:%
%:%2617=1087%:%
%:%2620=1090%:%
%:%2621=1091%:%
%:%2622=1092%:%
%:%2623=1092%:%
%:%2624=1093%:%
%:%2627=1094%:%
%:%2631=1094%:%
%:%2632=1094%:%
%:%2633=1094%:%
%:%2638=1094%:%
%:%2641=1095%:%
%:%2642=1096%:%
%:%2643=1096%:%
%:%2644=1097%:%
%:%2645=1098%:%
%:%2646=1099%:%
%:%2647=1100%:%
%:%2648=1101%:%
%:%2651=1102%:%
%:%2655=1102%:%
%:%2656=1102%:%
%:%2657=1103%:%
%:%2658=1103%:%
%:%2659=1103%:%
%:%2664=1103%:%
%:%2667=1104%:%
%:%2668=1105%:%
%:%2669=1106%:%
%:%2670=1106%:%
%:%2671=1107%:%
%:%2672=1108%:%
%:%2673=1109%:%
%:%2674=1110%:%
%:%2681=1111%:%
%:%2682=1111%:%
%:%2683=1112%:%
%:%2684=1112%:%
%:%2685=1113%:%
%:%2686=1113%:%
%:%2687=1114%:%
%:%2688=1114%:%
%:%2689=1115%:%
%:%2690=1115%:%
%:%2691=1116%:%
%:%2692=1116%:%
%:%2693=1117%:%
%:%2694=1117%:%
%:%2695=1117%:%
%:%2696=1118%:%
%:%2697=1118%:%
%:%2698=1119%:%
%:%2699=1119%:%
%:%2700=1120%:%
%:%2701=1121%:%
%:%2702=1121%:%
%:%2703=1121%:%
%:%2704=1122%:%
%:%2705=1122%:%
%:%2706=1123%:%
%:%2707=1123%:%
%:%2708=1124%:%
%:%2709=1124%:%
%:%2710=1124%:%
%:%2711=1125%:%
%:%2712=1125%:%
%:%2713=1125%:%
%:%2714=1125%:%
%:%2715=1126%:%
%:%2721=1126%:%
%:%2724=1127%:%
%:%2725=1128%:%
%:%2726=1129%:%
%:%2727=1130%:%
%:%2728=1130%:%
%:%2729=1131%:%
%:%2730=1132%:%
%:%2731=1133%:%
%:%2732=1134%:%
%:%2733=1135%:%
%:%2734=1135%:%
%:%2735=1136%:%
%:%2738=1137%:%
%:%2742=1137%:%
%:%2743=1137%:%
%:%2748=1137%:%
%:%2751=1138%:%
%:%2752=1139%:%
%:%2753=1140%:%
%:%2754=1140%:%
%:%2755=1141%:%
%:%2757=1143%:%
%:%2760=1144%:%
%:%2764=1144%:%
%:%2765=1144%:%
%:%2766=1144%:%
%:%2771=1144%:%
%:%2774=1145%:%
%:%2775=1146%:%
%:%2776=1147%:%
%:%2777=1147%:%
%:%2778=1148%:%
%:%2779=1149%:%
%:%2780=1150%:%
%:%2781=1151%:%
%:%2788=1152%:%
%:%2789=1152%:%
%:%2790=1153%:%
%:%2791=1153%:%
%:%2792=1154%:%
%:%2793=1154%:%
%:%2794=1155%:%
%:%2795=1155%:%
%:%2796=1156%:%
%:%2797=1156%:%
%:%2798=1157%:%
%:%2799=1157%:%
%:%2800=1158%:%
%:%2801=1158%:%
%:%2802=1158%:%
%:%2803=1159%:%
%:%2804=1159%:%
%:%2805=1160%:%
%:%2806=1160%:%
%:%2807=1161%:%
%:%2808=1161%:%
%:%2809=1161%:%
%:%2810=1162%:%
%:%2811=1162%:%
%:%2812=1162%:%
%:%2813=1162%:%
%:%2814=1163%:%
%:%2820=1163%:%
%:%2823=1164%:%
%:%2824=1165%:%
%:%2825=1166%:%
%:%2826=1167%:%
%:%2827=1167%:%
%:%2828=1168%:%
%:%2829=1169%:%
%:%2830=1170%:%
%:%2831=1171%:%
%:%2832=1172%:%
%:%2833=1172%:%
%:%2834=1173%:%
%:%2837=1174%:%
%:%2841=1174%:%
%:%2842=1174%:%
%:%2847=1174%:%
%:%2850=1175%:%
%:%2851=1176%:%
%:%2852=1176%:%
%:%2853=1177%:%
%:%2855=1179%:%
%:%2858=1180%:%
%:%2862=1180%:%
%:%2863=1180%:%
%:%2864=1181%:%
%:%2865=1181%:%
%:%2870=1181%:%
%:%2873=1182%:%
%:%2874=1183%:%
%:%2875=1184%:%
%:%2876=1184%:%
%:%2877=1185%:%
%:%2878=1186%:%
%:%2879=1187%:%
%:%2880=1188%:%
%:%2887=1189%:%
%:%2888=1189%:%
%:%2889=1190%:%
%:%2890=1190%:%
%:%2891=1191%:%
%:%2892=1192%:%
%:%2893=1193%:%
%:%2894=1194%:%
%:%2895=1194%:%
%:%2896=1194%:%
%:%2897=1195%:%
%:%2898=1195%:%
%:%2899=1196%:%
%:%2900=1196%:%
%:%2901=1197%:%
%:%2902=1198%:%
%:%2903=1199%:%
%:%2904=1200%:%
%:%2905=1200%:%
%:%2906=1200%:%
%:%2907=1201%:%
%:%2908=1201%:%
%:%2909=1202%:%
%:%2910=1203%:%
%:%2911=1203%:%
%:%2912=1204%:%
%:%2913=1205%:%
%:%2914=1206%:%
%:%2915=1206%:%
%:%2916=1206%:%
%:%2917=1207%:%
%:%2918=1207%:%
%:%2919=1208%:%
%:%2920=1208%:%
%:%2921=1209%:%
%:%2922=1210%:%
%:%2923=1211%:%
%:%2924=1211%:%
%:%2925=1212%:%
%:%2926=1212%:%
%:%2927=1213%:%
%:%2928=1213%:%
%:%2929=1214%:%
%:%2930=1214%:%
%:%2931=1214%:%
%:%2932=1215%:%
%:%2933=1215%:%
%:%2934=1216%:%
%:%2935=1216%:%
%:%2936=1217%:%
%:%2937=1218%:%
%:%2938=1218%:%
%:%2939=1218%:%
%:%2940=1219%:%
%:%2941=1219%:%
%:%2942=1220%:%
%:%2943=1220%:%
%:%2944=1220%:%
%:%2945=1220%:%
%:%2946=1221%:%
%:%2952=1221%:%
%:%2955=1222%:%
%:%2956=1224%:%
%:%2957=1225%:%
%:%2958=1225%:%
%:%2959=1226%:%
%:%2960=1227%:%
%:%2962=1229%:%
%:%2963=1230%:%
%:%2964=1231%:%
%:%2965=1231%:%
%:%2966=1232%:%
%:%2969=1233%:%
%:%2973=1233%:%
%:%2974=1233%:%
%:%2979=1233%:%
%:%2982=1234%:%
%:%2983=1235%:%
%:%2984=1235%:%
%:%2985=1236%:%
%:%2987=1238%:%
%:%2990=1239%:%
%:%2994=1239%:%
%:%2995=1239%:%
%:%2996=1240%:%
%:%2997=1240%:%
%:%3002=1240%:%
%:%3005=1241%:%
%:%3006=1242%:%
%:%3007=1242%:%
%:%3008=1243%:%
%:%3009=1244%:%
%:%3010=1245%:%
%:%3011=1246%:%
%:%3012=1247%:%
%:%3015=1248%:%
%:%3019=1248%:%
%:%3020=1248%:%
%:%3021=1248%:%
%:%3026=1248%:%
%:%3029=1249%:%
%:%3030=1250%:%
%:%3031=1251%:%
%:%3032=1251%:%
%:%3033=1252%:%
%:%3034=1253%:%
%:%3035=1254%:%
%:%3036=1255%:%
%:%3037=1256%:%
%:%3038=1257%:%
%:%3041=1258%:%
%:%3045=1258%:%
%:%3046=1258%:%
%:%3047=1259%:%
%:%3048=1259%:%
%:%3053=1259%:%
%:%3056=1260%:%
%:%3057=1261%:%
%:%3058=1261%:%
%:%3059=1262%:%
%:%3060=1263%:%
%:%3061=1264%:%
%:%3062=1265%:%
%:%3063=1266%:%
%:%3064=1267%:%
%:%3067=1268%:%
%:%3071=1268%:%
%:%3072=1268%:%
%:%3073=1269%:%
%:%3074=1269%:%
%:%3079=1269%:%
%:%3082=1270%:%
%:%3083=1271%:%
%:%3084=1272%:%
%:%3085=1272%:%
%:%3086=1273%:%
%:%3087=1274%:%
%:%3090=1275%:%
%:%3094=1275%:%
%:%3095=1275%:%
%:%3096=1275%:%
%:%3097=1276%:%
%:%3098=1276%:%
%:%3103=1276%:%
%:%3106=1277%:%
%:%3107=1278%:%
%:%3108=1279%:%
%:%3109=1279%:%
%:%3110=1280%:%
%:%3111=1281%:%
%:%3112=1282%:%
%:%3113=1283%:%
%:%3120=1284%:%
%:%3121=1284%:%
%:%3122=1285%:%
%:%3123=1285%:%
%:%3124=1285%:%
%:%3125=1286%:%
%:%3126=1286%:%
%:%3127=1287%:%
%:%3128=1287%:%
%:%3129=1288%:%
%:%3130=1289%:%
%:%3131=1290%:%
%:%3132=1291%:%
%:%3133=1291%:%
%:%3134=1291%:%
%:%3135=1292%:%
%:%3136=1292%:%
%:%3137=1293%:%
%:%3138=1294%:%
%:%3139=1295%:%
%:%3140=1296%:%
%:%3141=1296%:%
%:%3142=1296%:%
%:%3143=1297%:%
%:%3144=1297%:%
%:%3145=1298%:%
%:%3146=1299%:%
%:%3147=1299%:%
%:%3148=1300%:%
%:%3149=1301%:%
%:%3150=1302%:%
%:%3151=1302%:%
%:%3152=1302%:%
%:%3153=1303%:%
%:%3154=1303%:%
%:%3155=1304%:%
%:%3156=1304%:%
%:%3157=1305%:%
%:%3158=1306%:%
%:%3159=1307%:%
%:%3160=1307%:%
%:%3161=1308%:%
%:%3162=1308%:%
%:%3163=1309%:%
%:%3164=1309%:%
%:%3165=1310%:%
%:%3166=1310%:%
%:%3167=1310%:%
%:%3168=1311%:%
%:%3169=1311%:%
%:%3170=1312%:%
%:%3171=1312%:%
%:%3172=1313%:%
%:%3173=1314%:%
%:%3174=1314%:%
%:%3175=1314%:%
%:%3176=1315%:%
%:%3177=1315%:%
%:%3178=1316%:%
%:%3179=1316%:%
%:%3180=1317%:%
%:%3181=1317%:%
%:%3182=1317%:%
%:%3183=1318%:%
%:%3184=1318%:%
%:%3185=1319%:%
%:%3186=1319%:%
%:%3187=1319%:%
%:%3188=1319%:%
%:%3189=1320%:%
%:%3190=1320%:%
%:%3191=1320%:%
%:%3192=1321%:%
%:%3198=1321%:%
%:%3201=1322%:%
%:%3202=1323%:%
%:%3203=1324%:%
%:%3204=1324%:%
%:%3207=1325%:%
%:%3211=1325%:%
%:%3212=1325%:%
%:%3213=1326%:%
%:%3214=1326%:%
%:%3219=1326%:%
%:%3222=1327%:%
%:%3223=1328%:%
%:%3224=1328%:%
%:%3227=1329%:%
%:%3231=1329%:%
%:%3232=1329%:%
%:%3237=1329%:%
%:%3240=1330%:%
%:%3241=1331%:%
%:%3242=1331%:%
%:%3243=1332%:%
%:%3244=1333%:%
%:%3245=1334%:%
%:%3246=1335%:%
%:%3247=1336%:%
%:%3248=1337%:%
%:%3249=1338%:%
%:%3250=1339%:%
%:%3251=1340%:%
%:%3252=1341%:%
%:%3253=1342%:%
%:%3254=1343%:%
%:%3255=1344%:%
%:%3262=1345%:%
%:%3263=1345%:%
%:%3264=1346%:%
%:%3265=1346%:%
%:%3266=1347%:%
%:%3267=1347%:%
%:%3268=1347%:%
%:%3269=1348%:%
%:%3270=1348%:%
%:%3271=1349%:%
%:%3272=1349%:%
%:%3273=1350%:%
%:%3274=1350%:%
%:%3275=1351%:%
%:%3276=1351%:%
%:%3277=1351%:%
%:%3278=1352%:%
%:%3279=1352%:%
%:%3280=1353%:%
%:%3281=1353%:%
%:%3282=1354%:%
%:%3283=1354%:%
%:%3284=1354%:%
%:%3285=1355%:%
%:%3286=1355%:%
%:%3287=1355%:%
%:%3288=1356%:%
%:%3289=1356%:%
%:%3290=1356%:%
%:%3291=1357%:%
%:%3297=1357%:%
%:%3300=1358%:%
%:%3301=1359%:%
%:%3302=1360%:%
%:%3303=1360%:%
%:%3304=1361%:%
%:%3305=1362%:%
%:%3306=1363%:%
%:%3307=1364%:%
%:%3308=1365%:%
%:%3309=1366%:%
%:%3316=1367%:%
%:%3317=1367%:%
%:%3318=1368%:%
%:%3319=1368%:%
%:%3320=1369%:%
%:%3321=1369%:%
%:%3322=1369%:%
%:%3323=1370%:%
%:%3324=1370%:%
%:%3325=1370%:%
%:%3326=1370%:%
%:%3327=1371%:%
%:%3328=1372%:%
%:%3329=1373%:%
%:%3330=1373%:%
%:%3331=1374%:%
%:%3337=1374%:%
%:%3342=1375%:%
%:%3347=1376%:%
