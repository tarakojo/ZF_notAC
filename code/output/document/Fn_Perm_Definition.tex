%
\begin{isabellebody}%
\setisabellecontext{Fn{\isacharunderscore}{\kern0pt}Perm{\isacharunderscore}{\kern0pt}Definition}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}Perm{\isacharunderscore}{\kern0pt}Definition\isanewline
\ \ \isakeyword{imports}\ SymExt{\isacharunderscore}{\kern0pt}ZF\ \isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\ \isanewline
%
\endisadelimtheory
\isanewline
\isacommand{context}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ctm\ \isakeyword{begin}\ \isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M\ \isakeyword{where}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ {\isasymexists}n\ {\isasymin}\ nat{\isachardot}{\kern0pt}\ inj{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ \ \isanewline
\isacommand{definition}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}N{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ N{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ injection{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}x{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ arity{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}j{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ bijection{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ injection{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ surjection{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ typed{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ env\ i\ j\ x\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ clarsimp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ f\ n{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}n\ \isakeyword{in}\ bexI{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarsimp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ not{\isacharunderscore}{\kern0pt}emptyE{\isacharcomma}{\kern0pt}\ assumption{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ n\ f{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}f\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ n\ f{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}n\ \isakeyword{in}\ bexI{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}d{\isacharcomma}{\kern0pt}\ r{\isacharcomma}{\kern0pt}\ N{\isacharcomma}{\kern0pt}\ f{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ \isanewline
\ \ \ \ And{\isacharparenleft}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ And{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ And{\isacharparenleft}{\kern0pt}domain{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ \ \ And{\isacharparenleft}{\kern0pt}subset{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ d\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}N\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}range{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ r{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ {\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\ l\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}l\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharcomma}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}k\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\ l\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}l\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharcomma}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}j{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}k{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ bijection{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ injection{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ surjection{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ typed{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}k\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ arity{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ succ{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ arity{\isacharunderscore}{\kern0pt}domain{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ arity{\isacharunderscore}{\kern0pt}range{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ d\ r\ f\ i\ j\ k\ l\ env\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}l\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}l{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharcomma}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}function{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymand}\ domain{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ d\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}domain{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ range{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}function{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}d{\isacharprime}{\kern0pt}\ {\isasymin}\ M{\isachardot}{\kern0pt}\ d{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ domain{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymand}\ d{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ d\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}d{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}r{\isacharprime}{\kern0pt}\ {\isasymin}\ M{\isachardot}{\kern0pt}\ r{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ range{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymand}\ r{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ iff{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ assms\ nth{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ assms\ nth{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ assms\ nth{\isacharunderscore}{\kern0pt}type\ M{\isacharunderscore}{\kern0pt}ctm{\isacharunderscore}{\kern0pt}axioms\ M{\isacharunderscore}{\kern0pt}ctm{\isacharunderscore}{\kern0pt}def\ M{\isacharunderscore}{\kern0pt}ctm{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{5}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ assms\ nth{\isacharunderscore}{\kern0pt}type\ M{\isacharunderscore}{\kern0pt}ctm{\isacharunderscore}{\kern0pt}axioms\ M{\isacharunderscore}{\kern0pt}ctm{\isacharunderscore}{\kern0pt}def\ M{\isacharunderscore}{\kern0pt}ctm{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{5}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}range{\isacharunderscore}{\kern0pt}fm\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ assms\ nth{\isacharunderscore}{\kern0pt}type\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}range{\isacharunderscore}{\kern0pt}fm\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ assms\ nth{\isacharunderscore}{\kern0pt}type\ M{\isacharunderscore}{\kern0pt}ctm{\isacharunderscore}{\kern0pt}axioms\ M{\isacharunderscore}{\kern0pt}ctm{\isacharunderscore}{\kern0pt}def\ M{\isacharunderscore}{\kern0pt}ctm{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{5}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ clarsimp{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ domain{\isacharunderscore}{\kern0pt}closed\ range{\isacharunderscore}{\kern0pt}closed\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ Fn\ \isakeyword{where}\ {\isachardoublequoteopen}Fn\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ f\ {\isasymin}\ Pow{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ nat{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isachardot}{\kern0pt}\ function{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymand}\ domain{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ nat\ {\isasymtimes}\ nat\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}domain{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ range{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isadigit{2}}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Fn\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ X\ \isakeyword{where}\ {\isachardoublequoteopen}X\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ f\ {\isasymin}\ Pow{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ nat{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}nat{\isasymtimes}nat{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ nat{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}notation{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}ax{\isacharcomma}{\kern0pt}\ rule\ is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ cartprod{\isacharunderscore}{\kern0pt}closed\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ succ{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}MI\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{5}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{4}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{4}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ M{\isacharunderscore}{\kern0pt}powerset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cartprod{\isacharunderscore}{\kern0pt}closed\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ succ{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}MI\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ Fn{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\ Fn{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ cartprod{\isacharunderscore}{\kern0pt}closed\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ succ{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}MI\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{6}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}X\ {\isasymin}\ M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}leq\ \isakeyword{where}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}leq\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}f{\isacharcomma}{\kern0pt}\ g{\isachargreater}{\kern0pt}\ {\isasymin}\ Fn\ {\isasymtimes}\ Fn{\isachardot}{\kern0pt}\ g\ {\isasymsubseteq}\ f\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}leq\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ X\ \isakeyword{where}\ {\isachardoublequoteopen}X\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ v\ {\isasymin}\ Fn\ {\isasymtimes}\ Fn\ {\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}notation{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}ax{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ cartprod{\isacharunderscore}{\kern0pt}closed\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}f{\isacharcomma}{\kern0pt}\ g{\isachargreater}{\kern0pt}\ {\isasymin}\ Fn\ {\isasymtimes}\ Fn{\isachardot}{\kern0pt}\ g\ {\isasymsubseteq}\ f\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ sats{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}fm{\isacharprime}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}X\ {\isasymin}\ M{\isacartoucheclose}\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}ord\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}partial{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}on{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ partial{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ preorder{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ refl{\isacharunderscore}{\kern0pt}def\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharunderscore}{\kern0pt}def\ trans{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ antisym{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Fn\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymin}\ Fn{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ Fn{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}function{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isadigit{0}}\ \isakeyword{in}\ bexI{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ a{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isadigit{0}}{\isachardoublequoteclose}\ \isakeyword{in}\ not{\isacharunderscore}{\kern0pt}emptyI{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}notion\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}forcing{\isacharunderscore}{\kern0pt}notion{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ forcing{\isacharunderscore}{\kern0pt}notion{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}ord\ partial{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Fn\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ballI{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ M{\isacharcomma}{\kern0pt}\ enum{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}def\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}def\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}notion\ M{\isacharunderscore}{\kern0pt}ctm{\isacharunderscore}{\kern0pt}axioms\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharunderscore}{\kern0pt}def\ Fn{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}ord\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}perms\ \isakeyword{where}\ {\isachardoublequoteopen}nat{\isacharunderscore}{\kern0pt}perms\ {\isasymequiv}\ bij{\isacharparenleft}{\kern0pt}nat{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat{\isacharunderscore}{\kern0pt}perms\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ X\ \isakeyword{where}\ {\isachardoublequoteopen}X\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ f\ {\isasymin}\ Pow{\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ nat{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ bijection{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}nat{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ XinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}notation{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}ax{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ bijection{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ injection{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ surjection{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ M{\isacharunderscore}{\kern0pt}powerset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cartprod{\isacharunderscore}{\kern0pt}closed\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ bij{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}def\ Pi{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}nat{\isacharunderscore}{\kern0pt}perms\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ XinM\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm\ \isakeyword{where}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isasymin}\ p\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isacommand{definition}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}p{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachargreater}{\kern0pt}{\isachardot}{\kern0pt}\ p\ {\isasymin}\ Fn\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isacommand{definition}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms\ \isakeyword{where}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perms\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}permE\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ f\ p\ b\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}p\ {\isasymin}\ Fn{\isachardoublequoteclose}\ {\isachardoublequoteopen}f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ {\isachardoublequoteopen}b\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}n\ {\isasymin}\ nat{\isachardot}{\kern0pt}\ {\isasymexists}m\ {\isasymin}\ nat{\isachardot}{\kern0pt}\ {\isasymexists}l\ {\isasymin}\ {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isasymin}\ p\ {\isasymand}\ b\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ H{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}p\ {\isasymsubseteq}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ nat{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isadigit{2}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ Fn{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}v\ {\isasymin}\ p{\isachardot}{\kern0pt}\ b\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}f\ {\isacharbackquote}{\kern0pt}\ fst{\isacharparenleft}{\kern0pt}fst{\isacharparenleft}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ snd{\isacharparenleft}{\kern0pt}fst{\isacharparenleft}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymrangle}{\isacharcomma}{\kern0pt}\ snd{\isacharparenleft}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isasymrangle}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}def\ split{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ v\ \isakeyword{where}\ vH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}b\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}f\ {\isacharbackquote}{\kern0pt}\ fst{\isacharparenleft}{\kern0pt}fst{\isacharparenleft}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ snd{\isacharparenleft}{\kern0pt}fst{\isacharparenleft}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymrangle}{\isacharcomma}{\kern0pt}\ snd{\isacharparenleft}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isasymrangle}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ y\ z\ \isakeyword{where}\ veq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}z\ {\isasymin}\ {\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ H\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ beq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ vH\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}p\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ transM\ vH\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ nat\ {\isasymand}\ y\ {\isasymin}\ nat\ {\isasymand}\ z\ {\isasymin}\ {\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ veq\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ beq\ veq\ vH\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ \isanewline
\ \ \ \ Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ \ \ And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{6}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ \ \ And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ \ \ And{\isacharparenleft}{\kern0pt}fun{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{6}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{6}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}j{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ arity{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ arity{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{4}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ env\ i\ j\ k\ f\ a\ v\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}n\ m\ l{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ \ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarsimp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ clarsimp{\isacharcomma}{\kern0pt}\ clarsimp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ n\ m\ l{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}n\ {\isasymin}\ M\ {\isasymand}\ m\ {\isasymin}\ M\ {\isasymand}\ l\ {\isasymin}\ M{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ n\ m\ l{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ n\ m\ l{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}f{\isacharbackquote}{\kern0pt}n{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ n\ m\ l{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ n\ m\ l{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}l{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ n\ m\ l{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}m{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ n\ m\ l{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}n{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ apply{\isacharunderscore}{\kern0pt}closed\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{7}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ n\ m\ l{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharparenleft}{\kern0pt}l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ nth{\isacharunderscore}{\kern0pt}type\ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffD{\isadigit{1}}{\isacharcomma}{\kern0pt}\ rule\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ nth{\isacharunderscore}{\kern0pt}type\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ f\ p\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ {\isachardoublequoteopen}p\ {\isasymin}\ Fn{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ Q\ \isakeyword{where}\ {\isachardoublequoteopen}Q\ {\isasymequiv}\ {\isasymlambda}x\ y{\isachardot}{\kern0pt}\ {\isasymexists}n\ m\ l{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x\ y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isacharquery}{\kern0pt}A{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ replacement{\isacharunderscore}{\kern0pt}ax{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{4}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x\ y{\isachardot}{\kern0pt}\ Q{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Q{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharquery}{\kern0pt}A{\isachardoublequoteclose}\ \isakeyword{in}\ iffD{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ {\isacartoucheopen}{\isacharquery}{\kern0pt}A{\isacartoucheclose}\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}Y{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymforall}b{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ b\ {\isasymin}\ Y\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isasymin}\ p\ {\isasymand}\ Q{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ strong{\isacharunderscore}{\kern0pt}replacementD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ univalent{\isacharunderscore}{\kern0pt}def\ Q{\isacharunderscore}{\kern0pt}def\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ Y\ \isakeyword{where}\ YH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Y\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymAnd}b{\isachardot}{\kern0pt}\ b\ {\isasymin}\ M\ {\isasymLongrightarrow}\ b\ {\isasymin}\ Y\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ x\ {\isasymin}\ p\ {\isasymand}\ Q{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Y\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ b\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymin}\ Y{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ YH\ transM\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ x\ {\isasymin}\ p\ {\isasymand}\ Q{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ YH\ bin\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ xH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}Q{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}n\ m\ l{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x\ {\isasymand}\ b\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ Q{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ n\ m\ l\ \isakeyword{where}\ H{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}b\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarsimp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xH\ H\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ b\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bin\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ n\ m\ l\ \isakeyword{where}\ H{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isasymin}\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}m\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}l\ {\isasymin}\ {\isadigit{2}}{\isachardoublequoteclose}\ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}permE\ assms\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Q{\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Q{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ x\ {\isasymin}\ p\ {\isasymand}\ Q{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isacharquery}{\kern0pt}A{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ H\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ to{\isacharunderscore}{\kern0pt}rin{\isacharcomma}{\kern0pt}\ rule\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}MI{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}MI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ H\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ succ{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}MI\ transM\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ to{\isacharunderscore}{\kern0pt}rin{\isacharcomma}{\kern0pt}\ rule\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}MI{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}MI{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ apply{\isacharunderscore}{\kern0pt}closed{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ H\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ succ{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}MI\ transM\ assms\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymin}\ Y{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ YH\ {\isacartoucheopen}{\isacharquery}{\kern0pt}A{\isacartoucheclose}\ H\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ YH\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ Forall{\isacharparenleft}{\kern0pt}Iff{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ v{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}p{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}j{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ env\ i\ j\ k\ f\ p\ v\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}f\ {\isacharequal}{\kern0pt}\ nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}p\ {\isacharequal}{\kern0pt}\ nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}p\ {\isasymin}\ Fn{\isachardoublequoteclose}\ {\isachardoublequoteopen}f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{1}}{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isasymin}\ v\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}a\ {\isasymin}\ M{\isachardot}{\kern0pt}\ a\ {\isasymin}\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}n\ m\ l{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a\ {\isasymand}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ball{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ v\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}a\ {\isasymin}\ M{\isachardot}{\kern0pt}\ a\ {\isasymin}\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}n\ m\ l{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a\ {\isasymand}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ rule\ allI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ transM\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ nth{\isacharunderscore}{\kern0pt}type\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ apply{\isacharunderscore}{\kern0pt}closed\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ v\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ p\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}n\ m\ l{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a\ {\isasymand}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ all{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ transM\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}{\isasymexists}n\ {\isasymin}\ nat{\isachardot}{\kern0pt}\ {\isasymexists}m\ {\isasymin}\ nat{\isachardot}{\kern0pt}\ {\isasymexists}l\ {\isasymin}\ {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isasymin}\ p\ {\isasymand}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Fn{\isacharunderscore}{\kern0pt}permE{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ allI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}{\isasymexists}n\ {\isasymin}\ nat{\isachardot}{\kern0pt}\ {\isasymexists}m\ {\isasymin}\ nat{\isachardot}{\kern0pt}\ {\isasymexists}l\ {\isasymin}\ {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isasymin}\ p\ {\isasymand}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Fn{\isacharunderscore}{\kern0pt}permE{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ I{\isadigit{1}}\ I{\isadigit{2}}\ I{\isadigit{3}}\ I{\isadigit{4}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ p\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}p\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ j\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}j{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ arity{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ env\ i\ j\ k\ f\ p\ v\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}f\ {\isacharequal}{\kern0pt}\ nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}p\ {\isacharequal}{\kern0pt}\ nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}p\ {\isasymin}\ Fn{\isachardoublequoteclose}\ {\isachardoublequoteopen}f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}p{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}u\ {\isasymin}\ M{\isachardot}{\kern0pt}\ u\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}p{\isacharcomma}{\kern0pt}\ u{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}p{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ I{\isadigit{1}}\ I{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}subset\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ f\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Fn\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}Pow{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ nat{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ clarsimp{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ rename{\isacharunderscore}{\kern0pt}tac\ p\ x{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}{\isasymexists}n\ {\isasymin}\ nat{\isachardot}{\kern0pt}\ {\isasymexists}m\ {\isasymin}\ nat{\isachardot}{\kern0pt}\ {\isasymexists}l\ {\isasymin}\ {\isadigit{2}}{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}\ {\isasymin}\ p\ {\isasymand}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}f{\isacharbackquote}{\kern0pt}n{\isacharcomma}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ l{\isachargreater}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}clarify{\isacharcomma}{\kern0pt}\ rule\ function{\isacharunderscore}{\kern0pt}value{\isacharunderscore}{\kern0pt}in{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ bij{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Fn{\isacharunderscore}{\kern0pt}permE{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ f\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \ \ \ \isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ X\ \isakeyword{where}\ {\isachardoublequoteopen}X\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ v\ {\isasymin}\ Fn\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}Pow{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ nat{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ f{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}notation{\isacharcomma}{\kern0pt}\ rule\ separation{\isacharunderscore}{\kern0pt}ax{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{4}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ to{\isacharunderscore}{\kern0pt}rin{\isacharcomma}{\kern0pt}\ rule\ cartprod{\isacharunderscore}{\kern0pt}closed{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ M{\isacharunderscore}{\kern0pt}powerset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cartprod{\isacharunderscore}{\kern0pt}closed\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ succ{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}MI\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}\ v\ {\isasymin}\ Fn\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}Pow{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ nat{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}p\ {\isasymin}\ M{\isachardot}{\kern0pt}\ p\ {\isasymin}\ Fn\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}p{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ assms\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ assms\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ assms\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ assms\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}subset\ assms\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}X\ {\isasymin}\ M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ fn{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ Forall{\isacharparenleft}{\kern0pt}Iff{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ fn{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}f{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}j{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ env\ i\ j\ k\ f\ v\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}f\ {\isacharequal}{\kern0pt}\ nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Fn\ {\isacharequal}{\kern0pt}\ nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ x\ {\isasymin}\ v\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}p\ {\isasymin}\ M{\isachardot}{\kern0pt}\ p\ {\isasymin}\ Fn\ {\isasymand}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}p{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Forall{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ ball{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Iff{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ nth{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ nth{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ nth{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ v\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}p\ {\isasymin}\ M{\isachardot}{\kern0pt}\ p\ {\isasymin}\ Fn\ {\isasymand}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}p{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ rule\ allI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ nth{\isacharunderscore}{\kern0pt}type\ transM\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarsimp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ assms\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ v\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}p\ {\isasymin}\ Fn{\isachardot}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}p{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ I{\isadigit{1}}\ I{\isadigit{2}}\ I{\isadigit{3}}\ I{\isadigit{4}}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perms\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}univalent{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}perms{\isacharcomma}{\kern0pt}\ {\isasymlambda}x\ b{\isachardot}{\kern0pt}\ b\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isacharquery}{\kern0pt}B{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ univalent{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}univalent{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}perms{\isacharcomma}{\kern0pt}\ {\isasymlambda}x\ b{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ b{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}Fn{\isacharbrackright}{\kern0pt}\ {\isasymTurnstile}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isacharquery}{\kern0pt}C{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharquery}{\kern0pt}B{\isachardoublequoteclose}\ \isakeyword{in}\ iffD{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ univalent{\isacharunderscore}{\kern0pt}cong{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacartoucheopen}{\isacharquery}{\kern0pt}B{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x\ y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}Fn{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ replacement{\isacharunderscore}{\kern0pt}ax{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{4}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}Y{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymforall}b{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ b\ {\isasymin}\ Y\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms\ {\isasymand}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ b{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}Fn{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ strong{\isacharunderscore}{\kern0pt}replacementD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacartoucheopen}{\isacharquery}{\kern0pt}C{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ Y\ \isakeyword{where}\ YH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Y\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymAnd}b{\isachardot}{\kern0pt}\ b\ {\isasymin}\ M\ {\isasymLongrightarrow}\ b\ {\isasymin}\ Y\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}f\ {\isasymin}\ M{\isachardot}{\kern0pt}\ f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms\ {\isasymand}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ b{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}Fn{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}b{\isachardot}{\kern0pt}\ b\ {\isasymin}\ M\ {\isasymLongrightarrow}\ b\ {\isasymin}\ Y\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}f\ {\isasymin}\ M{\isachardot}{\kern0pt}\ f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms\ {\isasymand}\ b\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ b{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}f\ {\isasymin}\ M{\isachardot}{\kern0pt}\ f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms\ {\isasymand}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ b{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}Fn{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ iff{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ YH\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}b{\isachardot}{\kern0pt}\ b\ {\isasymin}\ Y\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}f{\isachardot}{\kern0pt}\ f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms\ {\isasymand}\ b\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ YH\ transM\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ exE{\isacharcomma}{\kern0pt}\ assumption{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ b\ f{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}f\ {\isasymin}\ M\ {\isasymand}\ b\ {\isasymin}\ M{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Y\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ YH\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/source/repos/ZF-notAC/code/Fn_Perm_Definition.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%18=3%:%
%:%21=4%:%
%:%22=5%:%
%:%23=5%:%
%:%24=6%:%
%:%25=7%:%
%:%26=7%:%
%:%27=8%:%
%:%28=8%:%
%:%29=9%:%
%:%30=10%:%
%:%31=10%:%
%:%32=11%:%
%:%33=12%:%
%:%34=13%:%
%:%37=14%:%
%:%41=14%:%
%:%42=14%:%
%:%43=15%:%
%:%44=15%:%
%:%45=16%:%
%:%46=16%:%
%:%51=16%:%
%:%54=17%:%
%:%55=18%:%
%:%56=18%:%
%:%57=19%:%
%:%58=20%:%
%:%59=21%:%
%:%62=22%:%
%:%66=22%:%
%:%67=22%:%
%:%68=23%:%
%:%69=23%:%
%:%70=24%:%
%:%71=24%:%
%:%72=25%:%
%:%78=25%:%
%:%81=26%:%
%:%82=27%:%
%:%83=27%:%
%:%84=28%:%
%:%85=29%:%
%:%86=30%:%
%:%89=31%:%
%:%90=32%:%
%:%94=32%:%
%:%95=32%:%
%:%96=33%:%
%:%97=33%:%
%:%98=34%:%
%:%99=34%:%
%:%100=35%:%
%:%101=35%:%
%:%102=36%:%
%:%103=36%:%
%:%104=37%:%
%:%105=37%:%
%:%106=38%:%
%:%107=38%:%
%:%108=39%:%
%:%109=39%:%
%:%110=40%:%
%:%111=40%:%
%:%112=41%:%
%:%113=41%:%
%:%114=42%:%
%:%115=42%:%
%:%120=42%:%
%:%123=43%:%
%:%124=44%:%
%:%125=44%:%
%:%126=45%:%
%:%132=51%:%
%:%133=52%:%
%:%134=53%:%
%:%135=53%:%
%:%136=54%:%
%:%137=55%:%
%:%138=56%:%
%:%141=57%:%
%:%145=57%:%
%:%146=57%:%
%:%147=58%:%
%:%148=58%:%
%:%149=59%:%
%:%150=59%:%
%:%151=60%:%
%:%152=60%:%
%:%153=61%:%
%:%154=61%:%
%:%155=62%:%
%:%156=62%:%
%:%161=62%:%
%:%164=63%:%
%:%165=64%:%
%:%166=64%:%
%:%167=65%:%
%:%168=66%:%
%:%169=67%:%
%:%172=68%:%
%:%176=68%:%
%:%177=68%:%
%:%178=69%:%
%:%179=69%:%
%:%180=70%:%
%:%181=70%:%
%:%182=71%:%
%:%183=71%:%
%:%184=72%:%
%:%185=72%:%
%:%186=73%:%
%:%187=73%:%
%:%188=74%:%
%:%189=74%:%
%:%190=75%:%
%:%191=75%:%
%:%192=76%:%
%:%193=76%:%
%:%194=77%:%
%:%195=77%:%
%:%196=78%:%
%:%197=78%:%
%:%198=79%:%
%:%199=79%:%
%:%200=80%:%
%:%201=80%:%
%:%202=81%:%
%:%203=81%:%
%:%204=82%:%
%:%205=82%:%
%:%206=83%:%
%:%207=83%:%
%:%208=84%:%
%:%209=84%:%
%:%210=85%:%
%:%211=85%:%
%:%212=86%:%
%:%213=86%:%
%:%214=87%:%
%:%215=87%:%
%:%216=88%:%
%:%217=88%:%
%:%218=89%:%
%:%219=89%:%
%:%220=90%:%
%:%221=90%:%
%:%222=91%:%
%:%223=91%:%
%:%224=92%:%
%:%225=92%:%
%:%226=93%:%
%:%227=93%:%
%:%228=94%:%
%:%229=94%:%
%:%230=95%:%
%:%231=95%:%
%:%232=96%:%
%:%233=96%:%
%:%234=97%:%
%:%235=97%:%
%:%236=98%:%
%:%237=98%:%
%:%238=99%:%
%:%239=99%:%
%:%244=99%:%
%:%247=100%:%
%:%248=101%:%
%:%249=101%:%
%:%250=102%:%
%:%251=103%:%
%:%252=104%:%
%:%253=105%:%
%:%254=106%:%
%:%257=107%:%
%:%261=107%:%
%:%262=107%:%
%:%263=108%:%
%:%264=108%:%
%:%266=110%:%
%:%267=111%:%
%:%268=111%:%
%:%269=112%:%
%:%270=112%:%
%:%271=113%:%
%:%272=113%:%
%:%273=114%:%
%:%274=114%:%
%:%275=115%:%
%:%276=115%:%
%:%277=116%:%
%:%278=116%:%
%:%279=117%:%
%:%280=117%:%
%:%281=118%:%
%:%282=118%:%
%:%283=119%:%
%:%284=119%:%
%:%285=120%:%
%:%286=120%:%
%:%287=121%:%
%:%288=121%:%
%:%289=122%:%
%:%290=122%:%
%:%291=123%:%
%:%292=123%:%
%:%293=124%:%
%:%294=124%:%
%:%295=125%:%
%:%296=125%:%
%:%297=126%:%
%:%298=126%:%
%:%299=127%:%
%:%300=127%:%
%:%301=128%:%
%:%302=128%:%
%:%303=129%:%
%:%304=129%:%
%:%305=130%:%
%:%306=130%:%
%:%307=131%:%
%:%308=131%:%
%:%309=132%:%
%:%310=132%:%
%:%311=133%:%
%:%312=133%:%
%:%313=134%:%
%:%314=134%:%
%:%315=135%:%
%:%316=135%:%
%:%317=136%:%
%:%318=136%:%
%:%319=137%:%
%:%320=137%:%
%:%325=137%:%
%:%328=138%:%
%:%329=139%:%
%:%330=139%:%
%:%331=140%:%
%:%332=141%:%
%:%333=141%:%
%:%340=142%:%
%:%341=142%:%
%:%342=143%:%
%:%343=144%:%
%:%344=144%:%
%:%345=145%:%
%:%346=145%:%
%:%347=146%:%
%:%348=146%:%
%:%349=147%:%
%:%350=147%:%
%:%351=148%:%
%:%352=148%:%
%:%353=149%:%
%:%354=149%:%
%:%355=150%:%
%:%356=150%:%
%:%357=151%:%
%:%358=151%:%
%:%359=152%:%
%:%360=152%:%
%:%361=153%:%
%:%362=153%:%
%:%363=154%:%
%:%364=154%:%
%:%365=155%:%
%:%366=155%:%
%:%367=156%:%
%:%368=156%:%
%:%369=157%:%
%:%370=157%:%
%:%371=158%:%
%:%372=159%:%
%:%373=159%:%
%:%374=160%:%
%:%375=160%:%
%:%376=161%:%
%:%377=161%:%
%:%378=162%:%
%:%379=162%:%
%:%380=163%:%
%:%381=163%:%
%:%382=164%:%
%:%383=164%:%
%:%384=165%:%
%:%385=165%:%
%:%386=166%:%
%:%387=166%:%
%:%388=166%:%
%:%389=166%:%
%:%390=166%:%
%:%391=167%:%
%:%397=167%:%
%:%400=168%:%
%:%401=169%:%
%:%402=169%:%
%:%403=170%:%
%:%404=171%:%
%:%405=171%:%
%:%412=172%:%
%:%413=172%:%
%:%414=173%:%
%:%415=173%:%
%:%416=174%:%
%:%417=174%:%
%:%418=175%:%
%:%419=175%:%
%:%420=176%:%
%:%421=176%:%
%:%422=177%:%
%:%423=177%:%
%:%424=178%:%
%:%425=178%:%
%:%426=179%:%
%:%427=179%:%
%:%428=180%:%
%:%429=180%:%
%:%430=181%:%
%:%431=181%:%
%:%432=182%:%
%:%433=182%:%
%:%434=183%:%
%:%435=183%:%
%:%436=184%:%
%:%437=184%:%
%:%438=185%:%
%:%439=185%:%
%:%440=186%:%
%:%441=186%:%
%:%442=187%:%
%:%443=187%:%
%:%444=187%:%
%:%445=187%:%
%:%446=187%:%
%:%447=188%:%
%:%453=188%:%
%:%456=189%:%
%:%457=190%:%
%:%458=190%:%
%:%461=191%:%
%:%465=191%:%
%:%466=191%:%
%:%467=192%:%
%:%468=192%:%
%:%469=193%:%
%:%470=193%:%
%:%471=194%:%
%:%472=194%:%
%:%477=194%:%
%:%480=195%:%
%:%481=196%:%
%:%482=196%:%
%:%485=197%:%
%:%489=197%:%
%:%490=197%:%
%:%491=198%:%
%:%492=198%:%
%:%493=199%:%
%:%494=199%:%
%:%495=200%:%
%:%496=200%:%
%:%497=201%:%
%:%498=201%:%
%:%499=202%:%
%:%500=202%:%
%:%501=203%:%
%:%502=203%:%
%:%503=204%:%
%:%504=204%:%
%:%505=205%:%
%:%506=205%:%
%:%511=205%:%
%:%514=206%:%
%:%515=207%:%
%:%516=207%:%
%:%519=208%:%
%:%523=208%:%
%:%524=208%:%
%:%525=209%:%
%:%526=209%:%
%:%527=210%:%
%:%528=210%:%
%:%529=211%:%
%:%530=211%:%
%:%531=212%:%
%:%532=212%:%
%:%533=213%:%
%:%539=213%:%
%:%542=214%:%
%:%543=215%:%
%:%544=215%:%
%:%547=216%:%
%:%551=216%:%
%:%552=216%:%
%:%553=217%:%
%:%554=217%:%
%:%555=218%:%
%:%556=218%:%
%:%561=218%:%
%:%564=219%:%
%:%565=220%:%
%:%566=220%:%
%:%567=221%:%
%:%568=222%:%
%:%569=222%:%
%:%576=223%:%
%:%577=223%:%
%:%578=224%:%
%:%579=224%:%
%:%580=225%:%
%:%581=226%:%
%:%582=226%:%
%:%583=227%:%
%:%584=227%:%
%:%585=228%:%
%:%586=228%:%
%:%587=229%:%
%:%588=229%:%
%:%589=230%:%
%:%590=230%:%
%:%591=231%:%
%:%592=231%:%
%:%593=232%:%
%:%594=232%:%
%:%595=233%:%
%:%596=233%:%
%:%597=234%:%
%:%598=234%:%
%:%599=235%:%
%:%600=235%:%
%:%601=236%:%
%:%602=236%:%
%:%603=237%:%
%:%604=238%:%
%:%605=238%:%
%:%606=239%:%
%:%607=239%:%
%:%608=240%:%
%:%609=240%:%
%:%610=241%:%
%:%611=241%:%
%:%612=242%:%
%:%613=242%:%
%:%614=242%:%
%:%615=242%:%
%:%616=242%:%
%:%617=243%:%
%:%623=243%:%
%:%626=244%:%
%:%627=245%:%
%:%628=245%:%
%:%629=246%:%
%:%630=246%:%
%:%631=247%:%
%:%632=247%:%
%:%633=248%:%
%:%634=249%:%
%:%635=249%:%
%:%636=250%:%
%:%637=251%:%
%:%638=252%:%
%:%645=253%:%
%:%646=253%:%
%:%647=254%:%
%:%648=254%:%
%:%649=255%:%
%:%650=255%:%
%:%651=256%:%
%:%652=256%:%
%:%653=257%:%
%:%654=257%:%
%:%655=258%:%
%:%656=258%:%
%:%657=259%:%
%:%658=259%:%
%:%659=260%:%
%:%660=260%:%
%:%661=261%:%
%:%662=261%:%
%:%663=261%:%
%:%664=261%:%
%:%665=262%:%
%:%666=262%:%
%:%667=262%:%
%:%668=262%:%
%:%669=262%:%
%:%670=263%:%
%:%671=263%:%
%:%672=263%:%
%:%673=263%:%
%:%674=263%:%
%:%675=264%:%
%:%676=264%:%
%:%677=264%:%
%:%678=264%:%
%:%679=265%:%
%:%680=265%:%
%:%681=265%:%
%:%682=265%:%
%:%683=265%:%
%:%684=266%:%
%:%685=266%:%
%:%686=266%:%
%:%687=266%:%
%:%688=266%:%
%:%689=267%:%
%:%690=267%:%
%:%691=267%:%
%:%692=267%:%
%:%693=267%:%
%:%694=268%:%
%:%700=268%:%
%:%703=269%:%
%:%704=270%:%
%:%705=271%:%
%:%706=271%:%
%:%707=272%:%
%:%713=278%:%
%:%714=279%:%
%:%715=280%:%
%:%716=280%:%
%:%717=281%:%
%:%718=282%:%
%:%719=283%:%
%:%722=284%:%
%:%726=284%:%
%:%727=284%:%
%:%728=285%:%
%:%729=285%:%
%:%730=286%:%
%:%731=286%:%
%:%736=286%:%
%:%739=287%:%
%:%740=288%:%
%:%741=288%:%
%:%742=289%:%
%:%743=290%:%
%:%744=291%:%
%:%747=292%:%
%:%751=292%:%
%:%752=292%:%
%:%753=293%:%
%:%754=293%:%
%:%755=294%:%
%:%756=294%:%
%:%757=295%:%
%:%758=295%:%
%:%759=296%:%
%:%760=296%:%
%:%761=297%:%
%:%762=297%:%
%:%763=298%:%
%:%764=298%:%
%:%765=299%:%
%:%766=299%:%
%:%767=300%:%
%:%768=300%:%
%:%769=301%:%
%:%770=301%:%
%:%771=302%:%
%:%772=302%:%
%:%773=303%:%
%:%774=303%:%
%:%775=304%:%
%:%776=304%:%
%:%777=305%:%
%:%778=305%:%
%:%779=306%:%
%:%780=306%:%
%:%781=307%:%
%:%782=307%:%
%:%783=308%:%
%:%784=308%:%
%:%785=309%:%
%:%786=309%:%
%:%787=310%:%
%:%788=310%:%
%:%789=311%:%
%:%790=311%:%
%:%791=312%:%
%:%792=312%:%
%:%793=313%:%
%:%794=313%:%
%:%795=314%:%
%:%796=314%:%
%:%797=315%:%
%:%798=315%:%
%:%799=316%:%
%:%800=316%:%
%:%801=317%:%
%:%802=317%:%
%:%803=318%:%
%:%804=318%:%
%:%805=319%:%
%:%806=319%:%
%:%807=320%:%
%:%808=320%:%
%:%809=321%:%
%:%815=321%:%
%:%818=322%:%
%:%819=323%:%
%:%820=323%:%
%:%821=324%:%
%:%822=325%:%
%:%823=326%:%
%:%824=327%:%
%:%827=328%:%
%:%831=328%:%
%:%832=328%:%
%:%833=329%:%
%:%834=329%:%
%:%835=330%:%
%:%836=330%:%
%:%837=331%:%
%:%838=331%:%
%:%839=332%:%
%:%840=332%:%
%:%841=333%:%
%:%842=333%:%
%:%843=334%:%
%:%844=334%:%
%:%845=335%:%
%:%846=335%:%
%:%847=336%:%
%:%848=336%:%
%:%849=337%:%
%:%850=337%:%
%:%851=338%:%
%:%852=338%:%
%:%853=339%:%
%:%854=339%:%
%:%855=340%:%
%:%856=340%:%
%:%857=341%:%
%:%858=341%:%
%:%859=342%:%
%:%860=342%:%
%:%861=343%:%
%:%862=343%:%
%:%863=344%:%
%:%864=344%:%
%:%865=345%:%
%:%866=345%:%
%:%867=346%:%
%:%868=346%:%
%:%873=346%:%
%:%876=347%:%
%:%877=348%:%
%:%878=348%:%
%:%879=349%:%
%:%880=350%:%
%:%881=351%:%
%:%884=352%:%
%:%889=353%:%
%:%890=353%:%
%:%891=354%:%
%:%892=354%:%
%:%893=355%:%
%:%894=356%:%
%:%895=356%:%
%:%896=357%:%
%:%897=357%:%
%:%898=358%:%
%:%899=358%:%
%:%900=359%:%
%:%901=359%:%
%:%902=360%:%
%:%903=360%:%
%:%904=361%:%
%:%905=361%:%
%:%906=362%:%
%:%907=362%:%
%:%908=363%:%
%:%909=363%:%
%:%910=364%:%
%:%911=364%:%
%:%912=365%:%
%:%913=365%:%
%:%914=366%:%
%:%915=366%:%
%:%916=367%:%
%:%917=367%:%
%:%918=368%:%
%:%919=368%:%
%:%920=369%:%
%:%921=369%:%
%:%922=370%:%
%:%923=370%:%
%:%924=371%:%
%:%925=371%:%
%:%926=371%:%
%:%927=372%:%
%:%928=372%:%
%:%929=373%:%
%:%930=373%:%
%:%931=374%:%
%:%932=374%:%
%:%933=375%:%
%:%934=375%:%
%:%935=375%:%
%:%936=375%:%
%:%937=376%:%
%:%938=377%:%
%:%939=377%:%
%:%940=378%:%
%:%941=378%:%
%:%942=379%:%
%:%943=379%:%
%:%944=380%:%
%:%945=380%:%
%:%946=381%:%
%:%947=381%:%
%:%948=381%:%
%:%949=381%:%
%:%950=381%:%
%:%951=382%:%
%:%952=382%:%
%:%953=382%:%
%:%954=382%:%
%:%955=382%:%
%:%956=383%:%
%:%957=383%:%
%:%958=383%:%
%:%959=383%:%
%:%960=384%:%
%:%961=384%:%
%:%962=384%:%
%:%963=384%:%
%:%964=384%:%
%:%965=385%:%
%:%966=385%:%
%:%967=385%:%
%:%968=385%:%
%:%969=386%:%
%:%970=386%:%
%:%971=386%:%
%:%972=387%:%
%:%973=387%:%
%:%974=388%:%
%:%975=388%:%
%:%976=389%:%
%:%977=389%:%
%:%978=390%:%
%:%979=390%:%
%:%980=391%:%
%:%981=391%:%
%:%982=392%:%
%:%983=392%:%
%:%984=393%:%
%:%985=393%:%
%:%986=394%:%
%:%987=394%:%
%:%988=395%:%
%:%989=395%:%
%:%990=395%:%
%:%991=395%:%
%:%992=395%:%
%:%993=396%:%
%:%994=396%:%
%:%995=396%:%
%:%996=397%:%
%:%997=397%:%
%:%998=398%:%
%:%999=398%:%
%:%1000=399%:%
%:%1001=399%:%
%:%1002=399%:%
%:%1003=400%:%
%:%1004=400%:%
%:%1005=401%:%
%:%1006=401%:%
%:%1007=402%:%
%:%1008=402%:%
%:%1009=403%:%
%:%1010=403%:%
%:%1011=404%:%
%:%1012=404%:%
%:%1013=405%:%
%:%1014=405%:%
%:%1015=406%:%
%:%1016=406%:%
%:%1017=407%:%
%:%1018=407%:%
%:%1019=408%:%
%:%1020=408%:%
%:%1021=409%:%
%:%1022=409%:%
%:%1023=410%:%
%:%1024=410%:%
%:%1025=411%:%
%:%1026=411%:%
%:%1027=411%:%
%:%1028=411%:%
%:%1029=411%:%
%:%1030=412%:%
%:%1031=412%:%
%:%1032=413%:%
%:%1033=414%:%
%:%1034=414%:%
%:%1035=414%:%
%:%1036=414%:%
%:%1037=414%:%
%:%1038=415%:%
%:%1044=415%:%
%:%1047=416%:%
%:%1048=417%:%
%:%1049=417%:%
%:%1050=418%:%
%:%1051=419%:%
%:%1052=420%:%
%:%1053=420%:%
%:%1054=421%:%
%:%1055=422%:%
%:%1056=423%:%
%:%1059=424%:%
%:%1063=424%:%
%:%1064=424%:%
%:%1065=425%:%
%:%1066=425%:%
%:%1067=426%:%
%:%1068=426%:%
%:%1069=427%:%
%:%1070=427%:%
%:%1075=427%:%
%:%1078=428%:%
%:%1079=429%:%
%:%1080=429%:%
%:%1081=430%:%
%:%1082=431%:%
%:%1083=432%:%
%:%1086=433%:%
%:%1090=433%:%
%:%1091=433%:%
%:%1092=434%:%
%:%1093=434%:%
%:%1094=435%:%
%:%1095=435%:%
%:%1096=436%:%
%:%1097=436%:%
%:%1098=437%:%
%:%1099=437%:%
%:%1100=438%:%
%:%1101=438%:%
%:%1102=439%:%
%:%1103=439%:%
%:%1104=440%:%
%:%1105=440%:%
%:%1106=441%:%
%:%1107=441%:%
%:%1108=442%:%
%:%1109=442%:%
%:%1110=443%:%
%:%1111=443%:%
%:%1112=444%:%
%:%1113=444%:%
%:%1114=445%:%
%:%1115=445%:%
%:%1116=446%:%
%:%1117=446%:%
%:%1118=447%:%
%:%1119=447%:%
%:%1120=448%:%
%:%1121=448%:%
%:%1122=449%:%
%:%1123=449%:%
%:%1124=450%:%
%:%1125=450%:%
%:%1126=451%:%
%:%1127=451%:%
%:%1128=452%:%
%:%1129=452%:%
%:%1134=452%:%
%:%1137=453%:%
%:%1138=454%:%
%:%1139=454%:%
%:%1140=455%:%
%:%1141=456%:%
%:%1142=457%:%
%:%1143=458%:%
%:%1144=459%:%
%:%1151=460%:%
%:%1152=460%:%
%:%1153=461%:%
%:%1154=461%:%
%:%1155=462%:%
%:%1156=462%:%
%:%1157=463%:%
%:%1158=463%:%
%:%1159=464%:%
%:%1160=464%:%
%:%1161=465%:%
%:%1162=465%:%
%:%1163=466%:%
%:%1164=466%:%
%:%1165=467%:%
%:%1166=467%:%
%:%1167=468%:%
%:%1168=468%:%
%:%1169=469%:%
%:%1170=469%:%
%:%1171=470%:%
%:%1172=470%:%
%:%1173=471%:%
%:%1174=471%:%
%:%1175=472%:%
%:%1176=472%:%
%:%1177=473%:%
%:%1178=473%:%
%:%1179=474%:%
%:%1180=474%:%
%:%1181=475%:%
%:%1182=475%:%
%:%1183=476%:%
%:%1184=476%:%
%:%1185=477%:%
%:%1186=477%:%
%:%1187=478%:%
%:%1188=478%:%
%:%1189=479%:%
%:%1190=479%:%
%:%1191=480%:%
%:%1192=480%:%
%:%1193=481%:%
%:%1194=481%:%
%:%1195=482%:%
%:%1196=482%:%
%:%1197=483%:%
%:%1198=483%:%
%:%1199=484%:%
%:%1200=484%:%
%:%1201=485%:%
%:%1202=485%:%
%:%1203=486%:%
%:%1204=486%:%
%:%1205=487%:%
%:%1206=487%:%
%:%1207=488%:%
%:%1208=488%:%
%:%1209=489%:%
%:%1210=489%:%
%:%1211=490%:%
%:%1212=490%:%
%:%1213=491%:%
%:%1214=491%:%
%:%1215=492%:%
%:%1216=492%:%
%:%1217=493%:%
%:%1218=493%:%
%:%1219=494%:%
%:%1220=494%:%
%:%1221=495%:%
%:%1222=495%:%
%:%1223=496%:%
%:%1224=496%:%
%:%1225=497%:%
%:%1226=497%:%
%:%1227=498%:%
%:%1228=498%:%
%:%1229=498%:%
%:%1230=498%:%
%:%1231=499%:%
%:%1237=499%:%
%:%1240=500%:%
%:%1241=501%:%
%:%1242=501%:%
%:%1243=502%:%
%:%1244=503%:%
%:%1245=504%:%
%:%1246=504%:%
%:%1247=505%:%
%:%1248=506%:%
%:%1249=507%:%
%:%1252=508%:%
%:%1256=508%:%
%:%1257=508%:%
%:%1258=509%:%
%:%1259=509%:%
%:%1260=510%:%
%:%1261=510%:%
%:%1262=511%:%
%:%1263=511%:%
%:%1264=512%:%
%:%1265=512%:%
%:%1270=512%:%
%:%1273=513%:%
%:%1274=514%:%
%:%1275=514%:%
%:%1276=515%:%
%:%1277=516%:%
%:%1278=517%:%
%:%1281=518%:%
%:%1282=519%:%
%:%1286=519%:%
%:%1287=519%:%
%:%1288=520%:%
%:%1289=520%:%
%:%1290=521%:%
%:%1291=521%:%
%:%1292=522%:%
%:%1293=522%:%
%:%1294=523%:%
%:%1295=523%:%
%:%1296=524%:%
%:%1297=524%:%
%:%1298=525%:%
%:%1299=525%:%
%:%1300=526%:%
%:%1301=526%:%
%:%1302=527%:%
%:%1303=527%:%
%:%1304=528%:%
%:%1305=528%:%
%:%1306=529%:%
%:%1307=529%:%
%:%1308=530%:%
%:%1309=530%:%
%:%1310=531%:%
%:%1311=531%:%
%:%1312=532%:%
%:%1313=532%:%
%:%1314=533%:%
%:%1315=533%:%
%:%1316=534%:%
%:%1317=534%:%
%:%1322=534%:%
%:%1325=535%:%
%:%1326=536%:%
%:%1327=536%:%
%:%1328=537%:%
%:%1329=538%:%
%:%1330=539%:%
%:%1331=540%:%
%:%1332=541%:%
%:%1339=542%:%
%:%1340=542%:%
%:%1341=543%:%
%:%1342=543%:%
%:%1343=544%:%
%:%1344=544%:%
%:%1345=545%:%
%:%1346=545%:%
%:%1347=546%:%
%:%1348=546%:%
%:%1349=547%:%
%:%1350=547%:%
%:%1351=548%:%
%:%1352=548%:%
%:%1353=549%:%
%:%1354=549%:%
%:%1355=550%:%
%:%1356=550%:%
%:%1357=550%:%
%:%1358=551%:%
%:%1359=551%:%
%:%1360=552%:%
%:%1361=552%:%
%:%1362=553%:%
%:%1363=553%:%
%:%1364=553%:%
%:%1365=553%:%
%:%1366=554%:%
%:%1372=554%:%
%:%1375=555%:%
%:%1376=556%:%
%:%1377=556%:%
%:%1378=557%:%
%:%1379=558%:%
%:%1380=559%:%
%:%1383=560%:%
%:%1387=560%:%
%:%1388=560%:%
%:%1389=561%:%
%:%1390=561%:%
%:%1391=562%:%
%:%1392=562%:%
%:%1393=563%:%
%:%1394=563%:%
%:%1395=564%:%
%:%1396=564%:%
%:%1397=565%:%
%:%1398=565%:%
%:%1399=566%:%
%:%1400=566%:%
%:%1401=567%:%
%:%1402=567%:%
%:%1403=568%:%
%:%1404=568%:%
%:%1409=568%:%
%:%1412=569%:%
%:%1413=570%:%
%:%1414=570%:%
%:%1415=571%:%
%:%1416=572%:%
%:%1417=573%:%
%:%1424=574%:%
%:%1425=574%:%
%:%1426=575%:%
%:%1427=576%:%
%:%1428=576%:%
%:%1429=577%:%
%:%1430=578%:%
%:%1431=578%:%
%:%1432=579%:%
%:%1433=579%:%
%:%1434=580%:%
%:%1435=580%:%
%:%1436=581%:%
%:%1437=581%:%
%:%1438=582%:%
%:%1439=582%:%
%:%1440=583%:%
%:%1441=583%:%
%:%1442=584%:%
%:%1443=584%:%
%:%1444=585%:%
%:%1445=585%:%
%:%1446=586%:%
%:%1447=586%:%
%:%1448=587%:%
%:%1449=587%:%
%:%1450=588%:%
%:%1451=588%:%
%:%1452=589%:%
%:%1453=589%:%
%:%1454=590%:%
%:%1455=590%:%
%:%1456=591%:%
%:%1457=591%:%
%:%1458=592%:%
%:%1459=592%:%
%:%1460=593%:%
%:%1461=593%:%
%:%1462=594%:%
%:%1463=595%:%
%:%1464=595%:%
%:%1465=596%:%
%:%1466=596%:%
%:%1467=597%:%
%:%1468=597%:%
%:%1469=598%:%
%:%1470=598%:%
%:%1471=599%:%
%:%1472=599%:%
%:%1473=600%:%
%:%1474=600%:%
%:%1475=601%:%
%:%1476=601%:%
%:%1477=602%:%
%:%1478=602%:%
%:%1479=603%:%
%:%1480=603%:%
%:%1481=604%:%
%:%1482=604%:%
%:%1483=605%:%
%:%1484=605%:%
%:%1485=606%:%
%:%1486=606%:%
%:%1487=607%:%
%:%1488=607%:%
%:%1489=608%:%
%:%1490=608%:%
%:%1491=609%:%
%:%1492=609%:%
%:%1493=610%:%
%:%1494=611%:%
%:%1495=611%:%
%:%1496=611%:%
%:%1497=612%:%
%:%1498=612%:%
%:%1499=613%:%
%:%1500=613%:%
%:%1501=614%:%
%:%1502=614%:%
%:%1503=615%:%
%:%1504=615%:%
%:%1505=616%:%
%:%1506=616%:%
%:%1507=617%:%
%:%1508=618%:%
%:%1509=618%:%
%:%1510=618%:%
%:%1511=618%:%
%:%1512=618%:%
%:%1513=619%:%
%:%1519=619%:%
%:%1522=620%:%
%:%1523=621%:%
%:%1524=621%:%
%:%1525=622%:%
%:%1526=623%:%
%:%1527=624%:%
%:%1528=624%:%
%:%1529=625%:%
%:%1530=626%:%
%:%1531=627%:%
%:%1534=628%:%
%:%1538=628%:%
%:%1539=628%:%
%:%1540=629%:%
%:%1541=629%:%
%:%1542=630%:%
%:%1543=630%:%
%:%1544=631%:%
%:%1545=631%:%
%:%1546=632%:%
%:%1547=632%:%
%:%1548=633%:%
%:%1549=633%:%
%:%1550=634%:%
%:%1551=634%:%
%:%1556=634%:%
%:%1559=635%:%
%:%1560=636%:%
%:%1561=636%:%
%:%1562=637%:%
%:%1563=638%:%
%:%1564=639%:%
%:%1567=640%:%
%:%1568=641%:%
%:%1572=641%:%
%:%1573=641%:%
%:%1574=642%:%
%:%1575=642%:%
%:%1576=643%:%
%:%1577=643%:%
%:%1578=644%:%
%:%1579=644%:%
%:%1580=645%:%
%:%1581=645%:%
%:%1582=646%:%
%:%1583=646%:%
%:%1584=647%:%
%:%1585=647%:%
%:%1586=648%:%
%:%1587=648%:%
%:%1588=649%:%
%:%1589=649%:%
%:%1590=650%:%
%:%1591=650%:%
%:%1592=651%:%
%:%1593=651%:%
%:%1594=652%:%
%:%1595=652%:%
%:%1596=653%:%
%:%1597=653%:%
%:%1598=654%:%
%:%1599=654%:%
%:%1600=655%:%
%:%1601=655%:%
%:%1602=656%:%
%:%1603=656%:%
%:%1604=657%:%
%:%1605=657%:%
%:%1606=658%:%
%:%1607=658%:%
%:%1608=659%:%
%:%1609=659%:%
%:%1610=660%:%
%:%1611=660%:%
%:%1616=660%:%
%:%1619=661%:%
%:%1620=662%:%
%:%1621=662%:%
%:%1622=663%:%
%:%1623=664%:%
%:%1624=665%:%
%:%1625=666%:%
%:%1626=667%:%
%:%1633=668%:%
%:%1634=668%:%
%:%1635=669%:%
%:%1636=669%:%
%:%1637=670%:%
%:%1638=670%:%
%:%1639=671%:%
%:%1640=671%:%
%:%1641=672%:%
%:%1642=672%:%
%:%1643=673%:%
%:%1644=673%:%
%:%1645=674%:%
%:%1646=674%:%
%:%1647=675%:%
%:%1648=675%:%
%:%1649=676%:%
%:%1650=676%:%
%:%1651=677%:%
%:%1652=677%:%
%:%1653=678%:%
%:%1654=678%:%
%:%1655=679%:%
%:%1656=679%:%
%:%1657=680%:%
%:%1658=680%:%
%:%1659=681%:%
%:%1660=681%:%
%:%1661=682%:%
%:%1662=682%:%
%:%1663=683%:%
%:%1664=683%:%
%:%1665=684%:%
%:%1666=684%:%
%:%1667=685%:%
%:%1668=685%:%
%:%1669=686%:%
%:%1670=686%:%
%:%1671=687%:%
%:%1672=687%:%
%:%1673=688%:%
%:%1674=688%:%
%:%1675=689%:%
%:%1676=689%:%
%:%1677=690%:%
%:%1678=690%:%
%:%1679=691%:%
%:%1680=691%:%
%:%1681=692%:%
%:%1682=692%:%
%:%1683=693%:%
%:%1684=693%:%
%:%1685=694%:%
%:%1686=694%:%
%:%1687=695%:%
%:%1688=695%:%
%:%1689=696%:%
%:%1690=696%:%
%:%1691=697%:%
%:%1692=697%:%
%:%1693=698%:%
%:%1694=698%:%
%:%1695=699%:%
%:%1701=699%:%
%:%1704=700%:%
%:%1705=701%:%
%:%1706=701%:%
%:%1713=702%:%
%:%1714=702%:%
%:%1715=703%:%
%:%1716=703%:%
%:%1717=704%:%
%:%1718=704%:%
%:%1719=705%:%
%:%1720=705%:%
%:%1721=706%:%
%:%1722=706%:%
%:%1723=707%:%
%:%1724=707%:%
%:%1725=708%:%
%:%1726=708%:%
%:%1727=709%:%
%:%1728=709%:%
%:%1729=710%:%
%:%1730=710%:%
%:%1731=711%:%
%:%1732=711%:%
%:%1733=712%:%
%:%1734=713%:%
%:%1735=713%:%
%:%1736=714%:%
%:%1737=714%:%
%:%1738=715%:%
%:%1739=715%:%
%:%1740=716%:%
%:%1741=716%:%
%:%1742=717%:%
%:%1743=717%:%
%:%1744=718%:%
%:%1745=718%:%
%:%1746=719%:%
%:%1747=719%:%
%:%1748=720%:%
%:%1749=720%:%
%:%1750=721%:%
%:%1751=722%:%
%:%1752=722%:%
%:%1753=722%:%
%:%1754=723%:%
%:%1755=723%:%
%:%1756=724%:%
%:%1757=724%:%
%:%1758=725%:%
%:%1759=725%:%
%:%1760=726%:%
%:%1761=726%:%
%:%1762=726%:%
%:%1763=727%:%
%:%1764=727%:%
%:%1765=728%:%
%:%1766=728%:%
%:%1767=729%:%
%:%1768=729%:%
%:%1769=730%:%
%:%1770=730%:%
%:%1771=731%:%
%:%1772=731%:%
%:%1773=732%:%
%:%1774=732%:%
%:%1775=733%:%
%:%1776=733%:%
%:%1777=734%:%
%:%1778=734%:%
%:%1779=735%:%
%:%1780=735%:%
%:%1781=736%:%
%:%1782=736%:%
%:%1783=736%:%
%:%1784=737%:%
%:%1785=737%:%
%:%1786=738%:%
%:%1787=738%:%
%:%1788=739%:%
%:%1789=739%:%
%:%1790=740%:%
%:%1791=740%:%
%:%1792=741%:%
%:%1793=741%:%
%:%1794=742%:%
%:%1795=742%:%
%:%1796=743%:%
%:%1797=743%:%
%:%1798=744%:%
%:%1799=744%:%
%:%1800=744%:%
%:%1801=745%:%
%:%1802=745%:%
%:%1803=746%:%
%:%1804=746%:%
%:%1805=747%:%
%:%1806=747%:%
%:%1807=747%:%
%:%1808=747%:%
%:%1809=747%:%
%:%1810=748%:%
%:%1816=748%:%
%:%1819=749%:%
%:%1820=750%:%
%:%1821=750%:%
%:%1828=751%:%
