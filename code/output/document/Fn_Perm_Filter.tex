%
\begin{isabellebody}%
\setisabellecontext{Fn{\isacharunderscore}{\kern0pt}Perm{\isacharunderscore}{\kern0pt}Filter}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}Perm{\isacharunderscore}{\kern0pt}Filter\isanewline
\ \ \isakeyword{imports}\ Fn{\isacharunderscore}{\kern0pt}Perm{\isacharunderscore}{\kern0pt}Automorphism\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\ \isanewline
%
\endisadelimtheory
\isanewline
\isacommand{context}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ctm\ \isakeyword{begin}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}group\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}group{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharcomma}{\kern0pt}\ M{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}group{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ clarsimp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ f\ f{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}f\ O\ f{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}closed\ comp{\isacharunderscore}{\kern0pt}bij\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}clarsimp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ f{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}converse{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ converse{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}perms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ Fix\ \isakeyword{where}\ {\isachardoublequoteopen}Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isacharcomma}{\kern0pt}\ {\isasymforall}n\ {\isasymin}\ E{\isachardot}{\kern0pt}\ f{\isacharbackquote}{\kern0pt}n\ {\isacharequal}{\kern0pt}\ n\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}perms{\isacharcomma}{\kern0pt}\ fn{\isacharcomma}{\kern0pt}\ E{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ \isanewline
\ \ Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ perms{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ fn{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ v{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Forall{\isacharparenleft}{\kern0pt}Implies{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ E{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\ l\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}l\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharcomma}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ j\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ l{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\ l\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}l\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharcomma}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}j{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}k{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ j\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ l{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ union{\isacharunderscore}{\kern0pt}lt{\isadigit{2}}{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ arity{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ assms\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ env\ i\ j\ k\ l\ E\ v\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}l\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Fn{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}l{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharcomma}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharcomma}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}f\ {\isasymin}\ M{\isachardot}{\kern0pt}\ f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}n\ {\isasymin}\ M{\isachardot}{\kern0pt}\ n\ {\isasymin}\ E\ {\isasymlongrightarrow}\ f{\isacharbackquote}{\kern0pt}n\ {\isacharequal}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{8}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Forall{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ ball{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Implies{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ imp{\isacharunderscore}{\kern0pt}iff{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{2}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}f{\isachardot}{\kern0pt}\ f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}n\ {\isasymin}\ M{\isachardot}{\kern0pt}\ n\ {\isasymin}\ E\ {\isasymlongrightarrow}\ f{\isacharbackquote}{\kern0pt}n\ {\isacharequal}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{3}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}f{\isachardot}{\kern0pt}\ f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}n\ {\isasymin}\ E{\isachardot}{\kern0pt}\ f{\isacharbackquote}{\kern0pt}n\ {\isacharequal}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ transM\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{4}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Fix{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ I{\isadigit{1}}\ I{\isadigit{2}}\ I{\isadigit{3}}\ I{\isadigit{4}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fix{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ E\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}E\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ X\ \isakeyword{where}\ {\isachardoublequoteopen}X\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ {\isasympi}\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms\ {\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isasympi}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}nat{\isacharunderscore}{\kern0pt}perms{\isacharcomma}{\kern0pt}\ Fn{\isacharcomma}{\kern0pt}\ E{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}notation{\isacharcomma}{\kern0pt}\ rule\ separation{\isacharunderscore}{\kern0pt}ax{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{5}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ local{\isachardot}{\kern0pt}arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}\ {\isasympi}\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms\ {\isachardot}{\kern0pt}\ {\isasympi}\ {\isasymin}\ Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ assms\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ equalityI{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Fix{\isacharunderscore}{\kern0pt}def\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}X\ {\isasymin}\ M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}perms{\isacharcomma}{\kern0pt}\ fn{\isacharcomma}{\kern0pt}\ E{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ Forall{\isacharparenleft}{\kern0pt}Iff{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ v{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}perms{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ fn{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ E{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\ l\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}l\ {\isasymin}\ nat{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharcomma}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ j\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ k\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\ l\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}l\ {\isasymin}\ nat{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharcomma}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}j{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}k{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ j\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ k\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{4}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ env\ i\ j\ k\ l\ E\ v\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}l\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Fn{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ E{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}l{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharcomma}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharcomma}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}u\ {\isasymin}\ M{\isachardot}{\kern0pt}\ u\ {\isasymin}\ v\ {\isasymlongleftrightarrow}\ u\ {\isasymin}\ Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Forall{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ ball{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Iff{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}u{\isachardot}{\kern0pt}\ u\ {\isasymin}\ v\ {\isasymlongleftrightarrow}\ u\ {\isasymin}\ Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ transM\ Fix{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ I{\isadigit{1}}\ I{\isadigit{2}}\ I{\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}relation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}relation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymforall}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}z\ {\isasymin}\ M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ z\ {\isasymin}\ A{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}w\ {\isasymin}\ M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymand}\ w\ {\isasymin}\ B{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ converse{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ {\isachardoublequoteopen}converse{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ And{\isacharparenleft}{\kern0pt}relation{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ And{\isacharparenleft}{\kern0pt}relation{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Forall\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Forall\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Iff{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ env\ i\ j\ A\ B\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ B{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ converse{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ relation{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}\ {\isasymand}\ relation{\isacharparenleft}{\kern0pt}B{\isacharparenright}{\kern0pt}\ {\isasymand}\ B\ {\isacharequal}{\kern0pt}\ converse{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ converse{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ is{\isacharunderscore}{\kern0pt}relation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}relation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ B{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymforall}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}z\ {\isasymin}\ M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ z\ {\isasymin}\ A{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}w\ {\isasymin}\ M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}\ {\isasymand}\ w\ {\isasymin}\ B{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}flip{\isacharcomma}{\kern0pt}\ rule\ converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ nth{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ relation{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}\ {\isasymand}\ relation{\isacharparenleft}{\kern0pt}B{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymforall}\ y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ A\ {\isasymlongleftrightarrow}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ nth{\isacharunderscore}{\kern0pt}type\ relation{\isacharunderscore}{\kern0pt}abs\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ relation{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}\ {\isasymand}\ relation{\isacharparenleft}{\kern0pt}B{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ {\isasymforall}y{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ A\ {\isasymlongleftrightarrow}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ allI{\isacharcomma}{\kern0pt}\ rule\ allI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x\ y{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ nth{\isacharunderscore}{\kern0pt}type\ transM\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x\ y{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ nth{\isacharunderscore}{\kern0pt}type\ transM\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ relation{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}\ {\isasymand}\ relation{\isacharparenleft}{\kern0pt}B{\isacharparenright}{\kern0pt}\ {\isasymand}\ B\ {\isacharequal}{\kern0pt}\ converse{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}{\isasymexists}y\ z{\isachardot}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ z{\isachargreater}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}relation{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}{\isasymexists}y\ z{\isachardot}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ z{\isachargreater}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}relation{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ I{\isadigit{1}}\ I{\isadigit{2}}\ I{\isadigit{3}}\ I{\isadigit{4}}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \ \isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \isakeyword{shows}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymforall}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A\ {\isasymlongrightarrow}\ y\ {\isasymin}\ A\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}z\ {\isasymin}\ M{\isachardot}{\kern0pt}\ composition{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ z\ {\isasymin}\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isacommand{definition}\isamarkupfalse%
\ closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ \isanewline
\ \ \ \ \ \ And{\isacharparenleft}{\kern0pt}Forall{\isacharparenleft}{\kern0pt}Forall{\isacharparenleft}{\kern0pt}Implies{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Implies{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}composition{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ Forall{\isacharparenleft}{\kern0pt}Implies{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ converse{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ env\ i\ A\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A\ {\isasymLongrightarrow}\ relation{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ {\isasymforall}y\ {\isasymin}\ A{\isachardot}{\kern0pt}\ x\ O\ y\ {\isasymin}\ A{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ converse{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymforall}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A\ {\isasymlongrightarrow}\ y\ {\isasymin}\ A\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}z\ {\isasymin}\ M{\isachardot}{\kern0pt}\ composition{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ z\ {\isasymin}\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ y\ {\isasymin}\ A\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ converse{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}flip{\isacharcomma}{\kern0pt}\ rule\ closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Forall{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ ball{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Implies{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ imp{\isacharunderscore}{\kern0pt}iff{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\ \ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ {\isasymforall}y\ {\isasymin}\ A{\isachardot}{\kern0pt}\ x\ O\ y\ {\isasymin}\ A{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ converse{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymin}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ transM\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ assms\ comp{\isacharunderscore}{\kern0pt}closed\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ transM\ nth{\isacharunderscore}{\kern0pt}type\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ assms\ comp{\isacharunderscore}{\kern0pt}closed\ converse{\isacharunderscore}{\kern0pt}closed\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ I{\isadigit{1}}\ I{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ arity{\isacharunderscore}{\kern0pt}closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ succ{\isacharparenleft}{\kern0pt}i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter\ \isakeyword{where}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ H\ {\isasymin}\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}subgroups{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharcomma}{\kern0pt}\ M{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ \ {\isasymexists}E\ {\isasymin}\ Pow{\isacharparenleft}{\kern0pt}nat{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}\ {\isasymand}\ Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ H\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ X\ \isakeyword{where}\ {\isachardoublequoteopen}X\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ H\ {\isasymin}\ Pow{\isacharparenleft}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perms{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}\ {\isadigit{5}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}H{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}Pow{\isacharparenleft}{\kern0pt}nat{\isacharparenright}{\kern0pt}{\isasyminter}M{\isacharcomma}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}perms{\isacharcomma}{\kern0pt}\ Fn{\isacharcomma}{\kern0pt}\ nat{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ XinM{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}\ {\isadigit{5}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula\ {\isasymand}\ closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}notation{\isacharcomma}{\kern0pt}\ rule\ separation{\isacharunderscore}{\kern0pt}ax{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ M{\isacharunderscore}{\kern0pt}powerset\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt\ \isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ M{\isacharunderscore}{\kern0pt}powerset\ is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}\ H\ {\isasymin}\ Pow{\isacharparenleft}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perms{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ H{\isachardot}{\kern0pt}\ {\isasymforall}y\ {\isasymin}\ H{\isachardot}{\kern0pt}\ x\ O\ y\ {\isasymin}\ H{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ H{\isachardot}{\kern0pt}\ converse{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymin}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}F\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}E\ {\isasymin}\ M{\isachardot}{\kern0pt}\ E\ {\isasymin}\ Pow{\isacharparenleft}{\kern0pt}nat{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M\ {\isasymand}\ finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}\ {\isasymand}\ F\ {\isacharequal}{\kern0pt}\ Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}\ {\isasymand}\ F\ {\isasymsubseteq}\ H{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}insert\ M{\isacharunderscore}{\kern0pt}powerset\ Fn{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}closed{\isacharunderscore}{\kern0pt}under{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}and{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ relation{\isacharunderscore}{\kern0pt}def\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Fix{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{9}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ctm{\isacharunderscore}{\kern0pt}axioms\ M{\isacharunderscore}{\kern0pt}ctm{\isacharunderscore}{\kern0pt}def\ M{\isacharunderscore}{\kern0pt}ctm{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}\ H\ {\isasymin}\ Pow{\isacharparenleft}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perms{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ H{\isachardot}{\kern0pt}\ {\isasymforall}y\ {\isasymin}\ H{\isachardot}{\kern0pt}\ x\ O\ y\ {\isasymin}\ H{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ H{\isachardot}{\kern0pt}\ converse{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymin}\ H{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}E\ {\isasymin}\ Pow{\isacharparenleft}{\kern0pt}nat{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isachardot}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}\ {\isasymand}\ Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ H{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fix{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}subgroups{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}group{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ H\ x{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}{\isasymexists}f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardot}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}X\ {\isasymin}\ M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}nonempty\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ a{\isacharequal}{\kern0pt}{\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ \isakeyword{in}\ not{\isacharunderscore}{\kern0pt}emptyI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharcomma}{\kern0pt}\ subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}subgroups{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharcomma}{\kern0pt}\ rule\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}group{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isadigit{0}}\ \isakeyword{in}\ bexI{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isadigit{0}}\ \isakeyword{in}\ bexI{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ a{\isacharequal}{\kern0pt}{\isadigit{0}}\ \isakeyword{in}\ not{\isacharunderscore}{\kern0pt}emptyI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}def\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ Fix{\isacharunderscore}{\kern0pt}def\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fix{\isacharunderscore}{\kern0pt}subset\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ A\ B\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ B{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Fix{\isacharparenleft}{\kern0pt}B{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Fix{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ Fix{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ force%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}fun\ \isakeyword{where}\ {\isachardoublequoteopen}succ{\isacharunderscore}{\kern0pt}fun\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isachardot}{\kern0pt}\ n\ {\isasymin}\ nat\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}succ{\isacharunderscore}{\kern0pt}fun\ {\isasymin}\ nat\ {\isasymrightarrow}\ nat{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Pi{\isacharunderscore}{\kern0pt}memberI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ relation{\isacharunderscore}{\kern0pt}def\ succ{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def\ function{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}succ{\isacharunderscore}{\kern0pt}fun\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ X\ \isakeyword{where}\ {\isachardoublequoteopen}X\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ v\ {\isasymin}\ nat\ {\isasymtimes}\ nat{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ succ{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}notation{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}ax{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ cartprod{\isacharunderscore}{\kern0pt}closed\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isachardot}{\kern0pt}\ n\ {\isasymin}\ nat\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def\ {\isacartoucheopen}X\ {\isasymin}\ M{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}fun\ \isakeyword{where}\ {\isachardoublequoteopen}add{\isacharunderscore}{\kern0pt}fun{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}n{\isacharcomma}{\kern0pt}\ n\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ m{\isachargreater}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymin}\ nat\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymin}\ nat\ {\isasymLongrightarrow}\ add{\isacharunderscore}{\kern0pt}fun{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isasymin}\ nat\ {\isasymrightarrow}\ nat{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Pi{\isacharunderscore}{\kern0pt}memberI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def\ relation{\isacharunderscore}{\kern0pt}def\ function{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}comp\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ m\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}add{\isacharunderscore}{\kern0pt}fun{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}fun{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}\ O\ succ{\isacharunderscore}{\kern0pt}fun{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ function{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ relation{\isacharunderscore}{\kern0pt}def\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def\ succ{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}def\ function{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}add{\isacharunderscore}{\kern0pt}fun{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}\ O\ succ{\isacharunderscore}{\kern0pt}fun\ {\isasymin}\ nat\ {\isasymrightarrow}\ nat{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ Pi{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ A{\isacharequal}{\kern0pt}nat\ \isakeyword{and}\ B{\isacharequal}{\kern0pt}nat\ \isakeyword{and}\ C{\isacharequal}{\kern0pt}nat\ \isakeyword{in}\ comp{\isacharunderscore}{\kern0pt}fun{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}type\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}type\ assms\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ domain{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ subst\ succ{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ subst\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ succ{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def\ assms\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ succ{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ subst\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ function{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}equality{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}type\ assms\ Pi{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ comp{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}apply{\isacharcomma}{\kern0pt}\ rule\ succ{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}function{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}equality{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}succ{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def\ succ{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}type\ Pi{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ function{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}equality{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}type\ Pi{\isacharunderscore}{\kern0pt}def\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ m\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}add{\isacharunderscore}{\kern0pt}fun{\isacharparenleft}{\kern0pt}m{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ b\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}add{\isacharunderscore}{\kern0pt}fun{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ a{\isacharequal}{\kern0pt}{\isachardoublequoteopen}id{\isacharparenleft}{\kern0pt}nat{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ ssubst{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}def\ lam{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}closed\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}closed\ succ{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ addn{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymexists}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}fx\ {\isasymin}\ M{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A\ {\isasymand}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ f{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ fx{\isacharparenright}{\kern0pt}\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ fx{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}gx\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}gxn\ {\isasymin}\ M{\isachardot}{\kern0pt}\ x\ {\isasymnotin}\ A\ {\isasymand}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ g{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ gx{\isacharparenright}{\kern0pt}\ {\isasymand}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ addn{\isacharcomma}{\kern0pt}\ gx{\isacharcomma}{\kern0pt}\ gxn{\isacharparenright}{\kern0pt}\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ gxn{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}fm{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}Finite\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ A\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Finite{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarsimp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ n{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ X{\isacharequal}{\kern0pt}n\ \isakeyword{in}\ lepoll{\isacharunderscore}{\kern0pt}Finite{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ lepoll{\isacharunderscore}{\kern0pt}def\ nat{\isacharunderscore}{\kern0pt}into{\isacharunderscore}{\kern0pt}Finite\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}union\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ A\ B\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}A\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}B\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}A\ {\isasymunion}\ B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ n\ f\ \isakeyword{where}\ nfH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}f\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}f\ {\isasymin}\ inj{\isacharparenleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ m\ g\ \isakeyword{where}\ mgH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}g\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}g\ {\isasymin}\ inj{\isacharparenleft}{\kern0pt}B{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ subsetH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymsubseteq}\ n\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ m\ {\isasymand}\ m\ {\isasymsubseteq}\ n\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ m{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ subsetI{\isacharcomma}{\kern0pt}\ rule\ ltD{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ b{\isacharequal}{\kern0pt}n\ \isakeyword{in}\ lt{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}nfH{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfH\ mgH\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharcomma}{\kern0pt}\ rule\ ltD{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ b{\isacharequal}{\kern0pt}m\ \isakeyword{in}\ lt{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}mgH{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfH\ mgH\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fvn{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A\ {\isasymLongrightarrow}\ f{\isacharbackquote}{\kern0pt}x\ {\isasymin}\ n{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ function{\isacharunderscore}{\kern0pt}value{\isacharunderscore}{\kern0pt}in{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfH\ inj{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ gvm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ B\ {\isasymLongrightarrow}\ g{\isacharbackquote}{\kern0pt}x\ {\isasymin}\ m{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ function{\isacharunderscore}{\kern0pt}value{\isacharunderscore}{\kern0pt}in{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ mgH\ inj{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ gvnat{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ B\ {\isasymLongrightarrow}\ g{\isacharbackquote}{\kern0pt}x\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ ltD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ j{\isacharequal}{\kern0pt}m\ \isakeyword{in}\ lt{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ mgH\ ltI\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ h\ \isakeyword{where}\ {\isachardoublequoteopen}h\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ if\ a\ {\isasymin}\ A\ then\ f{\isacharbackquote}{\kern0pt}a\ else\ n\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ g{\isacharbackquote}{\kern0pt}a{\isachargreater}{\kern0pt}\ {\isachardot}{\kern0pt}\ a\ {\isasymin}\ A\ {\isasymunion}\ B\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ hfm\ \isakeyword{where}\ {\isachardoublequoteopen}hfm\ {\isasymequiv}\ Or{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}fun{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}Neg{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}fun{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}fun{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ \ {\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}\ v\ {\isasymin}\ {\isacharparenleft}{\kern0pt}A\ {\isasymunion}\ B{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}n\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ hfm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}A{\isacharcomma}{\kern0pt}\ f{\isacharcomma}{\kern0pt}\ g{\isacharcomma}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}fun{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}\ v\ {\isasymin}\ {\isacharparenleft}{\kern0pt}A\ {\isasymunion}\ B{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}n\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}fx\ {\isasymin}\ M{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A\ {\isasymand}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ f{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ fx{\isacharparenright}{\kern0pt}\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ fx{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymexists}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}gx\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}gxn\ {\isasymin}\ M{\isachardot}{\kern0pt}\ x\ {\isasymnotin}\ A\ {\isasymand}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ g{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ gx{\isacharparenright}{\kern0pt}\ {\isasymand}\ fun{\isacharunderscore}{\kern0pt}apply{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}fun{\isacharparenleft}{\kern0pt}n{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ gx{\isacharcomma}{\kern0pt}\ gxn{\isacharparenright}{\kern0pt}\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ gxn{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ hfm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}flip{\isacharcomma}{\kern0pt}\ rule\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}union{\isacharunderscore}{\kern0pt}h{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{6}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nfH\ mgH\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ cartprod{\isacharunderscore}{\kern0pt}closed\ Un{\isacharunderscore}{\kern0pt}closed\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}\ v\ {\isasymin}\ {\isacharparenleft}{\kern0pt}A\ {\isasymunion}\ B{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}n\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x\ {\isasymin}\ A{\isachardot}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ f{\isacharbackquote}{\kern0pt}x{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x\ {\isasymin}\ B{\isachardot}{\kern0pt}\ x\ {\isasymnotin}\ A\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharbackquote}{\kern0pt}x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ n{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nfH\ mgH\ transM\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ apply{\isacharunderscore}{\kern0pt}closed\ \ cartprod{\isacharunderscore}{\kern0pt}closed\ Un{\isacharunderscore}{\kern0pt}closed\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}disjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ transM\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ clarsimp{\isacharcomma}{\kern0pt}\ subst\ function{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}equality{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ gvnat{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}type\ Pi{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarsimp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ function{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}equality{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ gvnat{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}type\ Pi{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ h{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharcomma}{\kern0pt}\ clarsimp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ disjE{\isacharcomma}{\kern0pt}\ assumption{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x\ y{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}x\ \isakeyword{in}\ bexI{\isacharcomma}{\kern0pt}\ clarsimp{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x\ y{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}x\ \isakeyword{in}\ bexI{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarsimp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ impI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltD{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ b{\isacharequal}{\kern0pt}n\ \isakeyword{in}\ lt{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharcomma}{\kern0pt}\ rule\ fvn{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfH\ mgH\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ impI{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ ltD{\isacharcomma}{\kern0pt}\ rule\ add{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}mono{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ rule\ gvm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ mgH\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ h{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}A\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}notation{\isacharcomma}{\kern0pt}\ rule\ separation{\isacharunderscore}{\kern0pt}ax{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ hfm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ mgH\ nfH\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ assms\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ nfH\ mgH\ transM\ add{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ apply{\isacharunderscore}{\kern0pt}closed\ \ cartprod{\isacharunderscore}{\kern0pt}closed\ Un{\isacharunderscore}{\kern0pt}closed\ nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ hinM{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ h{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ htype{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ {\isasymin}\ A\ {\isasymunion}\ B\ {\isasymrightarrow}\ n\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Pi{\isacharunderscore}{\kern0pt}memberI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ relation{\isacharunderscore}{\kern0pt}def\ function{\isacharunderscore}{\kern0pt}def\ h{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ h{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarsimp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ impI{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ A{\isacharequal}{\kern0pt}A\ \isakeyword{in}\ function{\isacharunderscore}{\kern0pt}value{\isacharunderscore}{\kern0pt}in{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Pi{\isacharunderscore}{\kern0pt}memberI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ inj{\isacharunderscore}{\kern0pt}def\ relation{\isacharunderscore}{\kern0pt}def\ nfH\ Pi{\isacharunderscore}{\kern0pt}def\ subsetH\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{5}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ impI{\isacharcomma}{\kern0pt}\ rule\ ltD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ mgH\ gvnat\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ add{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}mono{\isadigit{2}}{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ mgH\ gvm\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hinj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x\ y{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A\ {\isasymunion}\ B\ {\isasymLongrightarrow}\ y\ {\isasymin}\ A\ {\isasymunion}\ B\ {\isasymLongrightarrow}\ h{\isacharbackquote}{\kern0pt}x\ {\isacharequal}{\kern0pt}\ h{\isacharbackquote}{\kern0pt}y\ {\isasymlongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ function{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}equality{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}h{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ htype\ Pi{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ function{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}equality{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}h{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ htype\ Pi{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ impI{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfH\ inj{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ impI{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x\ y{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}f{\isacharbackquote}{\kern0pt}x\ {\isacharless}{\kern0pt}\ n\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ g{\isacharbackquote}{\kern0pt}y{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ b{\isacharequal}{\kern0pt}n\ \isakeyword{in}\ lt{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fvn\ nfH\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ impI{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ impI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x\ y{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}f{\isacharbackquote}{\kern0pt}y\ {\isacharless}{\kern0pt}\ n\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ g{\isacharbackquote}{\kern0pt}x{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ b{\isacharequal}{\kern0pt}n\ \isakeyword{in}\ lt{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fvn\ nfH\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ gvnat\ inj{\isacharunderscore}{\kern0pt}def\ mgH\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}h\ {\isasymin}\ inj{\isacharparenleft}{\kern0pt}A\ {\isasymunion}\ B{\isacharcomma}{\kern0pt}\ n\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ htype\ hinj\ inj{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}n{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}m{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ hinM\ mgH\ nfH\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}subset\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter\ {\isasymsubseteq}\ Pow{\isacharparenleft}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perms{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}subgroups{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharcomma}{\kern0pt}\ M{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{is}\ {\isacharquery}{\kern0pt}A{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}A\ {\isasymlongrightarrow}\ x\ {\isasymsubseteq}\ Fn{\isacharunderscore}{\kern0pt}perms\ {\isasymand}\ x\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}subgroups{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ Pow{\isacharparenleft}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perms{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharquery}{\kern0pt}A{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}intersection\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ A\ B\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}A\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isachardoublequoteclose}\ {\isachardoublequoteopen}B\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}A\ {\isasyminter}\ B\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ E\ \isakeyword{where}\ EH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}E\ {\isasymin}\ Pow{\isacharparenleft}{\kern0pt}nat{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ F\ \isakeyword{where}\ FH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}F\ {\isasymin}\ Pow{\isacharparenleft}{\kern0pt}nat{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Fix{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ G\ \isakeyword{where}\ {\isachardoublequoteopen}G\ {\isasymequiv}\ E\ {\isasymunion}\ F{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ H{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Fix{\isacharparenleft}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ A\ {\isasyminter}\ B{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Fix{\isacharparenleft}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}\ {\isasyminter}\ Fix{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ G{\isacharunderscore}{\kern0pt}def\ Fix{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymsubseteq}\ A\ {\isasyminter}\ B{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ EH\ FH\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}Fix{\isacharparenleft}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ A\ {\isasyminter}\ B{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ {\isasyminter}\ B\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharcomma}{\kern0pt}\ subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}subgroups{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}subset\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ int{\isacharunderscore}{\kern0pt}closed\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ transM\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}group{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ subsetI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}subset\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}type\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}A\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter\ {\isasymand}\ B\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isachardoublequoteclose}\ \isakeyword{in}\ mp{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}subgroups{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}group{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}G\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}union\ assms\ EH\ FH\ H\ Un{\isacharunderscore}{\kern0pt}closed\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ G{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}supergroup\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ A\ B\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}A\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isachardoublequoteclose}\ {\isachardoublequoteopen}B\ {\isasymin}\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}subgroups{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharcomma}{\kern0pt}\ M{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ B{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}B\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ normal{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}normal{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}X{\isacharcomma}{\kern0pt}\ Y{\isacharcomma}{\kern0pt}\ F{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ \isanewline
\ \ \ \ \ \ Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ And{\isacharparenleft}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}F{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ And{\isacharparenleft}{\kern0pt}composition{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}F{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ X{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ composition{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ Y{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}normal{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ i\ j\ k\ X\ Y\ H\ env\ \ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Y{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ F{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}relation{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ normal{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ Y\ {\isacharequal}{\kern0pt}\ F\ O\ X\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymexists}FX\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}Finv\ {\isasymin}\ M{\isachardot}{\kern0pt}\ Finv\ {\isacharequal}{\kern0pt}\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}\ {\isasymand}\ FX\ {\isacharequal}{\kern0pt}\ F\ O\ X\ {\isasymand}\ Y\ {\isacharequal}{\kern0pt}\ FX\ O\ Finv{\isachardoublequoteclose}\ \isakeyword{in}\ iff{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ normal{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ length{\isacharunderscore}{\kern0pt}type\ relation{\isacharunderscore}{\kern0pt}def\ converse{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{6}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}composition{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ length{\isacharunderscore}{\kern0pt}type\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{5}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}composition{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ length{\isacharunderscore}{\kern0pt}type\ comp{\isacharunderscore}{\kern0pt}closed\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{5}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}F\ O\ X{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}assoc\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ nth{\isacharunderscore}{\kern0pt}type\ length{\isacharunderscore}{\kern0pt}type\ converse{\isacharunderscore}{\kern0pt}closed\ comp{\isacharunderscore}{\kern0pt}closed\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ normal{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}closed\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ Y\ F\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Y\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}F\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}relation{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}\ F\ O\ X\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ X\ {\isasymin}\ Y\ {\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ to{\isacharunderscore}{\kern0pt}rin{\isacharcomma}{\kern0pt}\ rule\ RepFun{\isacharunderscore}{\kern0pt}closed{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffD{\isadigit{1}}{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}X\ Y{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ normal{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}X{\isacharcomma}{\kern0pt}\ Y{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}F{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}normal{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{8}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ replacement{\isacharunderscore}{\kern0pt}ax{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ normal{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ converse{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ composition{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ transM\ comp{\isacharunderscore}{\kern0pt}closed\ converse{\isacharunderscore}{\kern0pt}closed\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}normal\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ H\ F\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}H\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isachardoublequoteclose}\ {\isachardoublequoteopen}F\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}\ F\ O\ G\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}\ {\isachardot}{\kern0pt}\ G\ {\isasymin}\ H\ {\isacharbraceright}{\kern0pt}\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\ fH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}F\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ X\ \isakeyword{where}\ {\isachardoublequoteopen}X\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ F\ O\ G\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}\ {\isachardot}{\kern0pt}\ G\ {\isasymin}\ H\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ XinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ normal{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}closed{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ transM\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ assms\ relation{\isacharunderscore}{\kern0pt}def\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Xsubset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ Fn{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ G\ \isakeyword{where}\ xH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ F\ O\ G\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}G\ {\isasymin}\ H{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}G\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}subset\ \isacommand{by}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ g\ \isakeyword{where}\ gH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}G\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}g\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ F\ O\ G\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ xH\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ O\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ O\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fH\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}converse\ gH\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ O\ g{\isacharparenright}{\kern0pt}\ O\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ gH\ converse{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}perms\ fH\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ O\ g\ O\ converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ comp{\isacharunderscore}{\kern0pt}bij{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ gH\ fH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}closed\ converse{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}perms\ comp{\isacharunderscore}{\kern0pt}assoc\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}f\ O\ g\ O\ converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ comp{\isacharunderscore}{\kern0pt}bij{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ converse{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}perms\ fH\ gH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}closed\ converse{\isacharunderscore}{\kern0pt}closed\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{4}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Xsubset{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ bij{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Xsubset\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\ fH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isasymin}\ bij{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}bij{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ bij{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ fH\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Xsubset{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ X\ {\isasymLongrightarrow}\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharcomma}{\kern0pt}\ M{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ transM\ XinM\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Xsubset{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}{\isasymexists}f\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardot}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ clarsimp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}preserves{\isacharunderscore}{\kern0pt}order\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}preserves{\isacharunderscore}{\kern0pt}order{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Xsubset\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ compin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}A\ B{\isachardot}{\kern0pt}\ A\ {\isasymin}\ X\ {\isasymLongrightarrow}\ B\ {\isasymin}\ X\ {\isasymLongrightarrow}\ A\ O\ B\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ A\ B\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}B\ {\isasymin}\ X{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ S\ \isakeyword{where}\ SH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ F\ O\ S\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}S\ {\isasymin}\ H{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isadigit{1}}\ X{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ T\ \isakeyword{where}\ TH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}B\ {\isacharequal}{\kern0pt}\ F\ O\ T\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}T\ {\isasymin}\ H{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isadigit{1}}\ X{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
{\isachardoublequoteopen}S\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ SH\ assms\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}subset\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}S\ {\isasymin}\ bij{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}bij\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ Ssubset\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S\ {\isasymsubseteq}\ Fn\ {\isasymtimes}\ Fn{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ bij{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}def\ Pi{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ O\ B\ {\isacharequal}{\kern0pt}\ F\ O\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}S\ O\ {\isacharparenleft}{\kern0pt}converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}\ O\ F{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ O\ T{\isacharparenright}{\kern0pt}\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ SH\ TH\ comp{\isacharunderscore}{\kern0pt}assoc\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ F\ O\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}S\ O\ {\isacharparenleft}{\kern0pt}id{\isacharparenleft}{\kern0pt}Fn{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ O\ T{\isacharparenright}{\kern0pt}\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ left{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}inverse{\isacharcomma}{\kern0pt}\ rule\ bij{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}inj{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}bij\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ F\ O\ {\isacharparenleft}{\kern0pt}S\ O\ T{\isacharparenright}{\kern0pt}\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ right{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}id\ {\isacharbrackleft}{\kern0pt}\isakeyword{where}\ B{\isacharequal}{\kern0pt}Fn{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Ssubset{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ O\ B\ {\isasymin}\ X{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}S\ O\ T{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}H\ {\isasymin}\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}subgroups{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharcomma}{\kern0pt}\ M{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ mp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}subgroups{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}group{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ SH\ TH\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ conversein\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}A{\isachardot}{\kern0pt}\ A\ {\isasymin}\ X\ {\isasymLongrightarrow}\ converse{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ A\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ S\ \isakeyword{where}\ SH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ F\ O\ S\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}S\ {\isasymin}\ H{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isadigit{1}}\ X{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}converse{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ converse{\isacharparenleft}{\kern0pt}F\ O\ {\isacharparenleft}{\kern0pt}S\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ converse{\isacharparenleft}{\kern0pt}S\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ converse{\isacharunderscore}{\kern0pt}comp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}converse{\isacharparenleft}{\kern0pt}converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ O\ converse{\isacharparenleft}{\kern0pt}S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ converse{\isacharunderscore}{\kern0pt}comp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ F\ O\ converse{\isacharparenleft}{\kern0pt}S{\isacharparenright}{\kern0pt}\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}assoc\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}converse{\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}converse{\isacharparenleft}{\kern0pt}S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}H\ {\isasymin}\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}subgroups{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharcomma}{\kern0pt}\ M{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ mp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}subgroups{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}group{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ SH\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Xgroup\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}group{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharcomma}{\kern0pt}\ M{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}group{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Xsubset{\isacharprime}{\kern0pt}\ Xsubset{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ bij{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}def\ compin\ conversein\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Xsubgroup\ {\isacharcolon}{\kern0pt}{\isachardoublequoteopen}X\ {\isasymin}\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}subgroups{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharcomma}{\kern0pt}\ M{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isachardot}{\kern0pt}P{\isacharunderscore}{\kern0pt}auto{\isacharunderscore}{\kern0pt}subgroups{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Xsubset\ XinM\ Xgroup\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ E\ \isakeyword{where}\ EH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}E\ {\isasymin}\ Pow{\isacharparenleft}{\kern0pt}nat{\isacharparenright}{\kern0pt}\ {\isasyminter}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ H{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ m\ e\ \isakeyword{where}\ meH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}e\ {\isasymin}\ inj{\isacharparenleft}{\kern0pt}E{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}e\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ imgsubset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}E\ {\isasymsubseteq}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ {\isasymin}\ f{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}E{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ f{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ fH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ bij{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}def\ Pi{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ e{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}e{\isacharprime}{\kern0pt}\ {\isasymequiv}\ e\ O\ converse{\isacharparenleft}{\kern0pt}restrict{\isacharparenleft}{\kern0pt}f{\isacharcomma}{\kern0pt}\ E{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ e{\isacharprime}{\kern0pt}in\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e{\isacharprime}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ e{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}closed\ meH\ converse{\isacharunderscore}{\kern0pt}closed\ fH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ restrict{\isacharunderscore}{\kern0pt}closed\ EH\ image{\isacharunderscore}{\kern0pt}closed\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}e{\isacharprime}{\kern0pt}\ {\isasymin}\ inj{\isacharparenleft}{\kern0pt}f{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}E{\isacharcomma}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ e{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ B{\isacharequal}{\kern0pt}E\ \isakeyword{in}\ comp{\isacharunderscore}{\kern0pt}inj{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ bij{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}inj{\isacharcomma}{\kern0pt}\ rule\ bij{\isacharunderscore}{\kern0pt}converse{\isacharunderscore}{\kern0pt}bij{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ restrict{\isacharunderscore}{\kern0pt}bij{\isacharcomma}{\kern0pt}\ rule\ bij{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}inj{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ EH\ meH\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ imgfinite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite{\isacharunderscore}{\kern0pt}M{\isacharparenleft}{\kern0pt}f{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}E{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ meH\ e{\isacharprime}{\kern0pt}in\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fixsubset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Fix{\isacharparenleft}{\kern0pt}f{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}E{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ A\ \isacommand{assume}\isamarkupfalse%
\ assms{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymin}\ Fix{\isacharparenleft}{\kern0pt}f{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}E{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ a\ \isakeyword{where}\ aH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}n\ {\isasymin}\ f{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}E{\isachardot}{\kern0pt}\ a{\isacharbackquote}{\kern0pt}n\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Fix{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ g\ \isakeyword{where}\ {\isachardoublequoteopen}g\ {\isasymequiv}\ converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ O\ a\ O\ f{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ gin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymin}\ nat{\isacharunderscore}{\kern0pt}perms{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ composition{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}perms\ fH\ aH\ converse{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}perms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ E\ {\isasymLongrightarrow}\ g{\isacharbackquote}{\kern0pt}n\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\ \ \isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ n\ \isacommand{assume}\isamarkupfalse%
\ nin\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymin}\ E{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}g{\isacharbackquote}{\kern0pt}n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ O\ a{\isacharparenright}{\kern0pt}\ O\ f{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ n{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}assoc\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ O\ a{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ comp{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}apply{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ bij{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nin\ EH\ \isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ comp{\isacharunderscore}{\kern0pt}fun{\isacharunderscore}{\kern0pt}apply{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ aH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ bij{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ function{\isacharunderscore}{\kern0pt}value{\isacharunderscore}{\kern0pt}in{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ bij{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nin\ EH\ \isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ n\ {\isasymin}\ f\ {\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ E{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ aH\ \isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ imageI{\isacharcomma}{\kern0pt}\ rule\ function{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}Pair{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ bij{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}def\ Pi{\isacharunderscore}{\kern0pt}def\ nin\ EH\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ left{\isacharunderscore}{\kern0pt}inverse{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ bij{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nin\ EH\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}g{\isacharbackquote}{\kern0pt}n\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ gfix\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ {\isasymin}\ Fix{\isacharparenleft}{\kern0pt}E{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Fix{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ gin\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ O\ g\ O\ converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ O\ converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ O\ a\ O\ {\isacharparenleft}{\kern0pt}f\ O\ converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ g{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}assoc\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ id{\isacharparenleft}{\kern0pt}nat{\isacharparenright}{\kern0pt}\ O\ {\isacharparenleft}{\kern0pt}a\ O\ id{\isacharparenleft}{\kern0pt}nat{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ right{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}inverse{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ bij{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ right{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}inverse{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ bij{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ id{\isacharparenleft}{\kern0pt}nat{\isacharparenright}{\kern0pt}\ O\ a{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ right{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}id{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ aH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ bij{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}def\ Pi{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ left{\isacharunderscore}{\kern0pt}comp{\isacharunderscore}{\kern0pt}id{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ aH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ bij{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}def\ Pi{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ f\ O\ g\ O\ converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ O\ g\ O\ converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f\ O\ g\ O\ converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ aH\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ O\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}g\ O\ converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fH\ composition{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}perms\ converse{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}perms\ fH\ gin\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ O\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ O\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}converse{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fH\ composition{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}perms\ converse{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}perms\ fH\ gin\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}\ O\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ O\ converse{\isacharparenleft}{\kern0pt}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}f{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}converse\ fH\ converse{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}perms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ F\ O\ Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ O\ converse{\isacharparenleft}{\kern0pt}F{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ fH\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ {\isasymin}\ X{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}perm{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ gfix\ EH\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isasymin}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Xsubgroup\ imgsubset\ fH\ EH\ nat{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}closed\ imgfinite\ fixsubset\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{interpretation}\isamarkupfalse%
\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial\ {\isachardoublequoteopen}Fn{\isachardoublequoteclose}\ {\isachardoublequoteopen}Fn{\isacharunderscore}{\kern0pt}leq{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}M{\isachardoublequoteclose}\ {\isachardoublequoteopen}enum{\isachardoublequoteclose}%
\isadelimproof
\ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}system\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}system{\isacharparenleft}{\kern0pt}Fn{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}leq{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ M{\isacharcomma}{\kern0pt}\ enum{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharcomma}{\kern0pt}\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}system{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ forcing{\isacharunderscore}{\kern0pt}data{\isacharunderscore}{\kern0pt}partial{\isacharunderscore}{\kern0pt}axioms{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}symmetric{\isacharunderscore}{\kern0pt}system{\isacharunderscore}{\kern0pt}axioms{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}group\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}nonempty\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}intersection\ \ \isanewline
\ \ \ \ \ \ \ \ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}supergroup\ Fn{\isacharunderscore}{\kern0pt}perms{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}normal\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/source/repos/ZF-notAC/code/Fn_Perm_Filter.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%18=3%:%
%:%21=4%:%
%:%22=5%:%
%:%23=5%:%
%:%24=6%:%
%:%25=7%:%
%:%26=7%:%
%:%29=8%:%
%:%33=8%:%
%:%34=8%:%
%:%35=9%:%
%:%36=9%:%
%:%37=10%:%
%:%38=10%:%
%:%39=11%:%
%:%40=11%:%
%:%41=12%:%
%:%42=12%:%
%:%43=13%:%
%:%44=13%:%
%:%45=14%:%
%:%46=14%:%
%:%47=15%:%
%:%48=15%:%
%:%49=16%:%
%:%50=16%:%
%:%51=17%:%
%:%52=17%:%
%:%53=18%:%
%:%54=18%:%
%:%55=19%:%
%:%56=19%:%
%:%57=20%:%
%:%58=20%:%
%:%59=21%:%
%:%60=21%:%
%:%61=22%:%
%:%62=22%:%
%:%63=23%:%
%:%64=23%:%
%:%65=24%:%
%:%66=24%:%
%:%67=25%:%
%:%68=25%:%
%:%73=25%:%
%:%76=26%:%
%:%77=27%:%
%:%78=27%:%
%:%79=28%:%
%:%80=29%:%
%:%81=29%:%
%:%82=30%:%
%:%83=31%:%
%:%84=32%:%
%:%85=32%:%
%:%86=33%:%
%:%87=34%:%
%:%88=35%:%
%:%91=36%:%
%:%95=36%:%
%:%96=36%:%
%:%97=37%:%
%:%98=37%:%
%:%99=38%:%
%:%100=38%:%
%:%101=39%:%
%:%102=39%:%
%:%103=40%:%
%:%104=40%:%
%:%109=40%:%
%:%112=41%:%
%:%113=42%:%
%:%114=42%:%
%:%115=43%:%
%:%116=44%:%
%:%117=45%:%
%:%120=46%:%
%:%124=46%:%
%:%125=46%:%
%:%126=47%:%
%:%127=47%:%
%:%128=48%:%
%:%129=48%:%
%:%130=49%:%
%:%131=49%:%
%:%132=50%:%
%:%133=50%:%
%:%134=51%:%
%:%135=51%:%
%:%136=52%:%
%:%137=52%:%
%:%138=53%:%
%:%139=53%:%
%:%140=54%:%
%:%141=54%:%
%:%142=55%:%
%:%143=55%:%
%:%144=56%:%
%:%145=56%:%
%:%146=57%:%
%:%147=57%:%
%:%148=58%:%
%:%149=58%:%
%:%150=59%:%
%:%151=59%:%
%:%152=60%:%
%:%153=60%:%
%:%154=61%:%
%:%155=61%:%
%:%156=62%:%
%:%157=62%:%
%:%158=63%:%
%:%159=63%:%
%:%160=64%:%
%:%161=64%:%
%:%162=65%:%
%:%163=65%:%
%:%164=66%:%
%:%165=66%:%
%:%166=67%:%
%:%167=67%:%
%:%168=68%:%
%:%169=68%:%
%:%170=69%:%
%:%176=69%:%
%:%179=70%:%
%:%180=71%:%
%:%181=71%:%
%:%182=72%:%
%:%183=73%:%
%:%184=74%:%
%:%185=75%:%
%:%192=76%:%
%:%193=76%:%
%:%194=77%:%
%:%195=77%:%
%:%196=78%:%
%:%197=78%:%
%:%198=79%:%
%:%199=79%:%
%:%200=80%:%
%:%201=80%:%
%:%202=81%:%
%:%203=81%:%
%:%204=82%:%
%:%205=82%:%
%:%206=83%:%
%:%207=83%:%
%:%208=84%:%
%:%209=84%:%
%:%210=85%:%
%:%211=85%:%
%:%212=86%:%
%:%213=86%:%
%:%214=87%:%
%:%215=87%:%
%:%216=88%:%
%:%217=88%:%
%:%218=89%:%
%:%219=89%:%
%:%220=90%:%
%:%221=90%:%
%:%222=91%:%
%:%223=91%:%
%:%224=92%:%
%:%225=92%:%
%:%226=93%:%
%:%227=93%:%
%:%228=94%:%
%:%229=94%:%
%:%230=95%:%
%:%231=95%:%
%:%232=96%:%
%:%233=96%:%
%:%234=97%:%
%:%235=97%:%
%:%236=98%:%
%:%237=98%:%
%:%238=99%:%
%:%239=99%:%
%:%240=100%:%
%:%241=100%:%
%:%242=101%:%
%:%243=101%:%
%:%244=102%:%
%:%245=102%:%
%:%246=103%:%
%:%247=103%:%
%:%248=103%:%
%:%249=103%:%
%:%250=104%:%
%:%256=104%:%
%:%259=105%:%
%:%260=106%:%
%:%261=106%:%
%:%262=107%:%
%:%263=108%:%
%:%264=109%:%
%:%271=110%:%
%:%272=110%:%
%:%273=111%:%
%:%274=111%:%
%:%275=112%:%
%:%276=113%:%
%:%277=113%:%
%:%278=114%:%
%:%279=114%:%
%:%280=115%:%
%:%281=115%:%
%:%282=116%:%
%:%283=116%:%
%:%284=117%:%
%:%285=117%:%
%:%286=118%:%
%:%287=118%:%
%:%288=119%:%
%:%289=119%:%
%:%290=120%:%
%:%291=120%:%
%:%292=121%:%
%:%293=121%:%
%:%294=122%:%
%:%295=122%:%
%:%296=123%:%
%:%297=123%:%
%:%298=124%:%
%:%299=124%:%
%:%300=125%:%
%:%301=125%:%
%:%302=126%:%
%:%303=126%:%
%:%304=127%:%
%:%305=127%:%
%:%306=127%:%
%:%307=128%:%
%:%308=128%:%
%:%309=129%:%
%:%310=129%:%
%:%311=130%:%
%:%312=130%:%
%:%313=131%:%
%:%314=131%:%
%:%315=131%:%
%:%316=131%:%
%:%317=131%:%
%:%318=132%:%
%:%324=132%:%
%:%327=133%:%
%:%328=134%:%
%:%329=134%:%
%:%330=135%:%
%:%331=136%:%
%:%332=136%:%
%:%333=137%:%
%:%334=138%:%
%:%335=139%:%
%:%338=140%:%
%:%339=141%:%
%:%343=141%:%
%:%344=141%:%
%:%345=142%:%
%:%346=142%:%
%:%347=143%:%
%:%348=143%:%
%:%349=144%:%
%:%350=144%:%
%:%351=145%:%
%:%352=145%:%
%:%357=145%:%
%:%360=146%:%
%:%361=147%:%
%:%362=147%:%
%:%363=148%:%
%:%364=149%:%
%:%365=150%:%
%:%368=151%:%
%:%369=152%:%
%:%373=152%:%
%:%374=152%:%
%:%375=153%:%
%:%376=153%:%
%:%377=154%:%
%:%378=154%:%
%:%379=155%:%
%:%380=155%:%
%:%381=156%:%
%:%382=156%:%
%:%383=157%:%
%:%384=157%:%
%:%385=158%:%
%:%386=158%:%
%:%387=159%:%
%:%388=159%:%
%:%389=160%:%
%:%390=160%:%
%:%391=161%:%
%:%392=161%:%
%:%393=162%:%
%:%394=162%:%
%:%395=163%:%
%:%396=163%:%
%:%397=164%:%
%:%398=164%:%
%:%399=165%:%
%:%400=165%:%
%:%401=166%:%
%:%402=166%:%
%:%403=167%:%
%:%404=167%:%
%:%409=167%:%
%:%412=168%:%
%:%413=169%:%
%:%414=169%:%
%:%415=170%:%
%:%416=171%:%
%:%417=172%:%
%:%418=173%:%
%:%425=174%:%
%:%426=174%:%
%:%427=175%:%
%:%428=175%:%
%:%429=176%:%
%:%430=176%:%
%:%431=177%:%
%:%432=177%:%
%:%433=178%:%
%:%434=178%:%
%:%435=179%:%
%:%436=179%:%
%:%437=180%:%
%:%438=180%:%
%:%439=181%:%
%:%440=181%:%
%:%441=182%:%
%:%442=182%:%
%:%443=183%:%
%:%444=183%:%
%:%445=184%:%
%:%446=184%:%
%:%447=185%:%
%:%448=185%:%
%:%449=186%:%
%:%450=186%:%
%:%451=187%:%
%:%452=187%:%
%:%453=188%:%
%:%454=188%:%
%:%455=189%:%
%:%456=189%:%
%:%457=189%:%
%:%458=190%:%
%:%459=190%:%
%:%460=190%:%
%:%461=190%:%
%:%462=191%:%
%:%468=191%:%
%:%471=192%:%
%:%472=193%:%
%:%473=194%:%
%:%474=194%:%
%:%475=195%:%
%:%476=196%:%
%:%477=197%:%
%:%478=198%:%
%:%479=199%:%
%:%480=200%:%
%:%481=201%:%
%:%484=202%:%
%:%488=202%:%
%:%489=202%:%
%:%494=202%:%
%:%497=203%:%
%:%498=204%:%
%:%499=204%:%
%:%504=209%:%
%:%505=210%:%
%:%506=211%:%
%:%507=211%:%
%:%508=212%:%
%:%509=213%:%
%:%510=214%:%
%:%517=215%:%
%:%518=215%:%
%:%519=216%:%
%:%520=216%:%
%:%521=217%:%
%:%522=217%:%
%:%523=218%:%
%:%524=218%:%
%:%525=219%:%
%:%526=219%:%
%:%527=220%:%
%:%528=220%:%
%:%529=221%:%
%:%530=221%:%
%:%531=222%:%
%:%532=222%:%
%:%533=223%:%
%:%534=223%:%
%:%535=224%:%
%:%536=224%:%
%:%537=225%:%
%:%538=225%:%
%:%539=226%:%
%:%540=226%:%
%:%541=227%:%
%:%542=227%:%
%:%543=228%:%
%:%544=228%:%
%:%545=229%:%
%:%546=229%:%
%:%547=230%:%
%:%548=230%:%
%:%549=231%:%
%:%550=231%:%
%:%551=232%:%
%:%552=232%:%
%:%553=233%:%
%:%554=233%:%
%:%555=234%:%
%:%556=234%:%
%:%557=235%:%
%:%558=235%:%
%:%559=236%:%
%:%560=236%:%
%:%561=237%:%
%:%562=237%:%
%:%563=238%:%
%:%564=238%:%
%:%565=239%:%
%:%566=239%:%
%:%567=240%:%
%:%568=240%:%
%:%569=241%:%
%:%570=241%:%
%:%571=242%:%
%:%572=242%:%
%:%573=243%:%
%:%574=243%:%
%:%575=243%:%
%:%576=243%:%
%:%577=244%:%
%:%583=244%:%
%:%586=245%:%
%:%587=246%:%
%:%588=246%:%
%:%589=247%:%
%:%590=248%:%
%:%591=249%:%
%:%592=250%:%
%:%593=251%:%
%:%594=252%:%
%:%595=253%:%
%:%598=254%:%
%:%602=254%:%
%:%603=254%:%
%:%604=255%:%
%:%605=255%:%
%:%610=255%:%
%:%613=256%:%
%:%614=256%:%
%:%615=257%:%
%:%619=261%:%
%:%620=262%:%
%:%621=263%:%
%:%622=263%:%
%:%623=264%:%
%:%624=265%:%
%:%625=266%:%
%:%628=267%:%
%:%633=268%:%
%:%634=268%:%
%:%635=269%:%
%:%636=269%:%
%:%638=271%:%
%:%639=272%:%
%:%640=272%:%
%:%641=273%:%
%:%642=273%:%
%:%643=274%:%
%:%644=274%:%
%:%645=275%:%
%:%646=275%:%
%:%647=276%:%
%:%648=276%:%
%:%649=277%:%
%:%650=277%:%
%:%651=278%:%
%:%652=278%:%
%:%653=279%:%
%:%654=279%:%
%:%655=280%:%
%:%656=280%:%
%:%657=281%:%
%:%658=281%:%
%:%659=282%:%
%:%660=282%:%
%:%661=283%:%
%:%662=283%:%
%:%663=284%:%
%:%664=284%:%
%:%665=285%:%
%:%666=285%:%
%:%667=286%:%
%:%668=286%:%
%:%669=287%:%
%:%670=287%:%
%:%671=288%:%
%:%672=288%:%
%:%673=288%:%
%:%674=289%:%
%:%675=289%:%
%:%676=290%:%
%:%677=290%:%
%:%678=291%:%
%:%679=291%:%
%:%680=292%:%
%:%681=292%:%
%:%682=293%:%
%:%683=293%:%
%:%684=294%:%
%:%685=294%:%
%:%686=295%:%
%:%687=295%:%
%:%688=295%:%
%:%689=295%:%
%:%690=296%:%
%:%696=296%:%
%:%699=297%:%
%:%700=298%:%
%:%701=298%:%
%:%702=299%:%
%:%703=300%:%
%:%704=301%:%
%:%707=302%:%
%:%711=302%:%
%:%712=302%:%
%:%713=303%:%
%:%714=303%:%
%:%715=304%:%
%:%716=304%:%
%:%721=304%:%
%:%724=305%:%
%:%725=306%:%
%:%726=306%:%
%:%727=307%:%
%:%728=308%:%
%:%729=309%:%
%:%732=310%:%
%:%736=310%:%
%:%737=310%:%
%:%738=311%:%
%:%739=311%:%
%:%740=312%:%
%:%741=312%:%
%:%742=313%:%
%:%748=313%:%
%:%751=314%:%
%:%752=315%:%
%:%753=316%:%
%:%754=316%:%
%:%755=317%:%
%:%756=318%:%
%:%757=318%:%
%:%764=319%:%
%:%765=319%:%
%:%766=320%:%
%:%767=320%:%
%:%768=321%:%
%:%769=322%:%
%:%770=322%:%
%:%771=323%:%
%:%772=323%:%
%:%773=324%:%
%:%774=324%:%
%:%775=325%:%
%:%776=325%:%
%:%777=326%:%
%:%778=326%:%
%:%779=327%:%
%:%780=327%:%
%:%781=328%:%
%:%782=328%:%
%:%783=329%:%
%:%784=329%:%
%:%785=330%:%
%:%786=330%:%
%:%787=331%:%
%:%788=331%:%
%:%789=332%:%
%:%790=332%:%
%:%791=333%:%
%:%792=333%:%
%:%793=334%:%
%:%794=334%:%
%:%795=335%:%
%:%796=335%:%
%:%797=336%:%
%:%798=336%:%
%:%799=337%:%
%:%800=337%:%
%:%801=338%:%
%:%802=338%:%
%:%803=339%:%
%:%804=339%:%
%:%805=340%:%
%:%806=340%:%
%:%807=341%:%
%:%808=341%:%
%:%809=342%:%
%:%810=343%:%
%:%811=343%:%
%:%812=344%:%
%:%813=344%:%
%:%814=345%:%
%:%815=345%:%
%:%816=346%:%
%:%817=346%:%
%:%818=347%:%
%:%819=347%:%
%:%820=348%:%
%:%821=348%:%
%:%822=349%:%
%:%823=349%:%
%:%824=350%:%
%:%825=350%:%
%:%826=351%:%
%:%827=351%:%
%:%828=352%:%
%:%829=352%:%
%:%830=353%:%
%:%831=353%:%
%:%832=354%:%
%:%833=354%:%
%:%834=355%:%
%:%835=355%:%
%:%836=356%:%
%:%837=356%:%
%:%838=357%:%
%:%839=357%:%
%:%840=358%:%
%:%841=358%:%
%:%842=359%:%
%:%843=359%:%
%:%844=360%:%
%:%845=360%:%
%:%846=360%:%
%:%847=361%:%
%:%848=361%:%
%:%849=362%:%
%:%850=362%:%
%:%851=363%:%
%:%852=363%:%
%:%853=364%:%
%:%854=364%:%
%:%855=364%:%
%:%856=365%:%
%:%857=365%:%
%:%858=366%:%
%:%859=366%:%
%:%860=367%:%
%:%861=367%:%
%:%862=368%:%
%:%863=368%:%
%:%864=369%:%
%:%865=369%:%
%:%866=370%:%
%:%867=370%:%
%:%868=371%:%
%:%869=371%:%
%:%870=372%:%
%:%871=372%:%
%:%872=373%:%
%:%873=373%:%
%:%874=374%:%
%:%875=374%:%
%:%876=375%:%
%:%877=375%:%
%:%878=376%:%
%:%879=377%:%
%:%880=377%:%
%:%881=377%:%
%:%882=377%:%
%:%883=377%:%
%:%884=378%:%
%:%890=378%:%
%:%893=379%:%
%:%894=380%:%
%:%895=380%:%
%:%898=381%:%
%:%902=381%:%
%:%903=381%:%
%:%904=382%:%
%:%905=382%:%
%:%906=383%:%
%:%907=383%:%
%:%908=384%:%
%:%909=384%:%
%:%910=385%:%
%:%911=385%:%
%:%912=386%:%
%:%913=386%:%
%:%914=387%:%
%:%915=387%:%
%:%916=388%:%
%:%917=388%:%
%:%918=389%:%
%:%919=389%:%
%:%920=390%:%
%:%921=390%:%
%:%922=391%:%
%:%923=391%:%
%:%924=392%:%
%:%925=392%:%
%:%926=393%:%
%:%927=393%:%
%:%932=393%:%
%:%935=394%:%
%:%936=395%:%
%:%937=395%:%
%:%938=396%:%
%:%939=397%:%
%:%940=398%:%
%:%943=399%:%
%:%947=399%:%
%:%948=399%:%
%:%949=400%:%
%:%950=400%:%
%:%951=401%:%
%:%952=401%:%
%:%957=401%:%
%:%960=402%:%
%:%961=403%:%
%:%962=404%:%
%:%963=404%:%
%:%964=405%:%
%:%965=406%:%
%:%966=406%:%
%:%969=407%:%
%:%973=407%:%
%:%974=407%:%
%:%975=408%:%
%:%976=408%:%
%:%977=409%:%
%:%978=409%:%
%:%983=409%:%
%:%986=410%:%
%:%987=411%:%
%:%988=411%:%
%:%995=412%:%
%:%996=412%:%
%:%997=413%:%
%:%998=413%:%
%:%999=414%:%
%:%1000=414%:%
%:%1001=415%:%
%:%1002=415%:%
%:%1003=416%:%
%:%1004=416%:%
%:%1005=417%:%
%:%1006=417%:%
%:%1007=418%:%
%:%1008=418%:%
%:%1009=419%:%
%:%1010=419%:%
%:%1011=420%:%
%:%1012=420%:%
%:%1013=421%:%
%:%1014=421%:%
%:%1015=422%:%
%:%1016=422%:%
%:%1017=423%:%
%:%1018=423%:%
%:%1019=424%:%
%:%1020=424%:%
%:%1021=425%:%
%:%1022=425%:%
%:%1023=426%:%
%:%1024=426%:%
%:%1025=427%:%
%:%1026=427%:%
%:%1027=427%:%
%:%1028=427%:%
%:%1029=427%:%
%:%1030=428%:%
%:%1036=428%:%
%:%1039=429%:%
%:%1040=430%:%
%:%1041=430%:%
%:%1042=431%:%
%:%1043=432%:%
%:%1044=432%:%
%:%1047=433%:%
%:%1051=433%:%
%:%1052=433%:%
%:%1053=434%:%
%:%1054=434%:%
%:%1055=435%:%
%:%1056=435%:%
%:%1061=435%:%
%:%1064=436%:%
%:%1065=437%:%
%:%1066=437%:%
%:%1067=438%:%
%:%1068=439%:%
%:%1069=440%:%
%:%1072=441%:%
%:%1073=442%:%
%:%1077=442%:%
%:%1078=442%:%
%:%1079=443%:%
%:%1080=443%:%
%:%1081=444%:%
%:%1082=444%:%
%:%1083=445%:%
%:%1084=445%:%
%:%1085=446%:%
%:%1086=446%:%
%:%1087=447%:%
%:%1088=447%:%
%:%1089=448%:%
%:%1090=448%:%
%:%1091=449%:%
%:%1092=449%:%
%:%1093=450%:%
%:%1094=450%:%
%:%1095=451%:%
%:%1096=451%:%
%:%1097=452%:%
%:%1098=452%:%
%:%1099=453%:%
%:%1100=453%:%
%:%1101=454%:%
%:%1102=454%:%
%:%1103=455%:%
%:%1104=455%:%
%:%1105=456%:%
%:%1106=456%:%
%:%1107=457%:%
%:%1108=457%:%
%:%1109=458%:%
%:%1110=458%:%
%:%1111=459%:%
%:%1112=459%:%
%:%1113=460%:%
%:%1114=460%:%
%:%1115=461%:%
%:%1116=461%:%
%:%1117=462%:%
%:%1118=462%:%
%:%1119=463%:%
%:%1120=463%:%
%:%1121=464%:%
%:%1122=464%:%
%:%1123=465%:%
%:%1124=465%:%
%:%1125=466%:%
%:%1126=466%:%
%:%1131=466%:%
%:%1134=467%:%
%:%1135=468%:%
%:%1136=468%:%
%:%1137=469%:%
%:%1138=470%:%
%:%1139=471%:%
%:%1142=472%:%
%:%1146=472%:%
%:%1147=472%:%
%:%1148=473%:%
%:%1149=473%:%
%:%1150=474%:%
%:%1151=474%:%
%:%1152=475%:%
%:%1153=475%:%
%:%1154=476%:%
%:%1155=476%:%
%:%1156=477%:%
%:%1157=477%:%
%:%1158=478%:%
%:%1159=478%:%
%:%1160=479%:%
%:%1161=479%:%
%:%1162=480%:%
%:%1163=480%:%
%:%1164=481%:%
%:%1165=481%:%
%:%1170=481%:%
%:%1173=482%:%
%:%1174=483%:%
%:%1175=483%:%
%:%1176=484%:%
%:%1177=485%:%
%:%1178=486%:%
%:%1179=487%:%
%:%1180=488%:%
%:%1181=489%:%
%:%1182=490%:%
%:%1183=491%:%
%:%1184=492%:%
%:%1187=493%:%
%:%1191=493%:%
%:%1192=493%:%
%:%1197=493%:%
%:%1200=494%:%
%:%1201=495%:%
%:%1202=495%:%
%:%1203=496%:%
%:%1204=497%:%
%:%1205=498%:%
%:%1208=499%:%
%:%1209=500%:%
%:%1213=500%:%
%:%1214=500%:%
%:%1215=501%:%
%:%1216=501%:%
%:%1217=502%:%
%:%1218=502%:%
%:%1219=503%:%
%:%1220=503%:%
%:%1221=504%:%
%:%1222=504%:%
%:%1223=505%:%
%:%1224=505%:%
%:%1229=505%:%
%:%1232=506%:%
%:%1233=507%:%
%:%1234=507%:%
%:%1235=508%:%
%:%1236=509%:%
%:%1237=510%:%
%:%1244=511%:%
%:%1245=511%:%
%:%1246=512%:%
%:%1247=512%:%
%:%1248=512%:%
%:%1249=512%:%
%:%1250=513%:%
%:%1251=513%:%
%:%1252=513%:%
%:%1253=513%:%
%:%1254=514%:%
%:%1255=515%:%
%:%1256=515%:%
%:%1257=516%:%
%:%1258=516%:%
%:%1259=517%:%
%:%1260=517%:%
%:%1261=518%:%
%:%1262=518%:%
%:%1263=519%:%
%:%1264=519%:%
%:%1265=520%:%
%:%1266=520%:%
%:%1267=521%:%
%:%1268=521%:%
%:%1269=522%:%
%:%1270=522%:%
%:%1271=523%:%
%:%1272=524%:%
%:%1273=524%:%
%:%1274=525%:%
%:%1275=525%:%
%:%1276=526%:%
%:%1277=526%:%
%:%1278=527%:%
%:%1279=527%:%
%:%1280=528%:%
%:%1281=528%:%
%:%1282=529%:%
%:%1283=529%:%
%:%1284=530%:%
%:%1285=530%:%
%:%1286=531%:%
%:%1287=531%:%
%:%1288=532%:%
%:%1289=532%:%
%:%1290=532%:%
%:%1291=533%:%
%:%1292=533%:%
%:%1293=534%:%
%:%1294=534%:%
%:%1295=535%:%
%:%1296=535%:%
%:%1297=536%:%
%:%1298=536%:%
%:%1299=537%:%
%:%1300=538%:%
%:%1301=538%:%
%:%1302=539%:%
%:%1303=540%:%
%:%1304=540%:%
%:%1305=541%:%
%:%1306=542%:%
%:%1307=543%:%
%:%1308=543%:%
%:%1310=545%:%
%:%1311=546%:%
%:%1312=547%:%
%:%1313=548%:%
%:%1314=548%:%
%:%1315=549%:%
%:%1316=549%:%
%:%1317=550%:%
%:%1318=550%:%
%:%1319=551%:%
%:%1320=551%:%
%:%1321=552%:%
%:%1322=552%:%
%:%1323=553%:%
%:%1324=553%:%
%:%1325=553%:%
%:%1326=554%:%
%:%1327=554%:%
%:%1328=555%:%
%:%1329=555%:%
%:%1330=556%:%
%:%1331=556%:%
%:%1332=557%:%
%:%1333=557%:%
%:%1334=558%:%
%:%1335=558%:%
%:%1336=559%:%
%:%1337=559%:%
%:%1338=560%:%
%:%1339=560%:%
%:%1340=561%:%
%:%1341=561%:%
%:%1342=562%:%
%:%1343=562%:%
%:%1344=563%:%
%:%1345=563%:%
%:%1346=564%:%
%:%1347=564%:%
%:%1348=565%:%
%:%1349=565%:%
%:%1350=566%:%
%:%1351=566%:%
%:%1352=567%:%
%:%1353=567%:%
%:%1354=568%:%
%:%1355=568%:%
%:%1356=569%:%
%:%1357=569%:%
%:%1358=570%:%
%:%1359=570%:%
%:%1360=570%:%
%:%1361=571%:%
%:%1362=571%:%
%:%1363=572%:%
%:%1364=572%:%
%:%1365=573%:%
%:%1366=573%:%
%:%1367=574%:%
%:%1368=574%:%
%:%1369=575%:%
%:%1370=575%:%
%:%1371=576%:%
%:%1372=576%:%
%:%1373=577%:%
%:%1374=577%:%
%:%1375=578%:%
%:%1376=578%:%
%:%1377=579%:%
%:%1378=579%:%
%:%1379=580%:%
%:%1380=580%:%
%:%1381=581%:%
%:%1382=581%:%
%:%1383=582%:%
%:%1384=582%:%
%:%1385=583%:%
%:%1386=583%:%
%:%1387=584%:%
%:%1388=584%:%
%:%1389=585%:%
%:%1390=586%:%
%:%1391=586%:%
%:%1392=586%:%
%:%1393=586%:%
%:%1394=587%:%
%:%1395=588%:%
%:%1396=588%:%
%:%1397=589%:%
%:%1398=589%:%
%:%1399=590%:%
%:%1400=590%:%
%:%1401=591%:%
%:%1402=591%:%
%:%1403=592%:%
%:%1404=592%:%
%:%1405=593%:%
%:%1406=593%:%
%:%1407=594%:%
%:%1408=594%:%
%:%1409=595%:%
%:%1410=595%:%
%:%1411=596%:%
%:%1412=596%:%
%:%1413=597%:%
%:%1414=597%:%
%:%1415=598%:%
%:%1416=598%:%
%:%1417=598%:%
%:%1418=598%:%
%:%1419=598%:%
%:%1420=599%:%
%:%1421=600%:%
%:%1422=600%:%
%:%1423=601%:%
%:%1424=601%:%
%:%1425=602%:%
%:%1426=602%:%
%:%1427=603%:%
%:%1428=603%:%
%:%1429=604%:%
%:%1430=604%:%
%:%1431=605%:%
%:%1432=605%:%
%:%1433=606%:%
%:%1434=606%:%
%:%1435=607%:%
%:%1436=607%:%
%:%1437=608%:%
%:%1438=608%:%
%:%1439=609%:%
%:%1440=609%:%
%:%1441=610%:%
%:%1442=610%:%
%:%1443=611%:%
%:%1444=611%:%
%:%1445=612%:%
%:%1446=612%:%
%:%1447=613%:%
%:%1448=613%:%
%:%1449=614%:%
%:%1450=614%:%
%:%1451=615%:%
%:%1452=615%:%
%:%1453=616%:%
%:%1454=616%:%
%:%1455=617%:%
%:%1456=617%:%
%:%1457=618%:%
%:%1458=618%:%
%:%1459=619%:%
%:%1460=619%:%
%:%1461=620%:%
%:%1462=620%:%
%:%1463=621%:%
%:%1464=621%:%
%:%1465=622%:%
%:%1466=622%:%
%:%1467=623%:%
%:%1468=623%:%
%:%1469=624%:%
%:%1470=624%:%
%:%1471=625%:%
%:%1472=625%:%
%:%1473=626%:%
%:%1474=626%:%
%:%1475=627%:%
%:%1476=627%:%
%:%1477=628%:%
%:%1478=628%:%
%:%1479=629%:%
%:%1480=629%:%
%:%1481=630%:%
%:%1482=630%:%
%:%1483=631%:%
%:%1484=631%:%
%:%1485=632%:%
%:%1486=632%:%
%:%1487=633%:%
%:%1488=633%:%
%:%1489=634%:%
%:%1490=634%:%
%:%1491=635%:%
%:%1492=635%:%
%:%1493=636%:%
%:%1494=636%:%
%:%1495=637%:%
%:%1496=637%:%
%:%1497=638%:%
%:%1498=638%:%
%:%1499=639%:%
%:%1500=639%:%
%:%1501=640%:%
%:%1502=640%:%
%:%1503=641%:%
%:%1504=641%:%
%:%1505=642%:%
%:%1506=642%:%
%:%1507=643%:%
%:%1508=643%:%
%:%1509=644%:%
%:%1510=645%:%
%:%1511=645%:%
%:%1512=645%:%
%:%1513=645%:%
%:%1514=646%:%
%:%1515=646%:%
%:%1516=646%:%
%:%1517=647%:%
%:%1518=647%:%
%:%1519=648%:%
%:%1520=648%:%
%:%1521=649%:%
%:%1522=649%:%
%:%1523=650%:%
%:%1524=650%:%
%:%1525=651%:%
%:%1531=651%:%
%:%1534=652%:%
%:%1535=653%:%
%:%1536=653%:%
%:%1543=654%:%
%:%1544=654%:%
%:%1545=655%:%
%:%1546=655%:%
%:%1547=655%:%
%:%1548=656%:%
%:%1549=656%:%
%:%1550=656%:%
%:%1551=657%:%
%:%1552=657%:%
%:%1553=658%:%
%:%1554=658%:%
%:%1555=659%:%
%:%1556=659%:%
%:%1557=660%:%
%:%1558=660%:%
%:%1559=661%:%
%:%1560=661%:%
%:%1561=662%:%
%:%1562=662%:%
%:%1563=663%:%
%:%1564=663%:%
%:%1565=663%:%
%:%1566=664%:%
%:%1567=664%:%
%:%1568=665%:%
%:%1569=665%:%
%:%1570=666%:%
%:%1576=666%:%
%:%1579=667%:%
%:%1580=668%:%
%:%1581=668%:%
%:%1582=669%:%
%:%1583=670%:%
%:%1584=671%:%
%:%1591=672%:%
%:%1592=672%:%
%:%1593=673%:%
%:%1594=673%:%
%:%1595=674%:%
%:%1596=674%:%
%:%1597=675%:%
%:%1598=675%:%
%:%1599=676%:%
%:%1600=676%:%
%:%1601=677%:%
%:%1602=677%:%
%:%1603=678%:%
%:%1604=678%:%
%:%1605=679%:%
%:%1606=680%:%
%:%1607=680%:%
%:%1608=681%:%
%:%1609=681%:%
%:%1610=682%:%
%:%1611=682%:%
%:%1612=683%:%
%:%1613=683%:%
%:%1614=684%:%
%:%1615=684%:%
%:%1616=685%:%
%:%1617=685%:%
%:%1618=686%:%
%:%1619=686%:%
%:%1620=686%:%
%:%1621=687%:%
%:%1622=687%:%
%:%1623=688%:%
%:%1624=688%:%
%:%1625=689%:%
%:%1626=689%:%
%:%1627=689%:%
%:%1628=689%:%
%:%1629=690%:%
%:%1630=690%:%
%:%1631=691%:%
%:%1632=692%:%
%:%1633=692%:%
%:%1634=693%:%
%:%1635=693%:%
%:%1636=694%:%
%:%1637=694%:%
%:%1638=695%:%
%:%1639=695%:%
%:%1640=696%:%
%:%1641=696%:%
%:%1642=697%:%
%:%1643=697%:%
%:%1644=698%:%
%:%1645=698%:%
%:%1646=699%:%
%:%1647=699%:%
%:%1648=700%:%
%:%1649=700%:%
%:%1650=701%:%
%:%1651=701%:%
%:%1652=702%:%
%:%1653=702%:%
%:%1654=703%:%
%:%1655=703%:%
%:%1656=704%:%
%:%1657=704%:%
%:%1658=705%:%
%:%1659=705%:%
%:%1660=706%:%
%:%1661=706%:%
%:%1662=707%:%
%:%1663=707%:%
%:%1664=708%:%
%:%1665=708%:%
%:%1666=709%:%
%:%1667=709%:%
%:%1668=710%:%
%:%1669=710%:%
%:%1670=711%:%
%:%1671=711%:%
%:%1672=712%:%
%:%1673=712%:%
%:%1674=713%:%
%:%1675=713%:%
%:%1676=714%:%
%:%1677=714%:%
%:%1678=715%:%
%:%1679=715%:%
%:%1680=716%:%
%:%1681=716%:%
%:%1682=717%:%
%:%1683=717%:%
%:%1684=718%:%
%:%1690=718%:%
%:%1693=719%:%
%:%1694=720%:%
%:%1695=720%:%
%:%1696=721%:%
%:%1697=722%:%
%:%1698=723%:%
%:%1701=724%:%
%:%1705=724%:%
%:%1706=724%:%
%:%1707=725%:%
%:%1708=725%:%
%:%1709=726%:%
%:%1710=726%:%
%:%1715=726%:%
%:%1718=727%:%
%:%1719=728%:%
%:%1720=728%:%
%:%1721=729%:%
%:%1725=733%:%
%:%1726=734%:%
%:%1727=735%:%
%:%1728=735%:%
%:%1729=736%:%
%:%1730=737%:%
%:%1731=738%:%
%:%1732=739%:%
%:%1733=740%:%
%:%1736=741%:%
%:%1740=741%:%
%:%1741=741%:%
%:%1742=742%:%
%:%1743=742%:%
%:%1744=743%:%
%:%1745=743%:%
%:%1746=744%:%
%:%1747=744%:%
%:%1748=745%:%
%:%1749=745%:%
%:%1750=746%:%
%:%1751=746%:%
%:%1752=747%:%
%:%1753=747%:%
%:%1754=748%:%
%:%1755=748%:%
%:%1756=749%:%
%:%1757=749%:%
%:%1758=750%:%
%:%1759=750%:%
%:%1760=751%:%
%:%1761=751%:%
%:%1762=752%:%
%:%1763=752%:%
%:%1764=753%:%
%:%1765=753%:%
%:%1766=754%:%
%:%1767=754%:%
%:%1768=755%:%
%:%1769=755%:%
%:%1770=756%:%
%:%1771=756%:%
%:%1772=757%:%
%:%1773=757%:%
%:%1774=758%:%
%:%1775=758%:%
%:%1776=759%:%
%:%1777=759%:%
%:%1778=760%:%
%:%1779=760%:%
%:%1780=761%:%
%:%1781=761%:%
%:%1782=762%:%
%:%1788=762%:%
%:%1791=763%:%
%:%1792=764%:%
%:%1793=764%:%
%:%1794=765%:%
%:%1795=766%:%
%:%1796=767%:%
%:%1799=768%:%
%:%1800=769%:%
%:%1804=769%:%
%:%1805=769%:%
%:%1806=770%:%
%:%1807=770%:%
%:%1808=771%:%
%:%1809=771%:%
%:%1810=772%:%
%:%1811=772%:%
%:%1812=773%:%
%:%1813=773%:%
%:%1814=774%:%
%:%1815=774%:%
%:%1816=775%:%
%:%1817=775%:%
%:%1818=776%:%
%:%1819=776%:%
%:%1820=777%:%
%:%1821=777%:%
%:%1822=778%:%
%:%1823=778%:%
%:%1824=779%:%
%:%1825=779%:%
%:%1826=780%:%
%:%1827=780%:%
%:%1832=780%:%
%:%1835=781%:%
%:%1836=782%:%
%:%1837=782%:%
%:%1838=783%:%
%:%1839=784%:%
%:%1840=785%:%
%:%1847=786%:%
%:%1848=786%:%
%:%1849=787%:%
%:%1850=787%:%
%:%1851=788%:%
%:%1852=788%:%
%:%1853=789%:%
%:%1854=789%:%
%:%1855=790%:%
%:%1856=791%:%
%:%1857=791%:%
%:%1858=792%:%
%:%1859=793%:%
%:%1860=793%:%
%:%1861=794%:%
%:%1862=794%:%
%:%1863=795%:%
%:%1864=795%:%
%:%1865=796%:%
%:%1866=796%:%
%:%1867=797%:%
%:%1868=797%:%
%:%1869=798%:%
%:%1870=799%:%
%:%1871=799%:%
%:%1872=800%:%
%:%1873=800%:%
%:%1874=801%:%
%:%1875=801%:%
%:%1876=802%:%
%:%1877=802%:%
%:%1878=803%:%
%:%1879=803%:%
%:%1880=803%:%
%:%1881=803%:%
%:%1882=803%:%
%:%1883=804%:%
%:%1884=804%:%
%:%1885=804%:%
%:%1886=804%:%
%:%1887=804%:%
%:%1888=805%:%
%:%1889=805%:%
%:%1890=805%:%
%:%1891=805%:%
%:%1892=805%:%
%:%1893=806%:%
%:%1894=806%:%
%:%1895=806%:%
%:%1896=806%:%
%:%1897=806%:%
%:%1898=807%:%
%:%1899=807%:%
%:%1900=807%:%
%:%1901=808%:%
%:%1902=808%:%
%:%1903=808%:%
%:%1904=809%:%
%:%1905=809%:%
%:%1906=809%:%
%:%1907=810%:%
%:%1908=810%:%
%:%1909=811%:%
%:%1910=811%:%
%:%1911=812%:%
%:%1912=812%:%
%:%1913=813%:%
%:%1914=813%:%
%:%1915=813%:%
%:%1916=814%:%
%:%1917=814%:%
%:%1918=815%:%
%:%1919=815%:%
%:%1920=816%:%
%:%1921=816%:%
%:%1922=817%:%
%:%1923=817%:%
%:%1924=818%:%
%:%1925=818%:%
%:%1926=819%:%
%:%1927=819%:%
%:%1928=819%:%
%:%1929=820%:%
%:%1930=820%:%
%:%1931=821%:%
%:%1932=821%:%
%:%1933=822%:%
%:%1934=822%:%
%:%1935=823%:%
%:%1936=823%:%
%:%1937=824%:%
%:%1938=824%:%
%:%1939=825%:%
%:%1940=825%:%
%:%1941=826%:%
%:%1942=826%:%
%:%1943=827%:%
%:%1944=827%:%
%:%1945=828%:%
%:%1946=828%:%
%:%1947=829%:%
%:%1948=829%:%
%:%1949=830%:%
%:%1950=830%:%
%:%1951=831%:%
%:%1952=832%:%
%:%1953=832%:%
%:%1954=833%:%
%:%1955=833%:%
%:%1956=834%:%
%:%1957=834%:%
%:%1958=835%:%
%:%1959=835%:%
%:%1960=836%:%
%:%1961=836%:%
%:%1962=836%:%
%:%1963=836%:%
%:%1964=836%:%
%:%1965=837%:%
%:%1966=837%:%
%:%1967=837%:%
%:%1968=837%:%
%:%1969=837%:%
%:%1970=838%:%
%:%1971=838%:%
%:%1972=838%:%
%:%1973=838%:%
%:%1974=839%:%
%:%1975=839%:%
%:%1976=839%:%
%:%1977=839%:%
%:%1978=839%:%
%:%1979=840%:%
%:%1980=840%:%
%:%1981=841%:%
%:%1982=842%:%
%:%1983=842%:%
%:%1984=843%:%
%:%1985=843%:%
%:%1986=844%:%
%:%1987=844%:%
%:%1988=845%:%
%:%1989=845%:%
%:%1990=846%:%
%:%1991=846%:%
%:%1992=847%:%
%:%1993=847%:%
%:%1994=848%:%
%:%1995=848%:%
%:%1996=849%:%
%:%1997=849%:%
%:%1998=850%:%
%:%1999=850%:%
%:%2000=851%:%
%:%2001=851%:%
%:%2002=852%:%
%:%2003=852%:%
%:%2004=853%:%
%:%2005=853%:%
%:%2006=854%:%
%:%2007=854%:%
%:%2008=855%:%
%:%2009=855%:%
%:%2010=856%:%
%:%2011=857%:%
%:%2012=857%:%
%:%2013=858%:%
%:%2014=858%:%
%:%2015=859%:%
%:%2016=859%:%
%:%2017=860%:%
%:%2018=860%:%
%:%2019=861%:%
%:%2020=861%:%
%:%2021=862%:%
%:%2022=862%:%
%:%2023=862%:%
%:%2024=863%:%
%:%2025=863%:%
%:%2026=864%:%
%:%2027=864%:%
%:%2028=864%:%
%:%2029=865%:%
%:%2030=866%:%
%:%2031=866%:%
%:%2032=866%:%
%:%2033=866%:%
%:%2034=867%:%
%:%2035=867%:%
%:%2036=867%:%
%:%2037=867%:%
%:%2038=867%:%
%:%2039=868%:%
%:%2040=868%:%
%:%2041=868%:%
%:%2042=868%:%
%:%2043=868%:%
%:%2044=869%:%
%:%2045=870%:%
%:%2046=870%:%
%:%2047=871%:%
%:%2048=871%:%
%:%2049=871%:%
%:%2050=872%:%
%:%2051=872%:%
%:%2052=872%:%
%:%2053=873%:%
%:%2054=873%:%
%:%2055=874%:%
%:%2056=874%:%
%:%2057=875%:%
%:%2058=875%:%
%:%2059=876%:%
%:%2060=876%:%
%:%2061=876%:%
%:%2062=877%:%
%:%2063=877%:%
%:%2064=878%:%
%:%2065=878%:%
%:%2066=879%:%
%:%2067=879%:%
%:%2068=880%:%
%:%2069=880%:%
%:%2070=880%:%
%:%2071=881%:%
%:%2072=881%:%
%:%2073=882%:%
%:%2074=882%:%
%:%2075=883%:%
%:%2076=883%:%
%:%2077=884%:%
%:%2078=884%:%
%:%2079=885%:%
%:%2080=885%:%
%:%2081=886%:%
%:%2082=886%:%
%:%2083=887%:%
%:%2084=887%:%
%:%2085=888%:%
%:%2086=888%:%
%:%2087=889%:%
%:%2088=889%:%
%:%2089=890%:%
%:%2090=890%:%
%:%2091=891%:%
%:%2092=892%:%
%:%2093=892%:%
%:%2094=893%:%
%:%2095=893%:%
%:%2096=894%:%
%:%2097=894%:%
%:%2098=895%:%
%:%2099=895%:%
%:%2100=896%:%
%:%2101=896%:%
%:%2102=897%:%
%:%2103=897%:%
%:%2104=897%:%
%:%2105=898%:%
%:%2106=898%:%
%:%2107=898%:%
%:%2108=898%:%
%:%2109=899%:%
%:%2110=899%:%
%:%2111=899%:%
%:%2112=899%:%
%:%2113=900%:%
%:%2114=900%:%
%:%2115=900%:%
%:%2116=900%:%
%:%2117=901%:%
%:%2118=901%:%
%:%2119=901%:%
%:%2120=901%:%
%:%2121=901%:%
%:%2122=902%:%
%:%2123=902%:%
%:%2124=902%:%
%:%2125=903%:%
%:%2126=903%:%
%:%2127=904%:%
%:%2128=904%:%
%:%2129=905%:%
%:%2130=905%:%
%:%2131=906%:%
%:%2132=906%:%
%:%2133=907%:%
%:%2134=907%:%
%:%2135=908%:%
%:%2136=908%:%
%:%2137=909%:%
%:%2138=909%:%
%:%2139=910%:%
%:%2140=910%:%
%:%2141=911%:%
%:%2142=911%:%
%:%2143=912%:%
%:%2144=912%:%
%:%2145=913%:%
%:%2146=914%:%
%:%2147=914%:%
%:%2148=915%:%
%:%2149=915%:%
%:%2150=916%:%
%:%2151=916%:%
%:%2152=917%:%
%:%2153=917%:%
%:%2154=918%:%
%:%2155=918%:%
%:%2156=919%:%
%:%2157=920%:%
%:%2158=920%:%
%:%2159=921%:%
%:%2160=921%:%
%:%2161=922%:%
%:%2162=922%:%
%:%2163=923%:%
%:%2164=923%:%
%:%2165=924%:%
%:%2166=924%:%
%:%2167=925%:%
%:%2168=926%:%
%:%2169=926%:%
%:%2170=927%:%
%:%2171=927%:%
%:%2172=928%:%
%:%2173=928%:%
%:%2174=929%:%
%:%2175=930%:%
%:%2176=930%:%
%:%2177=930%:%
%:%2178=930%:%
%:%2179=930%:%
%:%2180=931%:%
%:%2181=932%:%
%:%2182=932%:%
%:%2183=933%:%
%:%2184=933%:%
%:%2185=934%:%
%:%2186=934%:%
%:%2187=934%:%
%:%2188=935%:%
%:%2189=935%:%
%:%2190=935%:%
%:%2191=935%:%
%:%2192=936%:%
%:%2193=936%:%
%:%2194=936%:%
%:%2195=936%:%
%:%2196=936%:%
%:%2197=937%:%
%:%2198=937%:%
%:%2199=938%:%
%:%2200=939%:%
%:%2201=939%:%
%:%2202=940%:%
%:%2203=940%:%
%:%2204=940%:%
%:%2205=940%:%
%:%2206=941%:%
%:%2207=942%:%
%:%2208=942%:%
%:%2209=943%:%
%:%2210=943%:%
%:%2211=944%:%
%:%2212=944%:%
%:%2213=945%:%
%:%2214=945%:%
%:%2215=946%:%
%:%2216=946%:%
%:%2217=947%:%
%:%2218=947%:%
%:%2219=948%:%
%:%2220=948%:%
%:%2221=949%:%
%:%2222=950%:%
%:%2223=950%:%
%:%2224=950%:%
%:%2225=951%:%
%:%2226=951%:%
%:%2227=952%:%
%:%2228=952%:%
%:%2229=953%:%
%:%2230=953%:%
%:%2231=954%:%
%:%2232=955%:%
%:%2233=955%:%
%:%2234=956%:%
%:%2235=956%:%
%:%2236=957%:%
%:%2237=957%:%
%:%2238=957%:%
%:%2239=958%:%
%:%2240=958%:%
%:%2241=958%:%
%:%2242=958%:%
%:%2243=958%:%
%:%2244=959%:%
%:%2245=960%:%
%:%2246=960%:%
%:%2247=961%:%
%:%2248=961%:%
%:%2249=962%:%
%:%2250=962%:%
%:%2251=963%:%
%:%2252=963%:%
%:%2253=964%:%
%:%2254=964%:%
%:%2255=965%:%
%:%2256=966%:%
%:%2257=966%:%
%:%2258=967%:%
%:%2259=967%:%
%:%2260=968%:%
%:%2261=968%:%
%:%2262=968%:%
%:%2263=969%:%
%:%2264=969%:%
%:%2265=969%:%
%:%2266=969%:%
%:%2267=970%:%
%:%2268=970%:%
%:%2269=970%:%
%:%2270=971%:%
%:%2271=971%:%
%:%2272=972%:%
%:%2273=972%:%
%:%2274=973%:%
%:%2275=973%:%
%:%2276=974%:%
%:%2277=974%:%
%:%2278=975%:%
%:%2279=975%:%
%:%2280=976%:%
%:%2281=976%:%
%:%2282=977%:%
%:%2283=977%:%
%:%2284=977%:%
%:%2285=978%:%
%:%2286=978%:%
%:%2287=979%:%
%:%2288=979%:%
%:%2289=980%:%
%:%2290=980%:%
%:%2291=981%:%
%:%2292=981%:%
%:%2293=982%:%
%:%2294=982%:%
%:%2295=983%:%
%:%2296=983%:%
%:%2297=984%:%
%:%2298=984%:%
%:%2299=985%:%
%:%2300=985%:%
%:%2301=986%:%
%:%2302=986%:%
%:%2303=987%:%
%:%2304=987%:%
%:%2305=987%:%
%:%2306=988%:%
%:%2307=988%:%
%:%2308=989%:%
%:%2309=989%:%
%:%2310=990%:%
%:%2311=990%:%
%:%2312=991%:%
%:%2313=991%:%
%:%2314=992%:%
%:%2315=992%:%
%:%2316=993%:%
%:%2317=993%:%
%:%2318=994%:%
%:%2319=994%:%
%:%2320=994%:%
%:%2321=995%:%
%:%2322=995%:%
%:%2323=996%:%
%:%2324=996%:%
%:%2325=997%:%
%:%2326=997%:%
%:%2327=998%:%
%:%2328=998%:%
%:%2329=999%:%
%:%2330=999%:%
%:%2331=1000%:%
%:%2332=1000%:%
%:%2333=1000%:%
%:%2334=1000%:%
%:%2335=1001%:%
%:%2336=1001%:%
%:%2337=1002%:%
%:%2338=1003%:%
%:%2339=1003%:%
%:%2340=1003%:%
%:%2341=1004%:%
%:%2342=1004%:%
%:%2343=1005%:%
%:%2344=1005%:%
%:%2345=1006%:%
%:%2346=1006%:%
%:%2347=1007%:%
%:%2348=1008%:%
%:%2349=1008%:%
%:%2350=1009%:%
%:%2351=1009%:%
%:%2352=1010%:%
%:%2353=1010%:%
%:%2354=1011%:%
%:%2355=1011%:%
%:%2356=1012%:%
%:%2357=1012%:%
%:%2358=1012%:%
%:%2359=1013%:%
%:%2360=1013%:%
%:%2361=1014%:%
%:%2362=1014%:%
%:%2363=1015%:%
%:%2364=1015%:%
%:%2365=1016%:%
%:%2366=1016%:%
%:%2367=1017%:%
%:%2368=1017%:%
%:%2369=1018%:%
%:%2370=1018%:%
%:%2371=1019%:%
%:%2372=1019%:%
%:%2373=1019%:%
%:%2374=1020%:%
%:%2375=1020%:%
%:%2376=1021%:%
%:%2377=1021%:%
%:%2378=1022%:%
%:%2379=1022%:%
%:%2380=1023%:%
%:%2381=1023%:%
%:%2382=1023%:%
%:%2383=1024%:%
%:%2384=1024%:%
%:%2385=1025%:%
%:%2386=1025%:%
%:%2387=1026%:%
%:%2388=1026%:%
%:%2389=1027%:%
%:%2390=1027%:%
%:%2391=1027%:%
%:%2392=1027%:%
%:%2393=1028%:%
%:%2394=1028%:%
%:%2395=1028%:%
%:%2396=1028%:%
%:%2397=1029%:%
%:%2398=1029%:%
%:%2399=1029%:%
%:%2400=1029%:%
%:%2401=1029%:%
%:%2402=1030%:%
%:%2403=1030%:%
%:%2404=1030%:%
%:%2405=1031%:%
%:%2406=1031%:%
%:%2407=1032%:%
%:%2408=1032%:%
%:%2409=1033%:%
%:%2410=1033%:%
%:%2411=1034%:%
%:%2412=1034%:%
%:%2413=1034%:%
%:%2414=1035%:%
%:%2415=1035%:%
%:%2416=1036%:%
%:%2417=1036%:%
%:%2418=1037%:%
%:%2419=1037%:%
%:%2420=1038%:%
%:%2421=1038%:%
%:%2422=1038%:%
%:%2423=1039%:%
%:%2424=1039%:%
%:%2425=1040%:%
%:%2426=1040%:%
%:%2427=1041%:%
%:%2428=1041%:%
%:%2429=1041%:%
%:%2430=1041%:%
%:%2431=1041%:%
%:%2432=1042%:%
%:%2433=1042%:%
%:%2434=1042%:%
%:%2435=1043%:%
%:%2436=1043%:%
%:%2437=1044%:%
%:%2438=1044%:%
%:%2439=1045%:%
%:%2440=1045%:%
%:%2441=1046%:%
%:%2442=1046%:%
%:%2443=1047%:%
%:%2444=1047%:%
%:%2445=1048%:%
%:%2446=1049%:%
%:%2447=1049%:%
%:%2448=1050%:%
%:%2449=1050%:%
%:%2450=1051%:%
%:%2451=1051%:%
%:%2452=1052%:%
%:%2453=1052%:%
%:%2454=1053%:%
%:%2455=1054%:%
%:%2456=1054%:%
%:%2457=1054%:%
%:%2458=1055%:%
%:%2459=1055%:%
%:%2460=1056%:%
%:%2461=1056%:%
%:%2462=1057%:%
%:%2468=1057%:%
%:%2471=1058%:%
%:%2472=1059%:%
%:%2473=1059%:%
%:%2475=1059%:%
%:%2479=1059%:%
%:%2480=1059%:%
%:%2481=1059%:%
%:%2488=1059%:%
%:%2489=1060%:%
%:%2490=1061%:%
%:%2491=1061%:%
%:%2494=1062%:%
%:%2498=1062%:%
%:%2499=1062%:%
%:%2500=1063%:%
%:%2501=1063%:%
%:%2502=1064%:%
%:%2503=1064%:%
%:%2504=1065%:%
%:%2505=1065%:%
%:%2506=1066%:%
%:%2507=1066%:%
%:%2508=1067%:%
%:%2509=1068%:%
%:%2510=1069%:%
%:%2511=1069%:%
%:%2516=1069%:%
%:%2519=1070%:%
%:%2520=1071%:%
%:%2521=1071%:%
%:%2528=1072%:%
