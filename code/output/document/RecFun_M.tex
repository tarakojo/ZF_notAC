%
\begin{isabellebody}%
\setisabellecontext{RecFun{\isacharunderscore}{\kern0pt}M}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ RecFun{\isacharunderscore}{\kern0pt}M\ \isanewline
\ \ \isakeyword{imports}\ \isanewline
\ \ \ \ ZF\ \isanewline
\ \ \ \ Utilities{\isacharunderscore}{\kern0pt}M\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\ \isanewline
%
\endisadelimtheory
\isanewline
\isacommand{definition}\isamarkupfalse%
\ rep{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}rep{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}p{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ z{\isacharcomma}{\kern0pt}\ r{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ \isanewline
\ \ \ \ Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}Equal{\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}x{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ z{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}p{\isacharcomma}{\kern0pt}\ r{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ x{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{context}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ctm\ \isanewline
\isakeyword{begin}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rep{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymAnd}x\ z\ r\ p\ H\ e\ i\ j\ k{\isachardot}{\kern0pt}\ x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ z\ {\isasymin}\ M\ {\isasymLongrightarrow}\ r\ {\isasymin}\ M\ {\isasymLongrightarrow}\ p\ {\isasymin}\ formula\ {\isasymLongrightarrow}\isanewline
\ \ \ \ i\ {\isasymin}\ nat\ {\isasymLongrightarrow}\ j\ {\isasymin}\ nat\ {\isasymLongrightarrow}\ k\ {\isasymin}\ nat\ {\isasymLongrightarrow}\ e\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ e\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ e{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x\ {\isasymLongrightarrow}\ nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ e{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ z\ {\isasymLongrightarrow}\ nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}\ e{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r\ {\isasymLongrightarrow}\ \isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymAnd}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ a{\isadigit{3}}\ env{\isachardot}{\kern0pt}\ a{\isadigit{0}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{1}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{2}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{3}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ {\isasymLongrightarrow}\ a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ p{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{3}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymforall}g{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ function{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharparenleft}{\kern0pt}H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}g{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ rep{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}p{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ e{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\ z\ r\ p\ H\ e\ i\ j\ k\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ inM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}r\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{and}\ pformula\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}p\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ ph\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ a{\isadigit{3}}\ env{\isachardot}{\kern0pt}\ a{\isadigit{0}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{1}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{2}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{3}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ {\isasymLongrightarrow}\ a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ p{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{3}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ Hh\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}x{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymforall}g{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ function{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacharparenleft}{\kern0pt}H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{and}\ envH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}e\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ e{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ e{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ z{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}\ e{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\ {\isachardoublequoteopen}e\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ iff{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}lemma\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}P\ Q\ R\ S{\isachardot}{\kern0pt}\ P\ {\isasymlongleftrightarrow}\ Q\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}P\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}R\ {\isasymlongleftrightarrow}\ S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}P\ {\isasymand}\ R{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}Q\ {\isasymand}\ S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ t{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}y{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}g{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}g\ {\isasymin}\ M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ t{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}g\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ t{\isadigit{3}}\ {\isacharcolon}{\kern0pt}\ \ \ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}{\isacharparenleft}{\kern0pt}{\isasymexists}g\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ M{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}a\ b\ c{\isachardot}{\kern0pt}\ c\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ g{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}g{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharsemicolon}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ g{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ iffD{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}abs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Hh\ inM\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relation{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ g{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}g{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharsemicolon}{\kern0pt}\ auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ g{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}M{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}a\ b\ c{\isachardot}{\kern0pt}\ c\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ iffD{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}abs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Hh\ inM\ \isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relation{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ t{\isadigit{4}}\ {\isacharcolon}{\kern0pt}\ \ \ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}{\isacharparenleft}{\kern0pt}{\isasymexists}x{\isacharprime}{\kern0pt}\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}g\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ x{\isacharprime}{\kern0pt}\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ M{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}a\ b\ c{\isachardot}{\kern0pt}\ c\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ inM\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ t{\isadigit{5}}{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ rep{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}p{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ e{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ rep{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}flip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x{\isacharprime}{\kern0pt}\ g\ y{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}g{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ e{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymTurnstile}\ Equal{\isacharparenleft}{\kern0pt}i\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}g{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ e{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymTurnstile}\ And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}i\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ j\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}p{\isacharcomma}{\kern0pt}\ k\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{3}}{\isacharcomma}{\kern0pt}\ i\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ iff{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ inM\ envH\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}flip{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}lemma{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ equal{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ envH\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conj{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ pair{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ inM\ envH\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ conj{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ inM\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x{\isacharprime}{\kern0pt}\ g\ y\ a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ a{\isadigit{3}}{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ p{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{3}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ g{\isacharcomma}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ e{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ iff{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ ph{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ inM\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}e\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ e{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x{\isacharprime}{\kern0pt}\ g\ y\ a\ l{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}M{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ g{\isacharcomma}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ l\ {\isasymTurnstile}\ p{\isachardoublequoteclose}\ \isakeyword{in}\ iff{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ ph{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ inM\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \ \ \ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}y{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}g{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ rep{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}p{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ e{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isadigit{1}}\ t{\isadigit{2}}\ t{\isadigit{3}}\ t{\isadigit{4}}\ t{\isadigit{5}}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ strep{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymAnd}P\ Q{\isachardot}{\kern0pt}\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ P{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymforall}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymforall}z\ {\isasymin}\ M{\isachardot}{\kern0pt}\ P{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ Q{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ Q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}def\ univalent{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ recfun{\isacharunderscore}{\kern0pt}strong{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}lemma\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ r\ H\ p\ \isanewline
\ \ \isakeyword{assumes}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}r\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}p\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}x\ g{\isachardot}{\kern0pt}\ x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ {\isasymLongrightarrow}\ function{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ env{\isachardot}{\kern0pt}\ a{\isadigit{0}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{1}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{2}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ p{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x\ z{\isachardot}{\kern0pt}\ {\isasymexists}y{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}g{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ph\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ env{\isachardot}{\kern0pt}\ a{\isadigit{0}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{1}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{2}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ p{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ strep{\isacharunderscore}{\kern0pt}sats\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymlambda}z{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ rep{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}p{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ replacement{\isacharunderscore}{\kern0pt}ax{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ rep{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ subst\ arity{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{4}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ subst\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ i{\isacharequal}{\kern0pt}{\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{6}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ j{\isacharequal}{\kern0pt}{\isadigit{3}}\ \isakeyword{in}\ le{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ j{\isacharequal}{\kern0pt}{\isadigit{3}}\ \isakeyword{in}\ le{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ \isanewline
\ \ \ \ {\isasymlambda}x\ z{\isachardot}{\kern0pt}\ {\isasymexists}y{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}g{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}\ {\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymlambda}z{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ rep{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}p{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}r{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ strep{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ strep{\isacharunderscore}{\kern0pt}sats{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ballI{\isacharsemicolon}{\kern0pt}\ rule\ ballI{\isacharsemicolon}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}flip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}M{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharcomma}{\kern0pt}\ r{\isacharbrackright}{\kern0pt}\ {\isasymTurnstile}\ rep{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}p{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ iff{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ rep{\isacharunderscore}{\kern0pt}for{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ iff{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}M{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymTurnstile}\ p{\isachardoublequoteclose}\ \isakeyword{in}\ iff{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ ph{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ recfun{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}lemma\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ r\ H\ p\ x\ \isanewline
\ \ \isakeyword{assumes}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}r\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}p\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}x\ g{\isachardot}{\kern0pt}\ x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ {\isasymLongrightarrow}\ function{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ env{\isachardot}{\kern0pt}\ a{\isadigit{0}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{1}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{2}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ p{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\ \ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}wfrec{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}a\ b\ c{\isachardot}{\kern0pt}\ c\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ \isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ wfrec{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}\ {\isasymlambda}x\ z{\isachardot}{\kern0pt}\ {\isasymexists}y{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}g{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ \ strep{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ recfun{\isacharunderscore}{\kern0pt}strong{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}lemma{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarify\ \isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymforall}f\ {\isasymin}\ M{\isachardot}{\kern0pt}\ M{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}a\ b\ c{\isachardot}{\kern0pt}\ c\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ r{\isacharcomma}{\kern0pt}\ xa{\isacharcomma}{\kern0pt}\ f{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ xa{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ mp{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarify\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}abs{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ relation{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\ \isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}exists{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}recfun{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ r\ H\ p\ x\ \isanewline
\ \ \isakeyword{assumes}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}r\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}p\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}x\ g{\isachardot}{\kern0pt}\ x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ {\isasymLongrightarrow}\ function{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ env{\isachardot}{\kern0pt}\ a{\isadigit{0}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{1}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{2}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ p{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}f\ {\isasymin}\ M{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}rex{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ mp{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ wf{\isacharunderscore}{\kern0pt}exists{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ recfun{\isacharunderscore}{\kern0pt}strong{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}lemma{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\ \isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ r\ H\ p\ x\ \isanewline
\ \ \isakeyword{assumes}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}r\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}p\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}x\ g{\isachardot}{\kern0pt}\ x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ {\isasymLongrightarrow}\ function{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ env{\isachardot}{\kern0pt}\ a{\isadigit{0}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{1}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{2}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ p{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}f\ {\isasymin}\ M{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ wf{\isacharunderscore}{\kern0pt}exists{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}recfun{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\ fH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}f\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ f{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ fH\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ wftrec{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ r\ H\ p\ x\ \isanewline
\ \ \isakeyword{assumes}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}r\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}p\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ env{\isachardot}{\kern0pt}\ a{\isadigit{0}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{1}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{2}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ p{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\ \ \isakeyword{and}\ HM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}x\ g{\isachardot}{\kern0pt}\ x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ {\isasymLongrightarrow}\ function{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ recfuninM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ unfold{\isacharunderscore}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eq\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}y{\isasymin}r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ restrict{\isacharparenleft}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ HM{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ recfuninM\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isacharcomma}{\kern0pt}\ rule\ function{\isacharunderscore}{\kern0pt}lam{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ wftrec{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ wftrec{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}closed\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ r\ H\ p\ A\ \ \isanewline
\ \ \isakeyword{assumes}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}r\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}p\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}A\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}x\ g{\isachardot}{\kern0pt}\ x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ {\isasymLongrightarrow}\ function{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ env{\isachardot}{\kern0pt}\ a{\isadigit{0}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{1}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{2}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ p{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachargreater}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isasymin}\ A\ {\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ H{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x\ z{\isachardot}{\kern0pt}\ {\isasymexists}y{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}g{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ recfun{\isacharunderscore}{\kern0pt}strong{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}lemma\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}strong{\isacharunderscore}{\kern0pt}replacement{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x\ z{\isachardot}{\kern0pt}\ z\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffD{\isadigit{1}}{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}x\ z{\isachardot}{\kern0pt}\ {\isasymexists}y{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}g{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymand}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ strong{\isacharunderscore}{\kern0pt}replacement{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x\ y\ g{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ a{\isacharequal}{\kern0pt}g\ \isakeyword{and}\ b{\isacharequal}{\kern0pt}{\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ ssubst{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x\ y{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ rexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ x\ y{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ rexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}abs\ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ unfold{\isacharunderscore}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ rule\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{8}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ H\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ to{\isacharunderscore}{\kern0pt}rin{\isacharcomma}{\kern0pt}\ rule\ RepFun{\isacharunderscore}{\kern0pt}closed{\isacharcomma}{\kern0pt}\ rule\ H{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ballI{\isacharcomma}{\kern0pt}\ rule\ iffD{\isadigit{2}}{\isacharcomma}{\kern0pt}\ rule\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ transM\ assms\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ rule\ wftrec{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ transM\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ H\ Hfm\ r\ x\ v\ i\ j\ k\ env\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}r\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}Hfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}Hfm{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{3}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}x\ g{\isachardot}{\kern0pt}\ x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ {\isasymLongrightarrow}\ function{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{and}\ HH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ env{\isachardot}{\kern0pt}\ a{\isadigit{0}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{1}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{2}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ Hfm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Hfm{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ iff{\isacharunderscore}{\kern0pt}helper\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}g{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}g{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ g\ \isakeyword{where}\ gH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}g\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ g{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ gH\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ wftrec{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ gH\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ unfold{\isacharunderscore}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}g{\isacharbrackleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharbrackright}{\kern0pt}{\isachardot}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ bexI{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isadigit{1}}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ wftrec{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ p{\isacharequal}{\kern0pt}Hfm\ \isakeyword{in}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ assms{\isadigit{1}}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Hfm{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}wfrec{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}{\isachardot}{\kern0pt}\ a{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}flip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ a{\isadigit{3}}\ a{\isadigit{4}}{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ b{\isacharequal}{\kern0pt}{\isachardoublequoteopen}Cons{\isacharparenleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}a{\isadigit{4}}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ a{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}a{\isadigit{3}}{\isacharcomma}{\kern0pt}\ a{\isadigit{4}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ ssubst{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ HH{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ H{\isacharequal}{\kern0pt}H\ \isakeyword{in}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}abs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ relation{\isadigit{2}}{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}helper{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ preds\ \isakeyword{where}\ {\isachardoublequoteopen}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ R{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isacommand{definition}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel\ \isakeyword{where}\ {\isachardoublequoteopen}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ R{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}subset\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ \ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ preds{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}subset{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ preds{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ Relation{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ {\isachardoublequoteopen}Relation{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ fm{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ fm\ {\isasymin}\ formula\ {\isasymand}\ arity{\isacharparenleft}{\kern0pt}fm{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymforall}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymforall}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ R{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ fm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Relation{\isacharunderscore}{\kern0pt}fmD\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}R\ Rfm\ env\ a\ b{\isachardot}{\kern0pt}\ Relation{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ Rfm{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ a\ {\isasymin}\ M\ {\isasymLongrightarrow}\ b\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ \ R{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ M{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env\ {\isasymTurnstile}\ Rfm{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ Relation{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}ren\ \isakeyword{where}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}ren{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ \ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isachargreater}{\kern0pt}\ {\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachargreater}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}Rfm{\isacharunderscore}{\kern0pt}ren\ \isakeyword{where}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}Rfm{\isacharunderscore}{\kern0pt}ren{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ ren{\isacharparenleft}{\kern0pt}Rfm{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isadigit{2}}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbackquote}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}ren{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ S{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ Forall{\isacharparenleft}{\kern0pt}Iff{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ S\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}Rfm{\isacharunderscore}{\kern0pt}ren{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{context}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ctm\ \isanewline
\isakeyword{begin}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}ren{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ x\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}ren{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isadigit{2}}\ {\isasymrightarrow}\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Pi{\isacharunderscore}{\kern0pt}memberI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}ren{\isacharunderscore}{\kern0pt}def\ relation{\isacharunderscore}{\kern0pt}def\ function{\isacharunderscore}{\kern0pt}def\ domain{\isacharunderscore}{\kern0pt}def\ range{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}force{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}x\ {\isasymle}\ {\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}{\isasymnot}\ {\isadigit{0}}\ {\isacharless}{\kern0pt}\ x{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ rule\ not{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ clarify\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ ltD\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ Rfm\ x\ S\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}S\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}Rfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ S{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}Rfm{\isacharunderscore}{\kern0pt}ren{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}Rfm{\isacharunderscore}{\kern0pt}ren{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ren{\isacharunderscore}{\kern0pt}tc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}ren{\isacharunderscore}{\kern0pt}type\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ S{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}arity\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ Rfm\ x\ S\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}S\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}Rfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}Rfm{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ H\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}Rfm{\isacharunderscore}{\kern0pt}ren{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}Rfm{\isacharunderscore}{\kern0pt}ren{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ren{\isacharunderscore}{\kern0pt}tc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}ren{\isacharunderscore}{\kern0pt}type\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}Rfm{\isacharunderscore}{\kern0pt}ren{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}Rfm{\isacharunderscore}{\kern0pt}ren{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ arity{\isacharunderscore}{\kern0pt}ren{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}ren{\isacharunderscore}{\kern0pt}type\ Relation{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ le{\isacharunderscore}{\kern0pt}refl\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ pred{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}type{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}H{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ pred{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ j\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}pred{\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}type{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}H{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ltI\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ R\ Rfm\ i\ j\ x\ S\ env\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Relation{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ Rfm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ S{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}S\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ S\ {\isacharequal}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ iff{\isacharunderscore}{\kern0pt}lemma\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}P\ Q\ R{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}P\ {\isasymlongleftrightarrow}\ Q{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}R\ {\isasymlongleftrightarrow}\ P{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}R\ {\isasymlongleftrightarrow}\ Q{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ren{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}{\isasymAnd}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ M\ {\isasymLongrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}Rfm{\isacharunderscore}{\kern0pt}ren{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ Rfm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}Rfm{\isacharunderscore}{\kern0pt}ren{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}flip{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}ren{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ Relation{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Pi{\isacharunderscore}{\kern0pt}memberI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}ren{\isacharunderscore}{\kern0pt}def\ relation{\isacharunderscore}{\kern0pt}def\ function{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltD{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ v\ k{\isacharcomma}{\kern0pt}\ case{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}k{\isacharequal}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ function{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}equality{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ function{\isacharunderscore}{\kern0pt}def\ \ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ v\ k{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}k{\isacharequal}{\kern0pt}{\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ function{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}equality{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ function{\isacharunderscore}{\kern0pt}def\ \ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ le{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ RH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ M\ {\isasymLongrightarrow}\ R{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}Rfm{\isacharunderscore}{\kern0pt}ren{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ R{\isacharequal}{\kern0pt}R\ \isakeyword{and}\ Rfm\ {\isacharequal}{\kern0pt}\ Rfm\ \isakeyword{and}\ env\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ \ Relation{\isacharunderscore}{\kern0pt}fmD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ {\isacharcomma}{\kern0pt}simp\ {\isacharcomma}{\kern0pt}simp\ {\isacharcomma}{\kern0pt}simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ren{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isasymin}\ S\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}Rfm{\isacharunderscore}{\kern0pt}ren{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isasymin}\ S\ {\isasymlongleftrightarrow}\ R{\isacharparenleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ball{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}lemma{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ RH\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{3}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ S\ {\isacharequal}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ y{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}y\ {\isasymin}\ M{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ force{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ transM\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \ \ \isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ I{\isadigit{1}}\ I{\isadigit{2}}\ I{\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ S{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ \isanewline
\ \ \ \ Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Forall{\isacharparenleft}{\kern0pt}Iff{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ S\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}Or{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Equal{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Rfm{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{context}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ctm\ \isanewline
\isakeyword{begin}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ Rfm\ x\ S\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}S\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}Rfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ S{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}arity\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ Rfm\ x\ S\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}S\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}Rfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}Rfm{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ pred{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharcomma}{\kern0pt}\ rule\ arity{\isacharunderscore}{\kern0pt}type{\isacharcomma}{\kern0pt}\ rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ j{\isacharequal}{\kern0pt}{\isachardoublequoteopen}pred{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ arity{\isacharunderscore}{\kern0pt}type{\isacharcomma}{\kern0pt}\ rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}arity{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ Ord{\isacharunderscore}{\kern0pt}un{\isacharunderscore}{\kern0pt}eq{\isadigit{1}}{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ a{\isacharequal}{\kern0pt}{\isadigit{2}}\ \isakeyword{and}\ \ b\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}Rfm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ ssubst{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ Relation{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\ \ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}clarify{\isacharcomma}{\kern0pt}\ rule\ lt{\isacharunderscore}{\kern0pt}succ{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}lt\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ R\ Rfm\ i\ j\ x\ S\ env\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Relation{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ Rfm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ S{\isachardoublequoteclose}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}S\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ S\ {\isacharequal}{\kern0pt}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ iff{\isacharunderscore}{\kern0pt}lemma\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}P\ Q\ R\ S{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}P\ {\isasymlongleftrightarrow}\ Q{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}Q\ {\isasymLongrightarrow}\ R\ {\isasymlongleftrightarrow}\ S{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}P\ {\isasymand}\ R{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}Q\ {\isasymand}\ S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ iff{\isacharunderscore}{\kern0pt}lemma{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}P\ Q\ R\ S{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}P\ {\isasymlongleftrightarrow}\ Q{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}R\ {\isasymlongleftrightarrow}\ S{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}P\ {\isasymlongleftrightarrow}\ R{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}Q\ {\isasymlongleftrightarrow}\ S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}P\ {\isasymin}\ M{\isachardot}{\kern0pt}\ P\ {\isacharequal}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v\ {\isasymin}\ M{\isachardot}{\kern0pt}\ v\ {\isasymin}\ S\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}z\ {\isasymin}\ M{\isachardot}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymand}\ z\ {\isasymin}\ P\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y\ {\isasymin}\ P\ {\isasymor}\ y\ {\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ R{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}lemma{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Forall{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ ball{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Iff{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}lemma{\isadigit{2}}{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ assms\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Or{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}disjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ assms\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ a\ b\ c\ d\ {\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}flip{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ R{\isacharequal}{\kern0pt}R\ \isakeyword{and}\ Rfm\ {\isacharequal}{\kern0pt}\ Rfm\ \isakeyword{and}\ env\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}Cons{\isacharparenleft}{\kern0pt}{\isasymlangle}d{\isacharcomma}{\kern0pt}\ c{\isasymrangle}{\isacharcomma}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ Relation{\isacharunderscore}{\kern0pt}fmD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v\ {\isasymin}\ M{\isachardot}{\kern0pt}\ v\ {\isasymin}\ S\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}z\ {\isasymin}\ M{\isachardot}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymand}\ z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymor}\ y\ {\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ R{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{3}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ S\ {\isacharequal}{\kern0pt}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ v\ \isacommand{assume}\isamarkupfalse%
\ assms{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}M{\isachardot}{\kern0pt}\ v\ {\isasymin}\ S\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}z{\isasymin}M{\isachardot}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymand}\ z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymor}\ y\ {\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ R{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isasymin}\ S{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ transM\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}z{\isasymin}M{\isachardot}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymand}\ z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymor}\ y\ {\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ R{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y\ z\ \isakeyword{where}\ yzH\ {\isacharcolon}{\kern0pt}{\isachardoublequoteopen}y\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymor}\ y\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}R{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ R{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ v\ \isacommand{assume}\isamarkupfalse%
\ assms{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}M{\isachardot}{\kern0pt}\ v\ {\isasymin}\ S\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}z{\isasymin}M{\isachardot}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymand}\ z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymor}\ y\ {\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ R{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ R{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y\ z\ \isakeyword{where}\ yzH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymor}\ y\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}R{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ zinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ yinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ yzH\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}z{\isasymin}M{\isachardot}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymand}\ z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymor}\ y\ {\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ R{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ zinM\ yinM\ yzH\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ S{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ yzH\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ zinM\ yinM\ assms{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}S\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymlangle}z{\isacharcomma}{\kern0pt}y{\isasymrangle}\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isachardot}{\kern0pt}\ R{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}v{\isasymin}M{\isachardot}{\kern0pt}\ v\ {\isasymin}\ S\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}z{\isasymin}M{\isachardot}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymand}\ z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymor}\ y\ {\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ R{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ I{\isadigit{1}}\ I{\isadigit{2}}\ I{\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ R\ Rfm\ x\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Relation{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ Rfm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ fm\ \isakeyword{where}\ {\isachardoublequoteopen}fm\ {\isasymequiv}\ Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Rfm{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}{\isasymAnd}v{\isachardot}{\kern0pt}\ v\ {\isasymin}\ M\ {\isasymLongrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ fm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymexists}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}z\ {\isasymin}\ M{\isachardot}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymand}\ R{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ iff{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}conjI{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}flip{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rename{\isacharunderscore}{\kern0pt}tac\ v\ a\ b{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ Rfm{\isacharequal}{\kern0pt}Rfm\ \isakeyword{and}\ R{\isacharequal}{\kern0pt}R\ \isakeyword{in}\ Relation{\isacharunderscore}{\kern0pt}fmD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}v{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ fm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}ax{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ Relation{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ force{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\ \ \isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}\ v\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ fm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ separation{\isacharunderscore}{\kern0pt}notation{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cartprod{\isacharunderscore}{\kern0pt}closed\ Un{\isacharunderscore}{\kern0pt}closed\ singleton{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}\ v\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ fm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}\ v\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ v\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ cartprod{\isacharunderscore}{\kern0pt}closed\ Un{\isacharunderscore}{\kern0pt}closed\ singleton{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ transM\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ transM\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ H\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \ \isanewline
\isacommand{lemma}\isamarkupfalse%
\ trans{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\ M\ {\isasymLongrightarrow}\ trans{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ trans{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ trans{\isacharunderscore}{\kern0pt}def\ \isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}clarify{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\ y\ z\ \isacommand{assume}\isamarkupfalse%
\ assms\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}x\ y\ z{\isachardot}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isasymlangle}y{\isacharcomma}{\kern0pt}\ z{\isasymrangle}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ z{\isasymrangle}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ z{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ xin\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ zin\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ t{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ subsetD{\isacharparenright}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}subset\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ z{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ subsetD{\isacharparenright}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}subset\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ H{\isadigit{1}}\ H{\isadigit{2}}\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}R{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}\ z{\isasymrangle}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xin\ zin\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ wf{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ wf{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ s{\isacharequal}{\kern0pt}{\isachardoublequoteopen}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ \ wf{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}subset\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}eq\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ z\ \isacommand{assume}\isamarkupfalse%
\ assms\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}x\ \isakeyword{in}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}subset{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ z\ \isacommand{assume}\isamarkupfalse%
\ assms\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ {\isachardoublequoteopen}z\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ rel\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ rel{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ trans{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ yin\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}def\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ zin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ rel{\isacharprime}{\kern0pt}\ assms\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ yin\ zin\ rel\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}eq{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ {\isachardoublequoteopen}x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ y\ \isacommand{assume}\isamarkupfalse%
\ assms\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ b{\isacharequal}{\kern0pt}x\ \isakeyword{in}\ vimageI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}x\ \isakeyword{in}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}subset{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ y\ \isacommand{assume}\isamarkupfalse%
\ assms\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}eq\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ x\ y\ R\ H\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eq\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymlongrightarrow}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymlongrightarrow}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ r{\isacharequal}{\kern0pt}{\isachardoublequoteopen}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ wf{\isacharunderscore}{\kern0pt}induct{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ impI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y\ \ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}z{\isachardot}{\kern0pt}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymlongrightarrow}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ih\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}z{\isachardot}{\kern0pt}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ vimage{\isacharunderscore}{\kern0pt}preds\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}z{\isachardot}{\kern0pt}\ z\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ z\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}y{\isacharequal}{\kern0pt}x{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ H\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ assms\ H\ \isacommand{unfolding}\isamarkupfalse%
\ trans{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ recfun\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ unfold{\isacharunderscore}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ wf{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel\ trans{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ recfun{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ unfold{\isacharunderscore}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isasymin}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ restrict{\isacharparenleft}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}z{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ recfun\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isasymin}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ lam{\isacharunderscore}{\kern0pt}cong{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}cut{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ wf{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel\ trans{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isasymin}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ lam{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}eq{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ assms{\isadigit{1}}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}def\ preds{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isasymin}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ lam{\isacharunderscore}{\kern0pt}cong{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ subst\ ih{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ rule\ disjI{\isadigit{1}}{\isacharcomma}{\kern0pt}\ rule\ vimage{\isacharunderscore}{\kern0pt}preds{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isasymin}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}z{\isacharcomma}{\kern0pt}\ restrict{\isacharparenleft}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}z{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ lam{\isacharunderscore}{\kern0pt}cong{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}cut{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ recfun{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ wftrec{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}eq\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ x\ R\ H\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}wftrec{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}wftrec{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ wftrec{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\ \isanewline
\isacommand{definition}\isamarkupfalse%
\ prel\ \isakeyword{where}\ {\isachardoublequoteopen}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymexists}\ x{\isacharprime}{\kern0pt}\ y{\isacharprime}{\kern0pt}\ a{\isachardot}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymand}\ {\isacharless}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ r\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ prelI\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ r\ {\isasymLongrightarrow}\ a\ {\isasymin}\ A\ {\isasymLongrightarrow}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ prelD\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymexists}x{\isacharprime}{\kern0pt}\ y{\isacharprime}{\kern0pt}\ a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ A\ {\isasymand}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymand}\ {\isacharless}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ r{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{schematic{\isacharunderscore}{\kern0pt}goal}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r{\isachardoublequoteclose}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ A{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}x{\isacharprime}{\kern0pt}\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}y{\isacharprime}{\kern0pt}\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}a\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}y{\isacharprime}{\kern0pt}\ {\isasymin}\ M{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}y{\isacharprime}{\kern0pt}\ {\isasymin}\ r{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}{\isacharquery}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}insert\ assms\ {\isacharsemicolon}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ sep{\isacharunderscore}{\kern0pt}rules\ {\isacharbar}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}prel{\isacharunderscore}{\kern0pt}fm\ {\isasymequiv}\ Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}\ {\isadigit{4}}{\isacharcomma}{\kern0pt}\ {\isadigit{6}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{7}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ \ {\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{context}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ctm\ \isanewline
\isakeyword{begin}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ {\isachardoublequoteopen}p\ {\isasymin}\ M\ {\isasymLongrightarrow}\ r\ {\isasymin}\ M\ {\isasymLongrightarrow}\ A\ {\isasymin}\ M\ {\isasymLongrightarrow}\ \isanewline
\ \ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ prel{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}p{\isacharcomma}{\kern0pt}\ r{\isacharcomma}{\kern0pt}\ A{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ x\ y\ x{\isacharprime}{\kern0pt}\ y{\isacharprime}{\kern0pt}\ a{\isachardot}{\kern0pt}\ p\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymand}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymand}\ {\isacharless}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymexists}x\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}x{\isacharprime}{\kern0pt}\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}y{\isacharprime}{\kern0pt}\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}a\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}y{\isacharprime}{\kern0pt}\ {\isasymin}\ M{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymand}\ pair{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}y{\isacharprime}{\kern0pt}\ {\isasymin}\ r{\isacharparenright}{\kern0pt}\ {\isachardoublequoteclose}\ \isakeyword{in}\ iff{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}flip{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ r{\isacharequal}{\kern0pt}r\ \isakeyword{and}\ A{\isacharequal}{\kern0pt}A\ \isakeyword{in}\ prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}auto{\isacharparenright}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ transM\ \isacommand{apply}\isamarkupfalse%
\ auto\ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}closed\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ {\isachardoublequoteopen}r\ {\isasymin}\ M\ {\isasymLongrightarrow}\ A\ {\isasymin}\ M\ {\isasymLongrightarrow}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}A\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ field{\isacharunderscore}{\kern0pt}closed\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ base{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ cartprod{\isacharunderscore}{\kern0pt}closed\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}x{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ prel{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ A{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ separation{\isacharunderscore}{\kern0pt}ax{\isacharparenright}{\kern0pt}\ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{apply}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\ \ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}\ p\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ prel{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}p{\isacharbrackright}{\kern0pt}{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ A{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ separation{\isacharunderscore}{\kern0pt}notation{\isacharparenright}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ base\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}\ p\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ prel{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}p{\isacharbrackright}{\kern0pt}{\isacharat}{\kern0pt}{\isacharbrackleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ A{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}\ p\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymexists}\ x\ y\ x{\isacharprime}{\kern0pt}\ y{\isacharprime}{\kern0pt}\ a{\isachardot}{\kern0pt}\ p\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymand}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymand}\ {\isacharless}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ r{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ iff{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ b{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}p{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ A{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ a\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}p{\isacharcomma}{\kern0pt}\ r{\isacharcomma}{\kern0pt}\ A{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ ssubst{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ to{\isacharunderscore}{\kern0pt}rin{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ transM{\isacharparenright}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ base\ transM\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ iff{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ H\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}prel\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ wf{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ A{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ wfI{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}prel{\isacharunderscore}{\kern0pt}def\ field{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \isacommand{apply}\isamarkupfalse%
\ blast\ \isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}clarify{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ B\ a\ x\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ A{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}y{\isasymin}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isachardot}{\kern0pt}\ {\isasymlangle}y{\isacharcomma}{\kern0pt}\ x{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ y\ {\isasymin}\ B{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ x\ {\isasymin}\ B{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ih\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}x\ a{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}\ y\ b{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A\ {\isasymLongrightarrow}\ {\isasymlangle}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymin}\ B{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymin}\ B{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A\ {\isasymlongrightarrow}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymin}\ B{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ r{\isacharequal}{\kern0pt}r\ \isakeyword{and}\ P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A\ {\isasymlongrightarrow}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymin}\ B{\isachardoublequoteclose}\ \isakeyword{in}\ wf{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{apply}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarify\ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ ih{\isacharparenright}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{apply}\isamarkupfalse%
\ simp\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ y\ b\ \isacommand{assume}\isamarkupfalse%
\ assms{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}{\isasymlangle}y{\isacharcomma}{\kern0pt}\ b{\isasymrangle}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}y{\isachardot}{\kern0pt}\ {\isasymlangle}y{\isacharcomma}{\kern0pt}\ x{\isasymrangle}\ {\isasymin}\ r\ {\isasymLongrightarrow}\ {\isasymlangle}y{\isacharcomma}{\kern0pt}\ a{\isasymrangle}\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A\ {\isasymlongrightarrow}\ {\isasymlangle}y{\isacharcomma}{\kern0pt}\ a{\isasymrangle}\ {\isasymin}\ B{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}b\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ r{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isadigit{1}}\ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ A{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isadigit{1}}\ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymlangle}y{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ B{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isadigit{1}}\ H{\isadigit{1}}\ H{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymin}\ B{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}trans\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ trans{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ trans{\isacharunderscore}{\kern0pt}def\ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\ y\ z\ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}x\ y\ z{\isachardot}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymin}\ r\ {\isasymlongrightarrow}\ {\isasymlangle}y{\isacharcomma}{\kern0pt}\ z{\isasymrangle}\ {\isasymin}\ r\ {\isasymlongrightarrow}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ z{\isasymrangle}\ {\isasymin}\ r{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymlangle}x{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymlangle}y{\isacharcomma}{\kern0pt}\ z{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}\ {\isasymexists}x{\isacharprime}{\kern0pt}\ y{\isacharprime}{\kern0pt}\ a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ p\ {\isasymand}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymand}\ {\isacharless}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ r{\isachardoublequoteclose}\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ prelD{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}\ y{\isacharprime}{\kern0pt}\ a\ \isakeyword{where}\ H{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ r{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}\ {\isasymexists}y{\isacharprime}{\kern0pt}\ z{\isacharprime}{\kern0pt}\ b{\isachardot}{\kern0pt}\ b\ {\isasymin}\ p\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymand}\ z\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymand}\ {\isacharless}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ r{\isachardoublequoteclose}\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ prelD{\isacharparenright}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ simp\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y{\isacharprime}{\kern0pt}\ z{\isacharprime}{\kern0pt}\ b\ \isakeyword{where}\ H{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}z\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ r{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ b{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ H{\isadigit{1}}\ H{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ r{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ H{\isadigit{1}}\ H{\isadigit{2}}\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ prelI{\isacharparenright}{\kern0pt}\ \isacommand{using}\isamarkupfalse%
\ H{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ H{\isadigit{1}}\ H{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharcomma}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{6}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{6}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{6}}{\isacharcomma}{\kern0pt}\ {\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ Member{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}\ {\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{context}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ctm\ \isanewline
\isakeyword{begin}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ Rfm\ x\ a\ v\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}Rfm\ {\isasymin}\ formula{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}arity\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ Rfm\ x\ a\ v\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}Rfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}Rfm{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ pair{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ upair{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ pred{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ j\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}pred{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}arity{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ Ord{\isacharunderscore}{\kern0pt}un{\isacharunderscore}{\kern0pt}eq{\isadigit{1}}{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}ltI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}ltI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ R\ Rfm\ i\ j\ k\ x\ a\ v\ env\ p\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Relation{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ Rfm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}p\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ p{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ iff{\isacharunderscore}{\kern0pt}lemma\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}P\ Q\ R\ S{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}P\ {\isasymlongleftrightarrow}\ Q{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}Q\ {\isasymLongrightarrow}\ R\ {\isasymlongleftrightarrow}\ S{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}P\ {\isasymand}\ R{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}Q\ {\isasymand}\ S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ iff{\isacharunderscore}{\kern0pt}lemma{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}P\ Q\ R\ S{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}P\ {\isasymlongleftrightarrow}\ Q{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}R\ {\isasymlongleftrightarrow}\ S{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}P\ {\isasymlongleftrightarrow}\ R{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}Q\ {\isasymlongleftrightarrow}\ S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ iff{\isacharunderscore}{\kern0pt}lemma{\isadigit{3}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}A\ B\ C{\isachardot}{\kern0pt}\ B\ {\isacharequal}{\kern0pt}\ C\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ B{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ C{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}A\ {\isasymin}\ M{\isachardot}{\kern0pt}\ A\ {\isacharequal}{\kern0pt}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymexists}zy\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}ya\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}za\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}z\ {\isasymin}\ M{\isachardot}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}za{\isacharcomma}{\kern0pt}\ ya{\isachargreater}{\kern0pt}\ {\isasymand}\ za\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymand}\ ya\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymand}\ zy\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymand}\ zy\ {\isasymin}\ A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}lemma{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{9}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ iff{\isacharunderscore}{\kern0pt}lemma{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}{\isacharparenleft}{\kern0pt}{\isasymexists}y\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}z\ {\isasymin}\ M{\isachardot}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymand}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{3}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}z{\isasymin}M{\isachardot}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}z{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ a{\isasymrangle}\ {\isasymand}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y\ z\ \isakeyword{where}\ yzH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}z\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ yzH\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ preds{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlangle}z{\isacharcomma}{\kern0pt}\ a{\isasymrangle}\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ assms\ yzH\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ yzH\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymor}\ y\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ prel{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}\ {\isasymor}\ y\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ \isacommand{using}\isamarkupfalse%
\ assms\ yzH\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{3}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ prelI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ yzH\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ assms\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ yzH\ H{\isadigit{1}}\ H{\isadigit{2}}\ H{\isadigit{3}}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ za\ ya\ \isakeyword{where}\ zyH\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}za{\isacharcomma}{\kern0pt}\ ya{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymlangle}za{\isacharcomma}{\kern0pt}\ ya{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}za\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}ya\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\ zaeq\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}za\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ zyH\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ y\ \isakeyword{where}\ yaeq\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ya\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ zyH\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ rel\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ zyH\ zaeq\ yaeq\ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ zinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ zaeq\ zyH\ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ yinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ yaeq\ zyH\ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ zyH\ zaeq\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ prel{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymor}\ y\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ zyH\ yaeq\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ prel{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ rel{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ y{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ H{\isadigit{1}}\ H{\isadigit{2}}\ rel\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}y{\isasymin}M{\isachardot}{\kern0pt}\ {\isasymexists}z{\isasymin}M{\isachardot}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isasymlangle}{\isasymlangle}z{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ a{\isasymrangle}\ {\isasymand}\ {\isasymlangle}z{\isacharcomma}{\kern0pt}\ y{\isasymrangle}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}y\ \isakeyword{in}\ bexI{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}z\ \isakeyword{in}\ bexI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ zyH\ zaeq\ yaeq\ rel{\isacharprime}{\kern0pt}\ yinM\ zinM\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ I{\isadigit{1}}\ I{\isadigit{2}}\ I{\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ R\ Rfm\ x\ a\ p\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Relation{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ Rfm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}p\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ p{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ A\ \isakeyword{where}\ {\isachardoublequoteopen}A\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}\ v\ {\isasymin}\ {\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}separation{\isacharparenleft}{\kern0pt}{\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}M{\isacharcomma}{\kern0pt}\ {\isasymlambda}v{\isachardot}{\kern0pt}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}v{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}ax{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Relation{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}arity{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ AinM\ {\isacharcolon}{\kern0pt}\ \ {\isachardoublequoteopen}A\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ separation{\isacharunderscore}{\kern0pt}notation{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ singleton{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ assms\ cartprod{\isacharunderscore}{\kern0pt}closed\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ Un{\isacharunderscore}{\kern0pt}closed\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}A\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}\ v\ {\isasymin}\ {\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ v\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ A{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ transM\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ H\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}X\ Y\ P\ x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymin}\ X\ {\isasymtimes}\ Y{\isachardot}{\kern0pt}\ P{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymexists}a\ b{\isachardot}{\kern0pt}\ a\ {\isasymin}\ X\ {\isasymand}\ b\ {\isasymin}\ Y\ {\isasymand}\ P{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymand}\ x\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isacommand{assume}\isamarkupfalse%
\ sin\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}za\ ya{\isachardot}{\kern0pt}\ \isanewline
\ \ \ \ \ \ za\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isasymand}\ ya\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isasymand}\ {\isasymlangle}za{\isacharcomma}{\kern0pt}\ ya{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isasymand}\ s\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}za{\isacharcomma}{\kern0pt}\ ya{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ H{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ za\ ya\ \isakeyword{where}\ zayaH{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}za\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}ya\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymlangle}za{\isacharcomma}{\kern0pt}\ ya{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}s\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}za{\isacharcomma}{\kern0pt}\ ya{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\ zaeq\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}za\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ zayaH\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ y\ \isakeyword{where}\ yaeq\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ya\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ zayaH\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ zayaH\ zaeq\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isasymor}\ y\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ zayaH\ yaeq\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isasymor}\ y\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}v\ {\isasymin}\ {\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isachardot}{\kern0pt}\ v\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sin\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ zaeq\ yaeq\ zayaH\ H{\isadigit{1}}\ H{\isadigit{2}}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ AinM\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ \isanewline
\ \ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ S{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ Forall{\isacharparenleft}{\kern0pt}Iff{\isacharparenleft}{\kern0pt}Member{\isacharparenleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ S\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{context}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ctm\ \isanewline
\isakeyword{begin}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ Rfm\ x\ a\ S\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Rfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}S\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ S{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}arity\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ R\ Rfm\ x\ a\ S\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Rfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}Rfm{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}S\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ succ{\isacharparenleft}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ pred{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ b{\isacharequal}{\kern0pt}{\isachardoublequoteopen}succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ a{\isacharequal}{\kern0pt}{\isachardoublequoteopen}succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ ssubst{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ succ{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ succ{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ j{\isacharequal}{\kern0pt}{\isachardoublequoteopen}succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{in}\ le{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}arity{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ j{\isacharequal}{\kern0pt}{\isachardoublequoteopen}succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}S{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ Un{\isacharunderscore}{\kern0pt}upper{\isadigit{2}}{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ R\ Rfm\ i\ j\ k\ x\ a\ S\ env\ p\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Relation{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ Rfm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ S{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}S\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}p\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ p{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ S\ {\isacharequal}{\kern0pt}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ iff{\isacharunderscore}{\kern0pt}lemma\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}P\ Q\ R\ S{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}P\ {\isasymlongleftrightarrow}\ Q{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}R\ {\isasymlongleftrightarrow}\ S{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}P\ {\isasymlongleftrightarrow}\ R{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}Q\ {\isasymlongleftrightarrow}\ S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ iff{\isacharunderscore}{\kern0pt}lemma{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}A\ B\ C{\isachardot}{\kern0pt}\ B\ {\isacharequal}{\kern0pt}\ C\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ B{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ C{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ transM\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}v\ {\isasymin}\ M{\isachardot}{\kern0pt}\ v\ {\isasymin}\ S\ {\isasymlongleftrightarrow}\ v\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Forall{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ ball{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Iff{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}lemma{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}elem{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ S\ {\isacharequal}{\kern0pt}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ v{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}v\ {\isasymin}\ M{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ transM\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ v{\isacharcomma}{\kern0pt}\ subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}v\ {\isasymin}\ M{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ H\ \isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ I{\isadigit{1}}\ I{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}fm\ \isakeyword{where}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Gfm{\isacharcomma}{\kern0pt}\ Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymequiv}\ Exists{\isacharparenleft}{\kern0pt}Exists{\isacharparenleft}{\kern0pt}And{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ And{\isacharparenleft}{\kern0pt}pair{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Gfm{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{context}\isamarkupfalse%
\ M{\isacharunderscore}{\kern0pt}ctm\ \isanewline
\isakeyword{begin}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ Gfm\ Rfm\ x\ a\ v\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Gfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ {\isachardoublequoteopen}Rfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Gfm{\isacharcomma}{\kern0pt}\ Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}fm\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ Gfm\ Rfm\ x\ a\ v\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Gfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ {\isachardoublequoteopen}Rfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}Gfm{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{3}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}Rfm{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ nat{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}is{\isacharunderscore}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Gfm{\isacharcomma}{\kern0pt}\ Rfm{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ a{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}a{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Rfm{\isacharcomma}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ formula{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ pred{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharcomma}{\kern0pt}\ rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ j{\isacharequal}{\kern0pt}{\isachardoublequoteopen}succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}succ{\isacharparenleft}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isakeyword{in}\ le{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}arity{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ succ{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}distrib{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ disjI{\isadigit{1}}{\isacharcomma}{\kern0pt}\ rule\ ltD{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharcomma}{\kern0pt}\ rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharcomma}{\kern0pt}\ rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\ upair{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ del{\isacharcolon}{\kern0pt}FOL{\isacharunderscore}{\kern0pt}sats{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}abs\ add{\isacharcolon}{\kern0pt}\ fm{\isacharunderscore}{\kern0pt}defs\ nat{\isacharunderscore}{\kern0pt}simp{\isacharunderscore}{\kern0pt}union{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ arity{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Un{\isacharunderscore}{\kern0pt}least{\isacharunderscore}{\kern0pt}lt{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ltI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ pred{\isacharunderscore}{\kern0pt}le{\isacharcomma}{\kern0pt}\ simp{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ j{\isacharequal}{\kern0pt}{\isadigit{3}}\ \isakeyword{in}\ le{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}type{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ wftrec{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}eq\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ r\ x\ a\ G\ Gfm\ H\ p\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}r\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}p\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Gfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}Gfm{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{3}}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{and}\ satsGfm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ env{\isachardot}{\kern0pt}\ a{\isadigit{0}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{1}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{2}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ G{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ Gfm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{and}\ GM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x\ g{\isachardot}{\kern0pt}\ x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ function{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ {\isasymLongrightarrow}\ G{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \ \isanewline
\ \ \isakeyword{and}\ HGeq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}h\ g\ x{\isachardot}{\kern0pt}\ h\ {\isasymin}\ r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymrightarrow}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ {\isacharparenleft}{\kern0pt}r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ x\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\ r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ h{\isacharbackquote}{\kern0pt}y\ {\isacharequal}{\kern0pt}\ g{\isacharbackquote}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ h{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ r{\isacharequal}{\kern0pt}r\ \isakeyword{in}\ wf{\isacharunderscore}{\kern0pt}induct{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ impI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}y{\isachardot}{\kern0pt}\ {\isasymlangle}y{\isacharcomma}{\kern0pt}\ x{\isasymrangle}\ {\isasymin}\ r\ {\isasymLongrightarrow}\ y\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymlongrightarrow}\ wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}y{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}field{\isacharparenleft}{\kern0pt}r{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ field{\isacharunderscore}{\kern0pt}closed\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ xinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ transM\ assms{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ recfun\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ unfold{\isacharunderscore}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eq{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}y{\isasymin}r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ restrict{\isacharparenleft}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ recfun{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ unfold{\isacharunderscore}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ wf{\isacharunderscore}{\kern0pt}prel\ prel{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eq{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}y{\isasymin}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ G{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ restrict{\isacharparenleft}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ app{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\ r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharbackquote}{\kern0pt}y\ {\isacharequal}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y\ \isacommand{assume}\isamarkupfalse%
\ assms{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}y\ {\isasymin}\ r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharbackquote}{\kern0pt}y\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ restrict{\isacharparenleft}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isadigit{2}}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}cut{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ assms{\isadigit{2}}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ wftrec{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharbackquote}{\kern0pt}y\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ y{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ r{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ rel\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ prelI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ restrict{\isacharparenleft}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{2}}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}cut{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ rel\ prel{\isacharunderscore}{\kern0pt}trans\ wf{\isacharunderscore}{\kern0pt}prel\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ wftrec{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\ \isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharbackquote}{\kern0pt}y\ {\isacharequal}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ H\ assms{\isadigit{1}}\ assms{\isadigit{2}}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ recfun{\isadigit{2}}inM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ p{\isacharequal}{\kern0pt}Gfm\ \isakeyword{in}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ wf{\isacharunderscore}{\kern0pt}prel{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ prel{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ prel{\isacharunderscore}{\kern0pt}closed{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ xinM\ transM\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{5}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ GM{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ satsGfm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}range{\isacharparenleft}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ range{\isacharunderscore}{\kern0pt}closed\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ rangesubset{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}range{\isacharparenleft}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ transM\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ rangesubset\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}range{\isacharparenleft}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ v\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ range{\isacharparenleft}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ u\ \isakeyword{where}\ uH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}u{\isacharcomma}{\kern0pt}\ v{\isachargreater}{\kern0pt}\ {\isasymin}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ eq\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}domain{\isacharparenleft}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{1}}{\isacharcomma}{\kern0pt}\ subst\ domain{\isacharunderscore}{\kern0pt}lam{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isasymin}\ domain{\isacharparenleft}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ b{\isacharequal}{\kern0pt}v\ \isakeyword{in}\ domainI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}uH{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ uin\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isasymin}\ r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ eq\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ rxinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ to{\isacharunderscore}{\kern0pt}rin{\isacharcomma}{\kern0pt}\ rule\ vimage{\isacharunderscore}{\kern0pt}closed{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xinM\ singleton{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ assms\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ uinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}u\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ to{\isacharunderscore}{\kern0pt}rin{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ transM{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ uin\ rxinM\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharless}{\kern0pt}u{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isacharequal}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharbackquote}{\kern0pt}u{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ eq{\isacharunderscore}{\kern0pt}flip{\isacharcomma}{\kern0pt}\ rule\ app{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}uin{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ function{\isacharunderscore}{\kern0pt}apply{\isacharunderscore}{\kern0pt}equality{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}uH{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{1}}{\isacharcomma}{\kern0pt}\ rule\ function{\isacharunderscore}{\kern0pt}lam{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ veq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharless}{\kern0pt}u{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ veq{\isacharcomma}{\kern0pt}\ rule\ to{\isacharunderscore}{\kern0pt}rin{\isacharcomma}{\kern0pt}\ rule\ apply{\isacharunderscore}{\kern0pt}closed{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}recfun{\isadigit{2}}inM{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ uinM\ assms\ transM\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ vimageeq\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ v\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ u\ \isakeyword{where}\ uH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}u{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}u\ {\isasymin}\ r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}u{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ r{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}u{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ prelI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ uH\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ v\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}v{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ u\ \isakeyword{where}\ uH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}u{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}u{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ r{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}u\ {\isasymin}\ r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ r\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ uH\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ HGeq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Pi{\isacharunderscore}{\kern0pt}memberI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{1}}{\isacharcomma}{\kern0pt}\ rule\ relation{\isacharunderscore}{\kern0pt}lam{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{1}}{\isacharcomma}{\kern0pt}\ rule\ function{\isacharunderscore}{\kern0pt}lam{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{1}}{\isacharcomma}{\kern0pt}\ subst\ domain{\isacharunderscore}{\kern0pt}lam{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ rangesubset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ Pi{\isacharunderscore}{\kern0pt}memberI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{2}}{\isacharcomma}{\kern0pt}\ rule\ relation{\isacharunderscore}{\kern0pt}lam{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{2}}{\isacharcomma}{\kern0pt}\ rule\ function{\isacharunderscore}{\kern0pt}lam{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{2}}{\isacharcomma}{\kern0pt}\ subst\ domain{\isacharunderscore}{\kern0pt}lam{\isacharcomma}{\kern0pt}\ rule\ vimageeq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ rangesubset{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ recfun{\isadigit{2}}inM{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ assms{\isadigit{1}}\ app{\isacharunderscore}{\kern0pt}eq\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}wftrec{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ wftrec{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ wftrec{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}eq\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ R\ Rfm\ G\ H\ x\ a\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}Relation{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ Rfm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \ {\isachardoublequoteopen}Gfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}Gfm{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{3}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymAnd}x\ g{\isachardot}{\kern0pt}\ x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ {\isasymLongrightarrow}\ function{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ G{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymAnd}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ env{\isachardot}{\kern0pt}\ a{\isadigit{0}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{1}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{2}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ G{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ Gfm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\ \ \isakeyword{and}\ HGeq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}h\ g\ x{\isachardot}{\kern0pt}\ h\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymrightarrow}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ {\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ x\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ h{\isacharbackquote}{\kern0pt}y\ {\isacharequal}{\kern0pt}\ g{\isacharbackquote}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ h{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}wftrec{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ E{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wftrec{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eq{\isadigit{0}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eqH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wftrec{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ wftrec{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ wf{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ trans{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ eq{\isadigit{0}}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharbraceright}{\kern0pt}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y\ \isakeyword{where}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ eq{\isadigit{0}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eqG\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wftrec{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ wftrec{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ wf{\isacharunderscore}{\kern0pt}prel{\isacharcomma}{\kern0pt}\ rule\ wf{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ prel{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ trans{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{0}}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ eq{\isadigit{0}}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ eq{\isacharunderscore}{\kern0pt}flip{\isacharcomma}{\kern0pt}\ rule\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}eq{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}wftrec{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eqH{\isacharcomma}{\kern0pt}\ subst\ eqG{\isacharcomma}{\kern0pt}\ rule\ eq{\isacharunderscore}{\kern0pt}flip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ HGeq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{0}}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ subst\ eq{\isadigit{0}}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{0}}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ subst\ eq{\isadigit{0}}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ zero{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ apply{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ y\ \isakeyword{where}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ xinfield\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ subsetH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ preds{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ fieldsubset\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}field{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ field{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ w\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ u\ \isakeyword{where}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}w{\isacharcomma}{\kern0pt}\ u{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymor}\ {\isacharless}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}w{\isacharcomma}{\kern0pt}\ u{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isasymor}\ {\isacharless}{\kern0pt}u{\isacharcomma}{\kern0pt}\ w{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ subsetH\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\ \isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ fieldcase\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ t\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharless}{\kern0pt}t{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isasymor}\ t\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymor}\ t\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}t{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isasymor}\ t\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ H{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}t\ z{\isachardot}{\kern0pt}\ t\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ z\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ z\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\ z\ \isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}z\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ tin\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isadigit{2}}\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ field{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ ztin\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ t{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}z{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}t{\isacharcomma}{\kern0pt}\ x{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ transD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{3}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ tin\ assms\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}def\ preds{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}z\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}t{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ tin\ ztin\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}wftrec{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ eq{\isacharunderscore}{\kern0pt}flip{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ Gfm\ {\isacharequal}{\kern0pt}\ Gfm\ \isakeyword{in}\ wftrec{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ wf{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ Rfm\ {\isacharequal}{\kern0pt}\ Rfm\ \isakeyword{in}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ trans{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ singleton{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ xinfield\ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{6}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ HGeq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ h\ g\ u{\isacharcomma}{\kern0pt}\ case{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}eq{\isacharprime}{\kern0pt}\ assms\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ h\ g\ u{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ b{\isacharequal}{\kern0pt}{\isachardoublequoteopen}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}u{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ a{\isacharequal}{\kern0pt}{\isachardoublequoteopen}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}u{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ ssubst{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ eq{\isacharunderscore}{\kern0pt}flip{\isacharcomma}{\kern0pt}\ rule\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fieldcase\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ h\ g\ u{\isacharcomma}{\kern0pt}\ case{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}u\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}eq{\isacharprime}{\kern0pt}\ assms\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rename{\isacharunderscore}{\kern0pt}tac\ h\ g\ u{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ b{\isacharequal}{\kern0pt}{\isachardoublequoteopen}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}u{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ a{\isacharequal}{\kern0pt}{\isachardoublequoteopen}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}u{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ ssubst{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ eq{\isacharunderscore}{\kern0pt}flip{\isacharcomma}{\kern0pt}\ rule\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}eq{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fieldcase\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fieldsubset\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fieldsubset\ H\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ E{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ eq{\isacharunderscore}{\kern0pt}flip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ wftrec{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Rrel{\isacharunderscore}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff\ {\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ H\ G\ Gfm\ R\ Rfm\ x\ v\ i\ j\ k\ env\ a\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharless}{\kern0pt}\ length{\isacharparenleft}{\kern0pt}env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}i{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}j{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\ {\isachardoublequoteopen}nth{\isacharparenleft}{\kern0pt}k{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}Relation{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ Rfm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}Gfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}Gfm{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{3}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymAnd}x\ g{\isachardot}{\kern0pt}\ x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ {\isasymLongrightarrow}\ function{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ G{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ env{\isachardot}{\kern0pt}\ a{\isadigit{0}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{1}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{2}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ G{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ Gfm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\ \ \isakeyword{and}\ HGeq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}h\ g\ x{\isachardot}{\kern0pt}\ h\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymrightarrow}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ {\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ x\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ h{\isacharbackquote}{\kern0pt}y\ {\isacharequal}{\kern0pt}\ g{\isacharbackquote}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ h{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Gfm{\isacharcomma}{\kern0pt}\ Rfm{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ iff{\isacharunderscore}{\kern0pt}lemma{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}P\ Q\ R\ S{\isachardot}{\kern0pt}\ P\ {\isasymlongleftrightarrow}\ Q\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}Q\ {\isasymLongrightarrow}\ R\ {\isasymlongleftrightarrow}\ S{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}P\ {\isasymand}\ R\ {\isasymlongleftrightarrow}\ Q\ {\isasymand}\ S{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ iff{\isacharunderscore}{\kern0pt}lemma{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}a\ b\ c{\isachardot}{\kern0pt}\ b\ {\isacharequal}{\kern0pt}\ c\ {\isasymLongrightarrow}\ a\ {\isacharequal}{\kern0pt}\ b\ {\isasymlongleftrightarrow}\ a\ {\isacharequal}{\kern0pt}\ c{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ p\ \isakeyword{where}\ {\isachardoublequoteopen}p\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ pinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}p\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ singleton{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ assms\ p{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ainp\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ p{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ vinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ xinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ainM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ assms\ nth{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ inat\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ assms\ length{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ jnat\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ assms\ length{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ knat\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymin}\ nat{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ lt{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nat\ assms\ length{\isacharunderscore}{\kern0pt}type\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eq{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Rrel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ v\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}def\ prel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ v\ \isacommand{assume}\isamarkupfalse%
\ vin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ a\ b\ q\ \isakeyword{where}\ abqH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}q\ {\isasymin}\ p{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ q{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}b{\isacharcomma}{\kern0pt}\ q{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}q\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ transM\ assms\ pinM\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ aqinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ q{\isachargreater}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ abqH\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isacommand{unfolding}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ bqinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}b{\isacharcomma}{\kern0pt}\ q{\isachargreater}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ abqH\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isacommand{unfolding}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ aqinM\ bqinM\ abqH\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ q{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ x{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharless}{\kern0pt}b{\isacharcomma}{\kern0pt}\ q{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharcomma}{\kern0pt}\ rule\ conjI{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}abqH{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ abqH\ vin\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eq{\isadigit{2}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ equality{\isacharunderscore}{\kern0pt}iffI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isacommand{assume}\isamarkupfalse%
\ assms{\isadigit{1}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ b\ c\ \isakeyword{where}\ bcH\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}s\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}{\isacharless}{\kern0pt}b{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}c{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}b{\isacharcomma}{\kern0pt}\ c{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymlangle}b{\isacharcomma}{\kern0pt}\ a{\isasymrangle}\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ assms\ transM\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ prelI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}def\ p{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}c\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ bcH\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{2}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymlangle}c{\isacharcomma}{\kern0pt}\ a{\isasymrangle}\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}\ {\isasymor}\ c\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ assms\ transM\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ prelI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ p{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \ \ \ \ \ \isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ H{\isadigit{3}}\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}b{\isacharcomma}{\kern0pt}\ c{\isachargreater}{\kern0pt}\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bcH\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ assms\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ preds{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}b{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}c{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ H{\isadigit{1}}\ H{\isadigit{2}}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ prelI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ H{\isadigit{3}}\ assms\ p{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ bcH\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ ba\ ca\ \isakeyword{where}\ bacaH{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}s\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}ba{\isacharcomma}{\kern0pt}\ ca{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isacharless}{\kern0pt}ba{\isacharcomma}{\kern0pt}\ ca{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}ba\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}ca\ {\isasymin}\ {\isacharparenleft}{\kern0pt}preds{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ b\ \isakeyword{where}\ baeq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ba\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}b{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ bacaH\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c\ \isakeyword{where}\ caeq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ca\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}c{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ bacaH\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ba\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ bacaH\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ binM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ baeq\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ca\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ bacaH\ assms\ transM\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ prel{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ cinM\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c\ {\isasymin}\ M{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ caeq\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ bin\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}binM{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bacaH\ baeq\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ prel{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ cin\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c\ {\isasymin}\ preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymor}\ c\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}cinM{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bacaH\ caeq\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}def\ prel{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharless}{\kern0pt}{\isacharless}{\kern0pt}b{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}c{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ prelI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}bin\ cin{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bacaH\ baeq\ caeq\ \isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ prel{\isacharunderscore}{\kern0pt}def\ Rrel{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ bacaH\ baeq\ caeq\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ is{\isacharunderscore}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}Gfm{\isacharcomma}{\kern0pt}\ Rfm{\isacharcomma}{\kern0pt}\ i{\isacharcomma}{\kern0pt}\ j{\isacharcomma}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ env{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}xa\ {\isasymin}\ M{\isachardot}{\kern0pt}\ {\isasymexists}S\ {\isasymin}\ M{\isachardot}{\kern0pt}\ S\ {\isacharequal}{\kern0pt}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isasymlangle}a{\isacharcomma}{\kern0pt}\ b{\isasymrangle}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharparenright}{\kern0pt}\ {\isasymand}\ xa\ {\isacharequal}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}\ {\isasymand}\ v\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}S{\isacharcomma}{\kern0pt}\ xa{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}def\isanewline
\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}Exists{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ bex{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}And{\isacharunderscore}{\kern0pt}iff{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ rule\ iff{\isacharunderscore}{\kern0pt}lemma{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ inat\ jnat\ knat\ xinM\ ainp\ pinM\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}lemma{\isadigit{1}}{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ rule\ sats{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}wfrec{\isacharunderscore}{\kern0pt}fm{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ inat\ jnat\ knat\ xinM\ ainM\ vinM\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ wf{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{1}}{\isacharcomma}{\kern0pt}\ rule\ wf{\isacharunderscore}{\kern0pt}prel{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ trans{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ \isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subst\ eq{\isadigit{1}}{\isacharcomma}{\kern0pt}\ rule\ prel{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\ \ \ \ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}{\isasymlambda}a\ b{\isachardot}{\kern0pt}\ {\isacharless}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isachargreater}{\kern0pt}\ {\isasymin}\ prel{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ p{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ simp{\isacharcomma}{\kern0pt}\ simp{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ preds{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ xinM\ ainM\ pinM\ ainp\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ v\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ eq{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ I{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymlongleftrightarrow}\ \ v\ {\isacharequal}{\kern0pt}\ wftrec{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ iff{\isacharunderscore}{\kern0pt}lemma{\isadigit{2}}{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ Gfm{\isacharequal}{\kern0pt}Gfm\ \isakeyword{in}\ wftrec{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ I{\isadigit{1}}\ I{\isadigit{2}}\ I{\isadigit{3}}\ I{\isadigit{4}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Rrel{\isacharunderscore}{\kern0pt}wftrec{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M\ {\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ R\ Rfm\ G\ H\ x\ a\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}x\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ M{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}wf{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}trans{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}Relation{\isacharunderscore}{\kern0pt}fm{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ Rfm{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}preds{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \ {\isachardoublequoteopen}Gfm\ {\isasymin}\ formula{\isachardoublequoteclose}\ {\isachardoublequoteopen}arity{\isacharparenleft}{\kern0pt}Gfm{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{3}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymAnd}a{\isadigit{0}}\ a{\isadigit{1}}\ a{\isadigit{2}}\ env{\isachardot}{\kern0pt}\ a{\isadigit{0}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{1}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ a{\isadigit{2}}\ {\isasymin}\ M\ {\isasymLongrightarrow}\ env\ {\isasymin}\ list{\isacharparenleft}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ a{\isadigit{0}}\ {\isacharequal}{\kern0pt}\ G{\isacharparenleft}{\kern0pt}a{\isadigit{2}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sats{\isacharparenleft}{\kern0pt}M{\isacharcomma}{\kern0pt}\ Gfm{\isacharcomma}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}a{\isadigit{0}}{\isacharcomma}{\kern0pt}\ a{\isadigit{1}}{\isacharcomma}{\kern0pt}\ a{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ env{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{and}\ GM{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x\ g{\isachardot}{\kern0pt}\ x\ {\isasymin}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ {\isasymLongrightarrow}\ function{\isacharparenleft}{\kern0pt}g{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ G{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\ \ \isanewline
\ \ \isakeyword{and}\ HGeq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}h\ g\ x{\isachardot}{\kern0pt}\ h\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymrightarrow}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ {\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymtimes}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymrightarrow}\ M\ {\isasymLongrightarrow}\ g\ {\isasymin}\ M\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ x\ {\isasymin}\ field{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\ Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ h{\isacharbackquote}{\kern0pt}y\ {\isacharequal}{\kern0pt}\ g{\isacharbackquote}{\kern0pt}{\isacharless}{\kern0pt}y{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ H{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ h{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G{\isacharparenleft}{\kern0pt}{\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \ \isanewline
\ \ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}wftrec{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ b{\isacharequal}{\kern0pt}{\isachardoublequoteopen}wftrec{\isacharparenleft}{\kern0pt}Rrel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ M{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ x{\isacharcomma}{\kern0pt}\ H{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ ssubst{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ eq{\isacharunderscore}{\kern0pt}flip{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ G{\isacharequal}{\kern0pt}G\ \isakeyword{and}\ a{\isacharequal}{\kern0pt}a\ \isakeyword{in}\ wftrec{\isacharunderscore}{\kern0pt}prel{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ wftrec{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ GM{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ assms\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ p{\isacharequal}{\kern0pt}Gfm\ \isakeyword{in}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ wf{\isacharunderscore}{\kern0pt}prel{\isacharcomma}{\kern0pt}\ rule\ wf{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ prel{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ trans{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ prel{\isacharunderscore}{\kern0pt}closed{\isacharcomma}{\kern0pt}\ rule{\isacharunderscore}{\kern0pt}tac\ Rfm{\isacharequal}{\kern0pt}Rfm\ \isakeyword{in}\ preds{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\ singleton{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\ pair{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}M{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto{\isacharbrackleft}{\kern0pt}{\isadigit{9}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule{\isacharunderscore}{\kern0pt}tac\ a{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}y{\isasymin}prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ G{\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ restrict{\isacharparenleft}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ b\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{in}\ ssubst{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}subgoal{\isacharunderscore}{\kern0pt}tac\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharless}{\kern0pt}x{\isacharcomma}{\kern0pt}\ a{\isachargreater}{\kern0pt}{\isacharcomma}{\kern0pt}\ G{\isacharcomma}{\kern0pt}\ the{\isacharunderscore}{\kern0pt}recfun{\isacharparenleft}{\kern0pt}prel{\isacharparenleft}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharparenleft}{\kern0pt}R{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymlangle}x{\isacharcomma}{\kern0pt}\ a{\isasymrangle}{\isacharcomma}{\kern0pt}\ G{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}is{\isacharunderscore}{\kern0pt}recfun{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ unfold{\isacharunderscore}{\kern0pt}the{\isacharunderscore}{\kern0pt}recfun{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ wf{\isacharunderscore}{\kern0pt}prel{\isacharcomma}{\kern0pt}\ rule\ wf{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ prel{\isacharunderscore}{\kern0pt}trans{\isacharcomma}{\kern0pt}\ rule\ trans{\isacharunderscore}{\kern0pt}preds{\isacharunderscore}{\kern0pt}rel{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharcomma}{\kern0pt}\ simp\ add{\isacharcolon}{\kern0pt}assms{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ function{\isacharunderscore}{\kern0pt}lam{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/source/repos/ZF-notAC/code/RecFun_M.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%14=4%:%
%:%15=5%:%
%:%20=5%:%
%:%23=6%:%
%:%24=7%:%
%:%25=7%:%
%:%26=8%:%
%:%27=9%:%
%:%28=10%:%
%:%29=11%:%
%:%30=11%:%
%:%31=12%:%
%:%32=13%:%
%:%33=14%:%
%:%34=14%:%
%:%35=15%:%
%:%43=23%:%
%:%50=24%:%
%:%51=24%:%
%:%52=25%:%
%:%53=25%:%
%:%54=26%:%
%:%55=26%:%
%:%56=27%:%
%:%57=28%:%
%:%58=29%:%
%:%59=30%:%
%:%60=31%:%
%:%61=32%:%
%:%62=33%:%
%:%63=34%:%
%:%64=34%:%
%:%65=34%:%
%:%66=35%:%
%:%67=36%:%
%:%68=36%:%
%:%69=37%:%
%:%70=38%:%
%:%71=38%:%
%:%72=39%:%
%:%73=39%:%
%:%74=40%:%
%:%75=40%:%
%:%76=41%:%
%:%77=41%:%
%:%78=42%:%
%:%79=43%:%
%:%80=43%:%
%:%81=44%:%
%:%82=44%:%
%:%83=45%:%
%:%84=45%:%
%:%85=46%:%
%:%86=46%:%
%:%87=47%:%
%:%88=47%:%
%:%89=48%:%
%:%90=48%:%
%:%91=49%:%
%:%92=49%:%
%:%93=50%:%
%:%94=50%:%
%:%95=51%:%
%:%96=51%:%
%:%97=52%:%
%:%98=52%:%
%:%99=53%:%
%:%100=53%:%
%:%101=54%:%
%:%102=54%:%
%:%103=55%:%
%:%104=55%:%
%:%105=56%:%
%:%106=56%:%
%:%107=57%:%
%:%108=57%:%
%:%109=58%:%
%:%110=58%:%
%:%111=59%:%
%:%112=59%:%
%:%113=60%:%
%:%114=61%:%
%:%115=61%:%
%:%116=62%:%
%:%117=62%:%
%:%118=63%:%
%:%119=63%:%
%:%120=63%:%
%:%121=64%:%
%:%122=65%:%
%:%123=65%:%
%:%124=66%:%
%:%125=66%:%
%:%126=67%:%
%:%127=67%:%
%:%128=68%:%
%:%129=68%:%
%:%130=69%:%
%:%131=69%:%
%:%132=70%:%
%:%133=70%:%
%:%134=71%:%
%:%135=71%:%
%:%136=72%:%
%:%137=72%:%
%:%138=73%:%
%:%139=73%:%
%:%140=74%:%
%:%141=74%:%
%:%142=75%:%
%:%143=75%:%
%:%144=76%:%
%:%145=76%:%
%:%146=77%:%
%:%147=77%:%
%:%148=78%:%
%:%149=78%:%
%:%150=79%:%
%:%151=79%:%
%:%152=80%:%
%:%153=80%:%
%:%154=81%:%
%:%155=81%:%
%:%156=82%:%
%:%157=82%:%
%:%158=83%:%
%:%159=83%:%
%:%160=84%:%
%:%161=84%:%
%:%162=85%:%
%:%163=85%:%
%:%164=86%:%
%:%165=86%:%
%:%166=87%:%
%:%167=87%:%
%:%168=88%:%
%:%169=88%:%
%:%170=89%:%
%:%171=89%:%
%:%172=90%:%
%:%173=90%:%
%:%174=91%:%
%:%175=91%:%
%:%176=92%:%
%:%177=92%:%
%:%178=93%:%
%:%179=93%:%
%:%180=94%:%
%:%181=94%:%
%:%182=95%:%
%:%183=95%:%
%:%184=96%:%
%:%185=97%:%
%:%186=97%:%
%:%187=97%:%
%:%188=98%:%
%:%194=98%:%
%:%197=99%:%
%:%198=100%:%
%:%199=100%:%
%:%200=101%:%
%:%203=102%:%
%:%207=102%:%
%:%208=102%:%
%:%209=102%:%
%:%214=102%:%
%:%217=103%:%
%:%218=104%:%
%:%219=104%:%
%:%220=105%:%
%:%221=106%:%
%:%222=107%:%
%:%223=108%:%
%:%224=109%:%
%:%225=110%:%
%:%226=111%:%
%:%227=112%:%
%:%228=113%:%
%:%229=114%:%
%:%230=115%:%
%:%237=116%:%
%:%238=116%:%
%:%239=117%:%
%:%240=118%:%
%:%241=118%:%
%:%242=119%:%
%:%243=120%:%
%:%244=121%:%
%:%245=121%:%
%:%246=121%:%
%:%247=122%:%
%:%248=123%:%
%:%249=123%:%
%:%250=124%:%
%:%251=125%:%
%:%252=125%:%
%:%253=126%:%
%:%254=126%:%
%:%255=127%:%
%:%256=127%:%
%:%257=128%:%
%:%258=128%:%
%:%259=129%:%
%:%260=129%:%
%:%261=130%:%
%:%262=130%:%
%:%263=131%:%
%:%264=131%:%
%:%265=132%:%
%:%266=132%:%
%:%267=133%:%
%:%268=133%:%
%:%269=134%:%
%:%270=134%:%
%:%271=135%:%
%:%272=135%:%
%:%273=136%:%
%:%274=136%:%
%:%275=137%:%
%:%276=137%:%
%:%277=138%:%
%:%278=138%:%
%:%279=139%:%
%:%280=139%:%
%:%281=140%:%
%:%282=140%:%
%:%283=141%:%
%:%284=141%:%
%:%285=142%:%
%:%286=142%:%
%:%287=143%:%
%:%288=143%:%
%:%289=144%:%
%:%290=144%:%
%:%291=145%:%
%:%292=145%:%
%:%293=146%:%
%:%294=146%:%
%:%295=147%:%
%:%296=147%:%
%:%297=148%:%
%:%298=148%:%
%:%299=149%:%
%:%300=150%:%
%:%301=150%:%
%:%302=151%:%
%:%303=152%:%
%:%304=152%:%
%:%305=153%:%
%:%306=153%:%
%:%307=154%:%
%:%308=154%:%
%:%309=155%:%
%:%310=155%:%
%:%311=156%:%
%:%312=156%:%
%:%313=157%:%
%:%314=157%:%
%:%315=157%:%
%:%316=158%:%
%:%317=158%:%
%:%318=159%:%
%:%319=159%:%
%:%320=160%:%
%:%321=160%:%
%:%322=161%:%
%:%323=161%:%
%:%324=162%:%
%:%325=162%:%
%:%326=163%:%
%:%332=163%:%
%:%335=164%:%
%:%336=165%:%
%:%337=165%:%
%:%338=166%:%
%:%339=167%:%
%:%340=168%:%
%:%341=169%:%
%:%342=170%:%
%:%343=171%:%
%:%344=172%:%
%:%345=173%:%
%:%346=174%:%
%:%347=175%:%
%:%348=176%:%
%:%349=177%:%
%:%352=178%:%
%:%353=179%:%
%:%357=179%:%
%:%358=179%:%
%:%359=180%:%
%:%360=180%:%
%:%361=181%:%
%:%362=181%:%
%:%363=182%:%
%:%364=182%:%
%:%365=183%:%
%:%366=183%:%
%:%367=184%:%
%:%368=184%:%
%:%369=185%:%
%:%370=185%:%
%:%371=186%:%
%:%372=186%:%
%:%373=187%:%
%:%374=187%:%
%:%375=188%:%
%:%376=188%:%
%:%377=189%:%
%:%378=189%:%
%:%379=190%:%
%:%380=190%:%
%:%381=191%:%
%:%382=191%:%
%:%383=192%:%
%:%389=192%:%
%:%392=193%:%
%:%393=194%:%
%:%394=194%:%
%:%395=195%:%
%:%396=196%:%
%:%397=197%:%
%:%398=198%:%
%:%399=199%:%
%:%400=200%:%
%:%401=201%:%
%:%402=202%:%
%:%403=203%:%
%:%404=204%:%
%:%405=205%:%
%:%408=206%:%
%:%409=207%:%
%:%413=207%:%
%:%414=207%:%
%:%415=208%:%
%:%416=208%:%
%:%417=209%:%
%:%418=209%:%
%:%419=210%:%
%:%420=210%:%
%:%421=211%:%
%:%422=211%:%
%:%423=212%:%
%:%424=212%:%
%:%425=213%:%
%:%426=213%:%
%:%427=214%:%
%:%428=214%:%
%:%429=215%:%
%:%430=215%:%
%:%431=216%:%
%:%437=216%:%
%:%440=217%:%
%:%441=218%:%
%:%442=218%:%
%:%443=219%:%
%:%444=220%:%
%:%445=221%:%
%:%446=222%:%
%:%447=223%:%
%:%448=224%:%
%:%449=225%:%
%:%450=226%:%
%:%451=227%:%
%:%452=228%:%
%:%453=229%:%
%:%460=230%:%
%:%461=230%:%
%:%462=231%:%
%:%463=231%:%
%:%464=232%:%
%:%465=232%:%
%:%466=233%:%
%:%467=233%:%
%:%468=234%:%
%:%469=234%:%
%:%470=235%:%
%:%471=235%:%
%:%472=235%:%
%:%473=235%:%
%:%474=236%:%
%:%475=236%:%
%:%476=236%:%
%:%477=237%:%
%:%478=237%:%
%:%479=238%:%
%:%480=238%:%
%:%481=239%:%
%:%482=239%:%
%:%483=240%:%
%:%484=240%:%
%:%485=240%:%
%:%486=240%:%
%:%487=240%:%
%:%488=241%:%
%:%494=241%:%
%:%497=242%:%
%:%498=243%:%
%:%499=243%:%
%:%500=244%:%
%:%501=245%:%
%:%502=246%:%
%:%503=247%:%
%:%504=248%:%
%:%505=249%:%
%:%506=250%:%
%:%507=251%:%
%:%508=252%:%
%:%509=253%:%
%:%510=254%:%
%:%517=255%:%
%:%518=255%:%
%:%519=256%:%
%:%520=256%:%
%:%521=257%:%
%:%522=257%:%
%:%523=258%:%
%:%524=258%:%
%:%525=259%:%
%:%526=259%:%
%:%527=260%:%
%:%528=261%:%
%:%529=261%:%
%:%530=262%:%
%:%531=262%:%
%:%532=263%:%
%:%533=263%:%
%:%534=264%:%
%:%535=264%:%
%:%536=265%:%
%:%537=265%:%
%:%538=265%:%
%:%539=266%:%
%:%540=266%:%
%:%541=267%:%
%:%542=267%:%
%:%543=268%:%
%:%544=269%:%
%:%545=269%:%
%:%546=270%:%
%:%547=270%:%
%:%548=271%:%
%:%549=271%:%
%:%550=272%:%
%:%551=272%:%
%:%552=273%:%
%:%553=273%:%
%:%554=274%:%
%:%555=274%:%
%:%556=275%:%
%:%557=275%:%
%:%558=275%:%
%:%559=276%:%
%:%560=276%:%
%:%561=277%:%
%:%562=277%:%
%:%563=278%:%
%:%569=278%:%
%:%572=279%:%
%:%573=280%:%
%:%574=281%:%
%:%575=281%:%
%:%576=282%:%
%:%577=283%:%
%:%578=284%:%
%:%579=285%:%
%:%580=286%:%
%:%581=287%:%
%:%582=288%:%
%:%583=289%:%
%:%584=290%:%
%:%585=291%:%
%:%586=292%:%
%:%593=293%:%
%:%594=293%:%
%:%595=294%:%
%:%596=294%:%
%:%597=295%:%
%:%598=295%:%
%:%599=296%:%
%:%600=296%:%
%:%601=297%:%
%:%602=298%:%
%:%603=298%:%
%:%604=299%:%
%:%605=299%:%
%:%606=300%:%
%:%607=300%:%
%:%608=301%:%
%:%609=301%:%
%:%610=302%:%
%:%611=302%:%
%:%612=303%:%
%:%613=303%:%
%:%614=304%:%
%:%615=304%:%
%:%616=305%:%
%:%617=305%:%
%:%618=306%:%
%:%619=306%:%
%:%620=307%:%
%:%621=307%:%
%:%622=308%:%
%:%623=308%:%
%:%624=309%:%
%:%625=309%:%
%:%626=310%:%
%:%627=310%:%
%:%628=310%:%
%:%629=311%:%
%:%630=311%:%
%:%631=312%:%
%:%632=312%:%
%:%633=313%:%
%:%634=313%:%
%:%635=314%:%
%:%636=314%:%
%:%637=315%:%
%:%638=315%:%
%:%639=316%:%
%:%640=316%:%
%:%641=317%:%
%:%642=317%:%
%:%643=318%:%
%:%644=318%:%
%:%645=319%:%
%:%646=319%:%
%:%647=320%:%
%:%648=320%:%
%:%649=321%:%
%:%650=321%:%
%:%651=322%:%
%:%652=323%:%
%:%653=323%:%
%:%654=324%:%
%:%655=324%:%
%:%656=325%:%
%:%657=325%:%
%:%658=326%:%
%:%659=326%:%
%:%660=327%:%
%:%661=327%:%
%:%662=328%:%
%:%663=328%:%
%:%664=329%:%
%:%665=329%:%
%:%666=330%:%
%:%667=330%:%
%:%668=331%:%
%:%669=331%:%
%:%670=332%:%
%:%671=332%:%
%:%672=333%:%
%:%678=333%:%
%:%681=334%:%
%:%682=335%:%
%:%683=335%:%
%:%684=336%:%
%:%685=337%:%
%:%686=338%:%
%:%687=339%:%
%:%688=340%:%
%:%689=341%:%
%:%690=342%:%
%:%691=343%:%
%:%692=344%:%
%:%693=345%:%
%:%694=346%:%
%:%701=347%:%
%:%702=347%:%
%:%703=348%:%
%:%704=348%:%
%:%705=349%:%
%:%706=349%:%
%:%707=350%:%
%:%708=350%:%
%:%709=351%:%
%:%710=351%:%
%:%711=351%:%
%:%712=351%:%
%:%713=352%:%
%:%714=352%:%
%:%715=353%:%
%:%716=353%:%
%:%717=354%:%
%:%718=354%:%
%:%719=355%:%
%:%720=355%:%
%:%721=356%:%
%:%722=356%:%
%:%723=356%:%
%:%724=357%:%
%:%725=357%:%
%:%726=358%:%
%:%727=358%:%
%:%728=359%:%
%:%729=359%:%
%:%730=360%:%
%:%731=360%:%
%:%732=361%:%
%:%733=361%:%
%:%734=362%:%
%:%735=362%:%
%:%736=363%:%
%:%737=363%:%
%:%738=364%:%
%:%739=364%:%
%:%740=365%:%
%:%741=365%:%
%:%742=366%:%
%:%743=366%:%
%:%744=366%:%
%:%745=367%:%
%:%746=367%:%
%:%747=368%:%
%:%748=368%:%
%:%749=369%:%
%:%750=369%:%
%:%751=370%:%
%:%752=370%:%
%:%753=371%:%
%:%754=371%:%
%:%755=372%:%
%:%756=372%:%
%:%757=373%:%
%:%758=373%:%
%:%759=374%:%
%:%760=374%:%
%:%761=375%:%
%:%762=375%:%
%:%763=376%:%
%:%764=377%:%
%:%765=377%:%
%:%766=378%:%
%:%767=378%:%
%:%768=379%:%
%:%769=379%:%
%:%770=380%:%
%:%771=380%:%
%:%772=381%:%
%:%773=381%:%
%:%774=382%:%
%:%775=382%:%
%:%776=383%:%
%:%777=383%:%
%:%778=384%:%
%:%779=384%:%
%:%780=385%:%
%:%781=385%:%
%:%782=386%:%
%:%783=386%:%
%:%784=387%:%
%:%785=387%:%
%:%786=388%:%
%:%787=388%:%
%:%788=389%:%
%:%789=389%:%
%:%790=390%:%
%:%791=390%:%
%:%792=391%:%
%:%798=391%:%
%:%801=392%:%
%:%802=393%:%
%:%803=393%:%
%:%804=394%:%
%:%805=394%:%
%:%806=395%:%
%:%807=396%:%
%:%808=396%:%
%:%811=397%:%
%:%815=397%:%
%:%816=397%:%
%:%817=397%:%
%:%822=397%:%
%:%825=398%:%
%:%826=399%:%
%:%827=399%:%
%:%830=400%:%
%:%834=400%:%
%:%835=400%:%
%:%836=400%:%
%:%841=400%:%
%:%844=401%:%
%:%845=402%:%
%:%846=402%:%
%:%847=403%:%
%:%848=404%:%
%:%849=404%:%
%:%852=405%:%
%:%856=405%:%
%:%857=405%:%
%:%858=405%:%
%:%863=405%:%
%:%866=406%:%
%:%867=407%:%
%:%868=407%:%
%:%869=408%:%
%:%870=409%:%
%:%871=409%:%
%:%872=410%:%
%:%873=410%:%
%:%874=411%:%
%:%875=412%:%
%:%876=412%:%
%:%877=413%:%
%:%878=414%:%
%:%879=414%:%
%:%880=415%:%
%:%881=416%:%
%:%882=417%:%
%:%883=417%:%
%:%884=418%:%
%:%885=419%:%
%:%886=420%:%
%:%889=421%:%
%:%893=421%:%
%:%894=421%:%
%:%895=422%:%
%:%896=422%:%
%:%897=423%:%
%:%898=423%:%
%:%899=424%:%
%:%900=424%:%
%:%901=425%:%
%:%902=425%:%
%:%903=426%:%
%:%904=426%:%
%:%905=427%:%
%:%906=427%:%
%:%907=428%:%
%:%908=428%:%
%:%909=429%:%
%:%910=429%:%
%:%911=430%:%
%:%912=430%:%
%:%913=431%:%
%:%914=431%:%
%:%919=431%:%
%:%922=432%:%
%:%923=433%:%
%:%924=433%:%
%:%925=434%:%
%:%926=435%:%
%:%927=436%:%
%:%934=437%:%
%:%935=437%:%
%:%936=438%:%
%:%937=438%:%
%:%938=439%:%
%:%939=439%:%
%:%940=440%:%
%:%941=440%:%
%:%942=441%:%
%:%943=441%:%
%:%944=442%:%
%:%945=442%:%
%:%946=443%:%
%:%947=443%:%
%:%948=444%:%
%:%949=444%:%
%:%950=445%:%
%:%951=445%:%
%:%952=445%:%
%:%953=446%:%
%:%954=446%:%
%:%955=447%:%
%:%956=447%:%
%:%957=448%:%
%:%958=448%:%
%:%959=449%:%
%:%965=449%:%
%:%968=450%:%
%:%969=451%:%
%:%970=451%:%
%:%971=452%:%
%:%972=453%:%
%:%973=454%:%
%:%980=455%:%
%:%981=455%:%
%:%982=456%:%
%:%983=456%:%
%:%984=457%:%
%:%985=457%:%
%:%986=458%:%
%:%987=458%:%
%:%988=459%:%
%:%989=459%:%
%:%990=460%:%
%:%991=460%:%
%:%992=461%:%
%:%993=462%:%
%:%994=462%:%
%:%995=463%:%
%:%996=463%:%
%:%997=464%:%
%:%998=464%:%
%:%999=465%:%
%:%1000=465%:%
%:%1001=466%:%
%:%1002=466%:%
%:%1003=467%:%
%:%1004=468%:%
%:%1005=468%:%
%:%1006=468%:%
%:%1007=469%:%
%:%1008=469%:%
%:%1009=470%:%
%:%1010=470%:%
%:%1011=471%:%
%:%1012=471%:%
%:%1013=472%:%
%:%1014=472%:%
%:%1015=473%:%
%:%1016=473%:%
%:%1017=474%:%
%:%1018=474%:%
%:%1019=475%:%
%:%1020=475%:%
%:%1021=476%:%
%:%1022=476%:%
%:%1023=477%:%
%:%1024=477%:%
%:%1025=478%:%
%:%1026=478%:%
%:%1027=479%:%
%:%1033=479%:%
%:%1036=480%:%
%:%1037=481%:%
%:%1038=481%:%
%:%1039=482%:%
%:%1040=483%:%
%:%1041=484%:%
%:%1048=485%:%
%:%1049=485%:%
%:%1050=486%:%
%:%1051=486%:%
%:%1052=486%:%
%:%1053=487%:%
%:%1054=488%:%
%:%1055=488%:%
%:%1056=489%:%
%:%1057=489%:%
%:%1058=490%:%
%:%1059=490%:%
%:%1060=491%:%
%:%1061=491%:%
%:%1062=492%:%
%:%1063=492%:%
%:%1064=493%:%
%:%1065=493%:%
%:%1066=494%:%
%:%1067=494%:%
%:%1068=495%:%
%:%1069=495%:%
%:%1070=496%:%
%:%1071=496%:%
%:%1072=497%:%
%:%1073=497%:%
%:%1074=498%:%
%:%1075=498%:%
%:%1076=499%:%
%:%1077=499%:%
%:%1078=500%:%
%:%1079=500%:%
%:%1080=501%:%
%:%1081=501%:%
%:%1082=502%:%
%:%1083=502%:%
%:%1084=503%:%
%:%1085=503%:%
%:%1086=504%:%
%:%1087=504%:%
%:%1088=505%:%
%:%1089=505%:%
%:%1090=506%:%
%:%1091=506%:%
%:%1092=507%:%
%:%1093=507%:%
%:%1094=508%:%
%:%1095=508%:%
%:%1096=509%:%
%:%1097=509%:%
%:%1098=510%:%
%:%1099=510%:%
%:%1100=511%:%
%:%1101=511%:%
%:%1102=512%:%
%:%1103=512%:%
%:%1104=513%:%
%:%1105=513%:%
%:%1106=514%:%
%:%1107=514%:%
%:%1108=515%:%
%:%1109=515%:%
%:%1110=516%:%
%:%1111=517%:%
%:%1112=517%:%
%:%1113=518%:%
%:%1114=518%:%
%:%1115=519%:%
%:%1116=519%:%
%:%1117=520%:%
%:%1118=520%:%
%:%1119=521%:%
%:%1120=521%:%
%:%1121=522%:%
%:%1122=522%:%
%:%1123=523%:%
%:%1124=523%:%
%:%1125=524%:%
%:%1126=524%:%
%:%1127=525%:%
%:%1128=525%:%
%:%1129=526%:%
%:%1130=526%:%
%:%1131=527%:%
%:%1132=527%:%
%:%1133=528%:%
%:%1134=528%:%
%:%1135=529%:%
%:%1136=529%:%
%:%1137=530%:%
%:%1138=530%:%
%:%1139=531%:%
%:%1140=532%:%
%:%1141=532%:%
%:%1142=532%:%
%:%1143=532%:%
%:%1144=533%:%
%:%1150=533%:%
%:%1153=534%:%
%:%1154=535%:%
%:%1155=535%:%
%:%1156=536%:%
%:%1157=537%:%
%:%1158=537%:%
%:%1159=538%:%
%:%1160=539%:%
%:%1161=540%:%
%:%1162=541%:%
%:%1163=541%:%
%:%1164=542%:%
%:%1165=543%:%
%:%1166=544%:%
%:%1167=544%:%
%:%1168=545%:%
%:%1169=546%:%
%:%1170=547%:%
%:%1173=548%:%
%:%1174=549%:%
%:%1178=549%:%
%:%1179=549%:%
%:%1180=550%:%
%:%1181=550%:%
%:%1182=551%:%
%:%1183=551%:%
%:%1184=552%:%
%:%1185=552%:%
%:%1186=553%:%
%:%1187=553%:%
%:%1188=554%:%
%:%1189=554%:%
%:%1190=555%:%
%:%1191=555%:%
%:%1196=555%:%
%:%1199=556%:%
%:%1200=557%:%
%:%1201=557%:%
%:%1202=558%:%
%:%1203=559%:%
%:%1204=560%:%
%:%1207=561%:%
%:%1208=562%:%
%:%1212=562%:%
%:%1213=562%:%
%:%1214=563%:%
%:%1215=563%:%
%:%1216=564%:%
%:%1217=564%:%
%:%1218=565%:%
%:%1219=565%:%
%:%1220=566%:%
%:%1221=566%:%
%:%1222=567%:%
%:%1223=567%:%
%:%1224=568%:%
%:%1225=568%:%
%:%1226=569%:%
%:%1227=569%:%
%:%1228=570%:%
%:%1229=570%:%
%:%1230=571%:%
%:%1231=571%:%
%:%1232=572%:%
%:%1233=572%:%
%:%1234=573%:%
%:%1235=573%:%
%:%1236=574%:%
%:%1237=574%:%
%:%1238=575%:%
%:%1239=575%:%
%:%1240=576%:%
%:%1241=576%:%
%:%1242=577%:%
%:%1243=577%:%
%:%1244=578%:%
%:%1245=578%:%
%:%1246=579%:%
%:%1247=579%:%
%:%1248=580%:%
%:%1249=580%:%
%:%1254=580%:%
%:%1257=581%:%
%:%1258=582%:%
%:%1259=582%:%
%:%1260=583%:%
%:%1261=584%:%
%:%1262=585%:%
%:%1269=586%:%
%:%1270=586%:%
%:%1271=587%:%
%:%1272=587%:%
%:%1273=587%:%
%:%1274=588%:%
%:%1275=588%:%
%:%1276=588%:%
%:%1277=589%:%
%:%1278=589%:%
%:%1279=590%:%
%:%1280=590%:%
%:%1281=591%:%
%:%1282=591%:%
%:%1283=592%:%
%:%1284=592%:%
%:%1285=593%:%
%:%1286=593%:%
%:%1287=594%:%
%:%1288=594%:%
%:%1289=595%:%
%:%1290=595%:%
%:%1291=596%:%
%:%1292=596%:%
%:%1293=597%:%
%:%1294=597%:%
%:%1295=598%:%
%:%1296=598%:%
%:%1297=599%:%
%:%1298=599%:%
%:%1299=600%:%
%:%1300=600%:%
%:%1301=601%:%
%:%1302=601%:%
%:%1303=602%:%
%:%1304=602%:%
%:%1305=603%:%
%:%1306=603%:%
%:%1307=604%:%
%:%1308=604%:%
%:%1309=605%:%
%:%1310=605%:%
%:%1311=606%:%
%:%1312=606%:%
%:%1313=607%:%
%:%1314=607%:%
%:%1315=608%:%
%:%1316=608%:%
%:%1317=609%:%
%:%1318=609%:%
%:%1319=610%:%
%:%1320=610%:%
%:%1321=611%:%
%:%1322=611%:%
%:%1323=612%:%
%:%1324=612%:%
%:%1325=613%:%
%:%1326=613%:%
%:%1327=614%:%
%:%1328=614%:%
%:%1329=615%:%
%:%1330=615%:%
%:%1331=616%:%
%:%1332=616%:%
%:%1333=617%:%
%:%1334=617%:%
%:%1335=618%:%
%:%1336=618%:%
%:%1337=619%:%
%:%1338=619%:%
%:%1339=620%:%
%:%1340=620%:%
%:%1341=621%:%
%:%1342=621%:%
%:%1343=622%:%
%:%1344=622%:%
%:%1345=623%:%
%:%1346=623%:%
%:%1347=623%:%
%:%1348=624%:%
%:%1349=624%:%
%:%1350=624%:%
%:%1351=624%:%
%:%1352=624%:%
%:%1353=625%:%
%:%1354=625%:%
%:%1355=625%:%
%:%1356=625%:%
%:%1357=625%:%
%:%1358=626%:%
%:%1359=626%:%
%:%1360=626%:%
%:%1361=626%:%
%:%1362=627%:%
%:%1363=627%:%
%:%1364=627%:%
%:%1365=627%:%
%:%1366=628%:%
%:%1367=628%:%
%:%1368=629%:%
%:%1369=629%:%
%:%1370=629%:%
%:%1371=630%:%
%:%1372=631%:%
%:%1373=632%:%
%:%1374=632%:%
%:%1375=632%:%
%:%1376=632%:%
%:%1377=633%:%
%:%1378=633%:%
%:%1379=633%:%
%:%1380=633%:%
%:%1381=633%:%
%:%1382=634%:%
%:%1383=634%:%
%:%1384=634%:%
%:%1385=634%:%
%:%1386=634%:%
%:%1387=635%:%
%:%1388=635%:%
%:%1389=635%:%
%:%1390=635%:%
%:%1391=635%:%
%:%1392=636%:%
%:%1393=636%:%
%:%1394=636%:%
%:%1395=636%:%
%:%1396=636%:%
%:%1397=637%:%
%:%1398=637%:%
%:%1399=638%:%
%:%1400=638%:%
%:%1401=639%:%
%:%1402=639%:%
%:%1403=639%:%
%:%1404=640%:%
%:%1405=640%:%
%:%1406=641%:%
%:%1407=641%:%
%:%1408=642%:%
%:%1409=642%:%
%:%1410=643%:%
%:%1411=643%:%
%:%1412=644%:%
%:%1413=645%:%
%:%1414=645%:%
%:%1415=645%:%
%:%1416=645%:%
%:%1417=646%:%
%:%1423=646%:%
%:%1426=647%:%
%:%1427=648%:%
%:%1428=648%:%
%:%1429=649%:%
%:%1430=650%:%
%:%1431=651%:%
%:%1438=652%:%
%:%1439=652%:%
%:%1440=653%:%
%:%1441=653%:%
%:%1442=654%:%
%:%1443=654%:%
%:%1444=655%:%
%:%1445=655%:%
%:%1446=656%:%
%:%1447=656%:%
%:%1448=657%:%
%:%1449=657%:%
%:%1450=658%:%
%:%1451=658%:%
%:%1452=659%:%
%:%1453=659%:%
%:%1454=660%:%
%:%1455=660%:%
%:%1456=661%:%
%:%1457=661%:%
%:%1458=662%:%
%:%1459=662%:%
%:%1460=663%:%
%:%1461=663%:%
%:%1462=664%:%
%:%1463=665%:%
%:%1464=665%:%
%:%1465=666%:%
%:%1466=666%:%
%:%1467=667%:%
%:%1468=667%:%
%:%1469=668%:%
%:%1470=668%:%
%:%1471=669%:%
%:%1472=669%:%
%:%1473=670%:%
%:%1474=670%:%
%:%1475=671%:%
%:%1476=672%:%
%:%1477=672%:%
%:%1478=672%:%
%:%1479=673%:%
%:%1480=673%:%
%:%1481=674%:%
%:%1482=674%:%
%:%1483=675%:%
%:%1484=675%:%
%:%1485=676%:%
%:%1486=677%:%
%:%1487=677%:%
%:%1488=678%:%
%:%1489=678%:%
%:%1490=679%:%
%:%1491=679%:%
%:%1492=680%:%
%:%1493=680%:%
%:%1494=681%:%
%:%1495=682%:%
%:%1496=682%:%
%:%1497=682%:%
%:%1498=683%:%
%:%1499=683%:%
%:%1500=684%:%
%:%1501=684%:%
%:%1502=685%:%
%:%1503=685%:%
%:%1504=686%:%
%:%1505=687%:%
%:%1506=687%:%
%:%1507=687%:%
%:%1508=687%:%
%:%1509=687%:%
%:%1510=688%:%
%:%1516=688%:%
%:%1519=689%:%
%:%1520=690%:%
%:%1521=690%:%
%:%1524=691%:%
%:%1528=691%:%
%:%1529=691%:%
%:%1530=692%:%
%:%1531=692%:%
%:%1532=693%:%
%:%1533=693%:%
%:%1534=693%:%
%:%1535=694%:%
%:%1536=694%:%
%:%1537=694%:%
%:%1538=694%:%
%:%1539=694%:%
%:%1540=694%:%
%:%1541=695%:%
%:%1542=695%:%
%:%1543=695%:%
%:%1544=695%:%
%:%1545=695%:%
%:%1546=696%:%
%:%1547=696%:%
%:%1548=696%:%
%:%1549=696%:%
%:%1550=696%:%
%:%1551=697%:%
%:%1552=697%:%
%:%1553=697%:%
%:%1554=697%:%
%:%1555=697%:%
%:%1556=698%:%
%:%1557=698%:%
%:%1558=698%:%
%:%1559=698%:%
%:%1560=699%:%
%:%1561=699%:%
%:%1562=699%:%
%:%1563=699%:%
%:%1564=699%:%
%:%1565=700%:%
%:%1566=700%:%
%:%1567=700%:%
%:%1568=701%:%
%:%1569=701%:%
%:%1570=702%:%
%:%1571=702%:%
%:%1572=702%:%
%:%1573=703%:%
%:%1579=703%:%
%:%1582=704%:%
%:%1583=705%:%
%:%1584=705%:%
%:%1587=706%:%
%:%1591=706%:%
%:%1592=706%:%
%:%1593=707%:%
%:%1594=707%:%
%:%1595=708%:%
%:%1596=708%:%
%:%1601=708%:%
%:%1604=709%:%
%:%1605=710%:%
%:%1606=710%:%
%:%1607=711%:%
%:%1614=712%:%
%:%1615=712%:%
%:%1616=713%:%
%:%1617=713%:%
%:%1618=713%:%
%:%1619=714%:%
%:%1620=714%:%
%:%1621=714%:%
%:%1622=714%:%
%:%1623=715%:%
%:%1624=715%:%
%:%1625=715%:%
%:%1626=716%:%
%:%1627=716%:%
%:%1628=717%:%
%:%1629=717%:%
%:%1630=718%:%
%:%1631=718%:%
%:%1632=719%:%
%:%1633=719%:%
%:%1634=720%:%
%:%1635=720%:%
%:%1636=720%:%
%:%1637=720%:%
%:%1638=721%:%
%:%1639=721%:%
%:%1640=722%:%
%:%1641=722%:%
%:%1642=722%:%
%:%1643=723%:%
%:%1644=723%:%
%:%1645=723%:%
%:%1646=723%:%
%:%1647=724%:%
%:%1648=724%:%
%:%1649=724%:%
%:%1650=724%:%
%:%1651=724%:%
%:%1652=725%:%
%:%1653=726%:%
%:%1654=726%:%
%:%1655=727%:%
%:%1656=727%:%
%:%1657=728%:%
%:%1658=728%:%
%:%1659=729%:%
%:%1660=729%:%
%:%1661=730%:%
%:%1662=730%:%
%:%1663=731%:%
%:%1664=731%:%
%:%1665=732%:%
%:%1666=732%:%
%:%1667=733%:%
%:%1668=733%:%
%:%1669=734%:%
%:%1670=735%:%
%:%1671=735%:%
%:%1672=735%:%
%:%1673=736%:%
%:%1674=736%:%
%:%1675=737%:%
%:%1676=737%:%
%:%1677=738%:%
%:%1678=738%:%
%:%1679=739%:%
%:%1680=739%:%
%:%1681=739%:%
%:%1682=739%:%
%:%1683=740%:%
%:%1689=740%:%
%:%1692=741%:%
%:%1693=742%:%
%:%1694=742%:%
%:%1695=743%:%
%:%1702=744%:%
%:%1703=744%:%
%:%1704=745%:%
%:%1705=745%:%
%:%1706=745%:%
%:%1707=746%:%
%:%1708=746%:%
%:%1709=746%:%
%:%1710=746%:%
%:%1711=747%:%
%:%1712=747%:%
%:%1713=747%:%
%:%1714=748%:%
%:%1715=748%:%
%:%1716=749%:%
%:%1717=749%:%
%:%1718=750%:%
%:%1719=750%:%
%:%1720=751%:%
%:%1721=751%:%
%:%1722=752%:%
%:%1723=752%:%
%:%1724=753%:%
%:%1725=753%:%
%:%1726=753%:%
%:%1727=754%:%
%:%1728=754%:%
%:%1729=754%:%
%:%1730=754%:%
%:%1731=755%:%
%:%1732=755%:%
%:%1733=755%:%
%:%1734=756%:%
%:%1735=756%:%
%:%1736=757%:%
%:%1737=757%:%
%:%1738=758%:%
%:%1739=758%:%
%:%1740=759%:%
%:%1741=759%:%
%:%1742=760%:%
%:%1743=760%:%
%:%1744=761%:%
%:%1745=761%:%
%:%1746=761%:%
%:%1747=761%:%
%:%1748=762%:%
%:%1754=762%:%
%:%1757=763%:%
%:%1758=764%:%
%:%1759=764%:%
%:%1760=765%:%
%:%1761=766%:%
%:%1762=767%:%
%:%1769=768%:%
%:%1770=768%:%
%:%1771=769%:%
%:%1772=769%:%
%:%1773=770%:%
%:%1774=770%:%
%:%1775=771%:%
%:%1776=771%:%
%:%1777=772%:%
%:%1778=772%:%
%:%1779=773%:%
%:%1780=774%:%
%:%1781=774%:%
%:%1782=775%:%
%:%1783=775%:%
%:%1784=775%:%
%:%1785=776%:%
%:%1786=777%:%
%:%1787=777%:%
%:%1788=778%:%
%:%1789=778%:%
%:%1790=779%:%
%:%1791=779%:%
%:%1792=779%:%
%:%1793=780%:%
%:%1794=780%:%
%:%1795=780%:%
%:%1796=780%:%
%:%1797=781%:%
%:%1798=781%:%
%:%1799=782%:%
%:%1800=782%:%
%:%1801=783%:%
%:%1802=783%:%
%:%1803=784%:%
%:%1804=784%:%
%:%1805=784%:%
%:%1806=784%:%
%:%1807=784%:%
%:%1808=785%:%
%:%1809=785%:%
%:%1810=786%:%
%:%1811=786%:%
%:%1812=787%:%
%:%1813=787%:%
%:%1814=787%:%
%:%1815=787%:%
%:%1816=787%:%
%:%1817=788%:%
%:%1818=788%:%
%:%1819=788%:%
%:%1820=788%:%
%:%1821=788%:%
%:%1822=788%:%
%:%1823=789%:%
%:%1824=789%:%
%:%1825=789%:%
%:%1826=789%:%
%:%1827=789%:%
%:%1828=789%:%
%:%1829=790%:%
%:%1830=790%:%
%:%1831=791%:%
%:%1832=791%:%
%:%1833=791%:%
%:%1834=791%:%
%:%1835=791%:%
%:%1836=792%:%
%:%1837=792%:%
%:%1838=793%:%
%:%1839=794%:%
%:%1840=794%:%
%:%1841=795%:%
%:%1842=795%:%
%:%1843=796%:%
%:%1844=796%:%
%:%1845=797%:%
%:%1846=797%:%
%:%1847=798%:%
%:%1848=798%:%
%:%1849=799%:%
%:%1850=799%:%
%:%1851=800%:%
%:%1852=800%:%
%:%1853=801%:%
%:%1854=801%:%
%:%1855=802%:%
%:%1856=803%:%
%:%1857=803%:%
%:%1858=804%:%
%:%1859=804%:%
%:%1860=805%:%
%:%1861=805%:%
%:%1862=806%:%
%:%1863=806%:%
%:%1864=807%:%
%:%1865=807%:%
%:%1866=807%:%
%:%1867=808%:%
%:%1868=808%:%
%:%1869=809%:%
%:%1870=809%:%
%:%1871=810%:%
%:%1872=810%:%
%:%1873=811%:%
%:%1874=811%:%
%:%1875=812%:%
%:%1876=812%:%
%:%1877=812%:%
%:%1878=813%:%
%:%1879=813%:%
%:%1880=814%:%
%:%1881=814%:%
%:%1882=815%:%
%:%1883=815%:%
%:%1884=816%:%
%:%1885=816%:%
%:%1886=817%:%
%:%1887=817%:%
%:%1888=818%:%
%:%1889=818%:%
%:%1890=819%:%
%:%1891=819%:%
%:%1892=820%:%
%:%1893=820%:%
%:%1894=821%:%
%:%1895=821%:%
%:%1896=821%:%
%:%1897=822%:%
%:%1898=822%:%
%:%1899=823%:%
%:%1900=823%:%
%:%1901=824%:%
%:%1902=824%:%
%:%1903=825%:%
%:%1904=825%:%
%:%1905=826%:%
%:%1906=826%:%
%:%1907=826%:%
%:%1908=827%:%
%:%1909=827%:%
%:%1910=828%:%
%:%1911=828%:%
%:%1912=829%:%
%:%1913=829%:%
%:%1914=830%:%
%:%1915=830%:%
%:%1916=831%:%
%:%1917=831%:%
%:%1918=831%:%
%:%1919=832%:%
%:%1920=832%:%
%:%1921=833%:%
%:%1922=833%:%
%:%1923=834%:%
%:%1924=834%:%
%:%1925=835%:%
%:%1926=835%:%
%:%1927=835%:%
%:%1928=835%:%
%:%1929=836%:%
%:%1930=836%:%
%:%1931=837%:%
%:%1932=837%:%
%:%1933=837%:%
%:%1934=837%:%
%:%1935=837%:%
%:%1936=838%:%
%:%1942=838%:%
%:%1945=839%:%
%:%1946=840%:%
%:%1947=840%:%
%:%1948=841%:%
%:%1949=842%:%
%:%1950=843%:%
%:%1957=844%:%
%:%1958=844%:%
%:%1959=845%:%
%:%1960=845%:%
%:%1961=846%:%
%:%1962=846%:%
%:%1963=847%:%
%:%1964=847%:%
%:%1965=848%:%
%:%1966=848%:%
%:%1967=849%:%
%:%1968=849%:%
%:%1969=849%:%
%:%1970=850%:%
%:%1971=850%:%
%:%1972=850%:%
%:%1973=851%:%
%:%1979=851%:%
%:%1982=852%:%
%:%1983=853%:%
%:%1984=854%:%
%:%1985=855%:%
%:%1986=855%:%
%:%1987=856%:%
%:%1988=857%:%
%:%1989=857%:%
%:%1992=858%:%
%:%1996=858%:%
%:%1997=858%:%
%:%1998=858%:%
%:%2003=858%:%
%:%2006=859%:%
%:%2007=860%:%
%:%2008=860%:%
%:%2011=861%:%
%:%2015=861%:%
%:%2016=861%:%
%:%2017=861%:%
%:%2022=861%:%
%:%2025=862%:%
%:%2026=863%:%
%:%2027=863%:%
%:%2028=864%:%
%:%2029=865%:%
%:%2030=866%:%
%:%2031=867%:%
%:%2032=868%:%
%:%2033=869%:%
%:%2034=870%:%
%:%2036=872%:%
%:%2039=873%:%
%:%2043=873%:%
%:%2044=873%:%
%:%2049=873%:%
%:%2052=874%:%
%:%2053=875%:%
%:%2054=875%:%
%:%2055=876%:%
%:%2056=877%:%
%:%2057=877%:%
%:%2058=878%:%
%:%2059=879%:%
%:%2060=880%:%
%:%2061=880%:%
%:%2062=881%:%
%:%2063=882%:%
%:%2064=883%:%
%:%2065=883%:%
%:%2066=884%:%
%:%2067=885%:%
%:%2070=886%:%
%:%2071=887%:%
%:%2075=887%:%
%:%2076=887%:%
%:%2077=888%:%
%:%2078=889%:%
%:%2079=889%:%
%:%2080=889%:%
%:%2081=889%:%
%:%2082=889%:%
%:%2083=890%:%
%:%2084=890%:%
%:%2085=890%:%
%:%2091=890%:%
%:%2094=891%:%
%:%2095=892%:%
%:%2096=892%:%
%:%2097=893%:%
%:%2104=894%:%
%:%2105=894%:%
%:%2106=895%:%
%:%2107=895%:%
%:%2108=896%:%
%:%2109=897%:%
%:%2110=897%:%
%:%2111=897%:%
%:%2112=897%:%
%:%2113=898%:%
%:%2114=898%:%
%:%2115=898%:%
%:%2116=898%:%
%:%2117=898%:%
%:%2118=899%:%
%:%2119=900%:%
%:%2120=900%:%
%:%2121=901%:%
%:%2122=901%:%
%:%2123=901%:%
%:%2124=901%:%
%:%2125=901%:%
%:%2126=902%:%
%:%2127=902%:%
%:%2128=903%:%
%:%2129=903%:%
%:%2130=903%:%
%:%2131=904%:%
%:%2132=904%:%
%:%2133=904%:%
%:%2134=904%:%
%:%2135=905%:%
%:%2136=906%:%
%:%2137=906%:%
%:%2138=907%:%
%:%2139=908%:%
%:%2140=908%:%
%:%2141=908%:%
%:%2142=909%:%
%:%2143=909%:%
%:%2144=909%:%
%:%2145=909%:%
%:%2146=910%:%
%:%2147=910%:%
%:%2148=910%:%
%:%2149=911%:%
%:%2150=911%:%
%:%2151=911%:%
%:%2152=912%:%
%:%2153=912%:%
%:%2154=912%:%
%:%2155=913%:%
%:%2156=913%:%
%:%2157=913%:%
%:%2158=913%:%
%:%2159=914%:%
%:%2160=914%:%
%:%2161=914%:%
%:%2162=914%:%
%:%2163=914%:%
%:%2164=915%:%
%:%2170=915%:%
%:%2173=916%:%
%:%2174=917%:%
%:%2175=917%:%
%:%2178=918%:%
%:%2182=918%:%
%:%2183=918%:%
%:%2184=919%:%
%:%2185=919%:%
%:%2186=919%:%
%:%2187=920%:%
%:%2188=920%:%
%:%2189=921%:%
%:%2190=921%:%
%:%2191=922%:%
%:%2192=922%:%
%:%2193=923%:%
%:%2194=924%:%
%:%2195=924%:%
%:%2196=924%:%
%:%2197=925%:%
%:%2198=925%:%
%:%2199=926%:%
%:%2200=927%:%
%:%2201=927%:%
%:%2202=928%:%
%:%2203=928%:%
%:%2204=928%:%
%:%2205=928%:%
%:%2206=929%:%
%:%2207=929%:%
%:%2208=929%:%
%:%2209=929%:%
%:%2210=929%:%
%:%2211=930%:%
%:%2212=930%:%
%:%2213=931%:%
%:%2214=931%:%
%:%2215=931%:%
%:%2216=932%:%
%:%2217=932%:%
%:%2218=932%:%
%:%2219=932%:%
%:%2220=932%:%
%:%2221=933%:%
%:%2222=933%:%
%:%2223=933%:%
%:%2224=933%:%
%:%2225=933%:%
%:%2226=933%:%
%:%2227=934%:%
%:%2228=934%:%
%:%2229=934%:%
%:%2230=934%:%
%:%2231=934%:%
%:%2232=935%:%
%:%2233=935%:%
%:%2234=935%:%
%:%2235=935%:%
%:%2236=935%:%
%:%2237=936%:%
%:%2238=936%:%
%:%2239=937%:%
%:%2240=937%:%
%:%2241=937%:%
%:%2242=937%:%
%:%2243=937%:%
%:%2244=938%:%
%:%2250=938%:%
%:%2253=939%:%
%:%2254=940%:%
%:%2255=940%:%
%:%2258=941%:%
%:%2262=941%:%
%:%2263=941%:%
%:%2264=941%:%
%:%2265=942%:%
%:%2266=942%:%
%:%2267=943%:%
%:%2268=943%:%
%:%2269=943%:%
%:%2270=944%:%
%:%2271=944%:%
%:%2272=944%:%
%:%2273=944%:%
%:%2274=944%:%
%:%2275=945%:%
%:%2276=945%:%
%:%2277=945%:%
%:%2278=945%:%
%:%2279=946%:%
%:%2280=946%:%
%:%2281=946%:%
%:%2282=946%:%
%:%2283=946%:%
%:%2284=946%:%
%:%2285=947%:%
%:%2286=947%:%
%:%2287=947%:%
%:%2288=947%:%
%:%2289=948%:%
%:%2290=948%:%
%:%2291=948%:%
%:%2292=948%:%
%:%2293=949%:%
%:%2294=949%:%
%:%2295=949%:%
%:%2296=949%:%
%:%2297=950%:%
%:%2298=950%:%
%:%2299=950%:%
%:%2300=951%:%
%:%2301=951%:%
%:%2302=951%:%
%:%2303=951%:%
%:%2304=952%:%
%:%2305=952%:%
%:%2306=952%:%
%:%2307=952%:%
%:%2308=952%:%
%:%2309=953%:%
%:%2315=953%:%
%:%2318=954%:%
%:%2319=955%:%
%:%2320=955%:%
%:%2321=956%:%
%:%2322=957%:%
%:%2323=957%:%
%:%2324=958%:%
%:%2325=959%:%
%:%2326=960%:%
%:%2327=960%:%
%:%2328=961%:%
%:%2329=962%:%
%:%2330=963%:%
%:%2331=963%:%
%:%2332=964%:%
%:%2333=965%:%
%:%2334=966%:%
%:%2337=967%:%
%:%2338=968%:%
%:%2342=968%:%
%:%2343=968%:%
%:%2344=969%:%
%:%2345=969%:%
%:%2346=970%:%
%:%2347=970%:%
%:%2348=971%:%
%:%2349=971%:%
%:%2350=972%:%
%:%2351=972%:%
%:%2352=973%:%
%:%2353=973%:%
%:%2358=973%:%
%:%2361=974%:%
%:%2362=975%:%
%:%2363=975%:%
%:%2364=976%:%
%:%2365=977%:%
%:%2366=978%:%
%:%2369=979%:%
%:%2373=979%:%
%:%2374=979%:%
%:%2375=980%:%
%:%2376=980%:%
%:%2377=981%:%
%:%2378=981%:%
%:%2379=982%:%
%:%2380=982%:%
%:%2381=983%:%
%:%2382=983%:%
%:%2383=984%:%
%:%2384=984%:%
%:%2385=985%:%
%:%2386=985%:%
%:%2387=986%:%
%:%2388=986%:%
%:%2389=987%:%
%:%2390=987%:%
%:%2391=988%:%
%:%2392=988%:%
%:%2393=989%:%
%:%2394=989%:%
%:%2395=990%:%
%:%2396=990%:%
%:%2397=991%:%
%:%2398=991%:%
%:%2399=992%:%
%:%2400=992%:%
%:%2405=992%:%
%:%2408=993%:%
%:%2409=994%:%
%:%2410=994%:%
%:%2411=995%:%
%:%2412=996%:%
%:%2413=997%:%
%:%2414=998%:%
%:%2421=999%:%
%:%2422=999%:%
%:%2423=1000%:%
%:%2424=1000%:%
%:%2425=1000%:%
%:%2426=1001%:%
%:%2427=1001%:%
%:%2428=1001%:%
%:%2429=1002%:%
%:%2430=1002%:%
%:%2431=1002%:%
%:%2432=1003%:%
%:%2433=1004%:%
%:%2434=1004%:%
%:%2435=1005%:%
%:%2436=1005%:%
%:%2437=1006%:%
%:%2438=1006%:%
%:%2439=1007%:%
%:%2440=1007%:%
%:%2441=1008%:%
%:%2442=1008%:%
%:%2443=1009%:%
%:%2444=1009%:%
%:%2445=1010%:%
%:%2446=1010%:%
%:%2447=1011%:%
%:%2448=1011%:%
%:%2449=1012%:%
%:%2450=1012%:%
%:%2451=1013%:%
%:%2452=1013%:%
%:%2453=1014%:%
%:%2454=1014%:%
%:%2455=1015%:%
%:%2456=1015%:%
%:%2457=1016%:%
%:%2458=1016%:%
%:%2459=1016%:%
%:%2460=1017%:%
%:%2461=1017%:%
%:%2462=1018%:%
%:%2463=1018%:%
%:%2464=1019%:%
%:%2465=1019%:%
%:%2466=1020%:%
%:%2467=1020%:%
%:%2468=1020%:%
%:%2469=1020%:%
%:%2470=1021%:%
%:%2471=1022%:%
%:%2472=1022%:%
%:%2473=1022%:%
%:%2474=1022%:%
%:%2475=1022%:%
%:%2476=1023%:%
%:%2477=1023%:%
%:%2478=1023%:%
%:%2479=1024%:%
%:%2480=1024%:%
%:%2481=1025%:%
%:%2482=1025%:%
%:%2483=1026%:%
%:%2484=1026%:%
%:%2485=1027%:%
%:%2486=1027%:%
%:%2487=1027%:%
%:%2488=1028%:%
%:%2489=1028%:%
%:%2490=1028%:%
%:%2491=1028%:%
%:%2492=1029%:%
%:%2493=1030%:%
%:%2494=1030%:%
%:%2495=1030%:%
%:%2496=1030%:%
%:%2497=1031%:%
%:%2498=1031%:%
%:%2499=1031%:%
%:%2500=1032%:%
%:%2501=1032%:%
%:%2502=1033%:%
%:%2503=1033%:%
%:%2504=1034%:%
%:%2505=1034%:%
%:%2506=1035%:%
%:%2507=1035%:%
%:%2508=1035%:%
%:%2509=1036%:%
%:%2510=1036%:%
%:%2511=1036%:%
%:%2512=1036%:%
%:%2513=1037%:%
%:%2514=1038%:%
%:%2515=1038%:%
%:%2516=1039%:%
%:%2517=1039%:%
%:%2518=1040%:%
%:%2519=1040%:%
%:%2520=1041%:%
%:%2521=1041%:%
%:%2522=1042%:%
%:%2523=1043%:%
%:%2524=1043%:%
%:%2525=1044%:%
%:%2526=1044%:%
%:%2527=1045%:%
%:%2528=1045%:%
%:%2529=1046%:%
%:%2530=1046%:%
%:%2531=1047%:%
%:%2532=1047%:%
%:%2533=1048%:%
%:%2534=1048%:%
%:%2535=1049%:%
%:%2536=1049%:%
%:%2537=1050%:%
%:%2538=1050%:%
%:%2539=1051%:%
%:%2540=1052%:%
%:%2541=1052%:%
%:%2542=1052%:%
%:%2543=1053%:%
%:%2544=1054%:%
%:%2545=1055%:%
%:%2546=1056%:%
%:%2547=1057%:%
%:%2548=1057%:%
%:%2549=1058%:%
%:%2550=1058%:%
%:%2551=1059%:%
%:%2552=1060%:%
%:%2553=1060%:%
%:%2554=1060%:%
%:%2555=1060%:%
%:%2556=1060%:%
%:%2557=1061%:%
%:%2558=1061%:%
%:%2559=1061%:%
%:%2560=1061%:%
%:%2561=1061%:%
%:%2562=1062%:%
%:%2563=1063%:%
%:%2564=1063%:%
%:%2565=1063%:%
%:%2566=1063%:%
%:%2567=1063%:%
%:%2568=1064%:%
%:%2569=1065%:%
%:%2570=1065%:%
%:%2571=1065%:%
%:%2572=1065%:%
%:%2573=1065%:%
%:%2574=1066%:%
%:%2575=1066%:%
%:%2576=1066%:%
%:%2577=1066%:%
%:%2578=1066%:%
%:%2579=1067%:%
%:%2580=1068%:%
%:%2581=1068%:%
%:%2582=1068%:%
%:%2583=1068%:%
%:%2584=1068%:%
%:%2585=1069%:%
%:%2586=1069%:%
%:%2587=1069%:%
%:%2588=1069%:%
%:%2589=1069%:%
%:%2590=1070%:%
%:%2591=1071%:%
%:%2592=1071%:%
%:%2593=1071%:%
%:%2594=1071%:%
%:%2595=1071%:%
%:%2596=1072%:%
%:%2597=1072%:%
%:%2598=1072%:%
%:%2599=1072%:%
%:%2600=1072%:%
%:%2601=1073%:%
%:%2602=1074%:%
%:%2603=1074%:%
%:%2604=1075%:%
%:%2605=1075%:%
%:%2606=1076%:%
%:%2607=1076%:%
%:%2608=1077%:%
%:%2609=1077%:%
%:%2610=1078%:%
%:%2611=1079%:%
%:%2612=1079%:%
%:%2613=1080%:%
%:%2614=1080%:%
%:%2615=1081%:%
%:%2616=1081%:%
%:%2617=1082%:%
%:%2618=1082%:%
%:%2619=1083%:%
%:%2620=1083%:%
%:%2621=1084%:%
%:%2622=1085%:%
%:%2623=1085%:%
%:%2624=1085%:%
%:%2625=1085%:%
%:%2626=1086%:%
%:%2632=1086%:%
%:%2635=1087%:%
%:%2636=1088%:%
%:%2637=1088%:%
%:%2638=1089%:%
%:%2639=1090%:%
%:%2640=1091%:%
%:%2641=1092%:%
%:%2648=1093%:%
%:%2649=1093%:%
%:%2650=1094%:%
%:%2651=1094%:%
%:%2652=1095%:%
%:%2653=1096%:%
%:%2654=1096%:%
%:%2655=1097%:%
%:%2656=1097%:%
%:%2657=1098%:%
%:%2658=1098%:%
%:%2659=1099%:%
%:%2660=1099%:%
%:%2661=1100%:%
%:%2662=1100%:%
%:%2663=1101%:%
%:%2664=1101%:%
%:%2665=1102%:%
%:%2666=1102%:%
%:%2667=1103%:%
%:%2668=1103%:%
%:%2669=1104%:%
%:%2670=1104%:%
%:%2671=1105%:%
%:%2672=1105%:%
%:%2673=1106%:%
%:%2674=1106%:%
%:%2675=1107%:%
%:%2676=1108%:%
%:%2677=1108%:%
%:%2678=1108%:%
%:%2679=1109%:%
%:%2680=1109%:%
%:%2681=1110%:%
%:%2682=1110%:%
%:%2683=1111%:%
%:%2684=1111%:%
%:%2685=1112%:%
%:%2686=1112%:%
%:%2687=1113%:%
%:%2688=1114%:%
%:%2689=1114%:%
%:%2690=1115%:%
%:%2691=1115%:%
%:%2692=1116%:%
%:%2693=1116%:%
%:%2694=1117%:%
%:%2695=1117%:%
%:%2696=1118%:%
%:%2697=1118%:%
%:%2698=1119%:%
%:%2699=1120%:%
%:%2700=1120%:%
%:%2701=1120%:%
%:%2702=1121%:%
%:%2703=1121%:%
%:%2704=1122%:%
%:%2705=1122%:%
%:%2706=1123%:%
%:%2707=1123%:%
%:%2708=1124%:%
%:%2709=1125%:%
%:%2710=1125%:%
%:%2711=1125%:%
%:%2712=1126%:%
%:%2713=1126%:%
%:%2714=1126%:%
%:%2718=1130%:%
%:%2719=1131%:%
%:%2720=1131%:%
%:%2721=1132%:%
%:%2722=1132%:%
%:%2723=1133%:%
%:%2724=1133%:%
%:%2725=1133%:%
%:%2726=1134%:%
%:%2727=1135%:%
%:%2728=1136%:%
%:%2729=1136%:%
%:%2730=1137%:%
%:%2731=1137%:%
%:%2732=1137%:%
%:%2733=1137%:%
%:%2734=1137%:%
%:%2735=1138%:%
%:%2736=1138%:%
%:%2737=1138%:%
%:%2738=1138%:%
%:%2739=1138%:%
%:%2740=1139%:%
%:%2741=1140%:%
%:%2742=1140%:%
%:%2743=1141%:%
%:%2744=1141%:%
%:%2745=1141%:%
%:%2746=1141%:%
%:%2747=1142%:%
%:%2748=1142%:%
%:%2749=1142%:%
%:%2750=1143%:%
%:%2751=1143%:%
%:%2752=1143%:%
%:%2753=1144%:%
%:%2754=1144%:%
%:%2755=1144%:%
%:%2756=1145%:%
%:%2757=1145%:%
%:%2758=1145%:%
%:%2759=1146%:%
%:%2760=1147%:%
%:%2761=1147%:%
%:%2762=1148%:%
%:%2763=1148%:%
%:%2764=1148%:%
%:%2765=1148%:%
%:%2766=1149%:%
%:%2767=1149%:%
%:%2768=1149%:%
%:%2769=1150%:%
%:%2770=1150%:%
%:%2771=1150%:%
%:%2772=1151%:%
%:%2773=1151%:%
%:%2774=1151%:%
%:%2775=1152%:%
%:%2776=1152%:%
%:%2777=1152%:%
%:%2778=1153%:%
%:%2779=1154%:%
%:%2780=1154%:%
%:%2781=1155%:%
%:%2782=1155%:%
%:%2783=1156%:%
%:%2784=1156%:%
%:%2785=1157%:%
%:%2786=1157%:%
%:%2787=1158%:%
%:%2788=1158%:%
%:%2789=1159%:%
%:%2790=1159%:%
%:%2791=1160%:%
%:%2792=1161%:%
%:%2793=1161%:%
%:%2794=1161%:%
%:%2795=1161%:%
%:%2796=1161%:%
%:%2797=1162%:%
%:%2803=1162%:%
%:%2806=1163%:%
%:%2807=1164%:%
%:%2808=1164%:%
%:%2809=1165%:%
%:%2810=1166%:%
%:%2811=1166%:%
%:%2812=1167%:%
%:%2813=1168%:%
%:%2814=1169%:%
%:%2815=1169%:%
%:%2816=1170%:%
%:%2817=1171%:%
%:%2818=1172%:%
%:%2819=1172%:%
%:%2820=1173%:%
%:%2821=1174%:%
%:%2822=1175%:%
%:%2825=1176%:%
%:%2829=1176%:%
%:%2830=1176%:%
%:%2831=1177%:%
%:%2832=1177%:%
%:%2833=1178%:%
%:%2834=1178%:%
%:%2835=1179%:%
%:%2836=1179%:%
%:%2837=1180%:%
%:%2838=1180%:%
%:%2843=1180%:%
%:%2846=1181%:%
%:%2847=1182%:%
%:%2848=1182%:%
%:%2849=1183%:%
%:%2850=1184%:%
%:%2851=1185%:%
%:%2854=1186%:%
%:%2858=1186%:%
%:%2859=1186%:%
%:%2860=1187%:%
%:%2861=1187%:%
%:%2862=1188%:%
%:%2863=1188%:%
%:%2864=1189%:%
%:%2865=1189%:%
%:%2866=1190%:%
%:%2867=1190%:%
%:%2868=1191%:%
%:%2869=1191%:%
%:%2870=1192%:%
%:%2871=1192%:%
%:%2872=1193%:%
%:%2873=1193%:%
%:%2874=1194%:%
%:%2875=1194%:%
%:%2876=1195%:%
%:%2877=1195%:%
%:%2878=1196%:%
%:%2879=1196%:%
%:%2880=1197%:%
%:%2881=1197%:%
%:%2882=1198%:%
%:%2883=1198%:%
%:%2884=1199%:%
%:%2885=1199%:%
%:%2886=1200%:%
%:%2887=1200%:%
%:%2888=1201%:%
%:%2889=1201%:%
%:%2890=1202%:%
%:%2891=1202%:%
%:%2892=1203%:%
%:%2893=1203%:%
%:%2894=1204%:%
%:%2895=1204%:%
%:%2900=1204%:%
%:%2903=1205%:%
%:%2904=1206%:%
%:%2905=1206%:%
%:%2906=1207%:%
%:%2907=1208%:%
%:%2908=1209%:%
%:%2909=1210%:%
%:%2916=1211%:%
%:%2917=1211%:%
%:%2918=1212%:%
%:%2919=1212%:%
%:%2920=1212%:%
%:%2921=1213%:%
%:%2922=1213%:%
%:%2923=1213%:%
%:%2924=1214%:%
%:%2925=1215%:%
%:%2926=1215%:%
%:%2927=1216%:%
%:%2928=1216%:%
%:%2929=1217%:%
%:%2930=1217%:%
%:%2931=1218%:%
%:%2932=1218%:%
%:%2933=1219%:%
%:%2934=1219%:%
%:%2935=1219%:%
%:%2936=1220%:%
%:%2937=1220%:%
%:%2938=1220%:%
%:%2939=1221%:%
%:%2940=1222%:%
%:%2941=1222%:%
%:%2942=1223%:%
%:%2943=1223%:%
%:%2944=1224%:%
%:%2945=1224%:%
%:%2946=1225%:%
%:%2947=1225%:%
%:%2948=1226%:%
%:%2949=1226%:%
%:%2950=1227%:%
%:%2951=1227%:%
%:%2952=1228%:%
%:%2953=1228%:%
%:%2954=1229%:%
%:%2955=1229%:%
%:%2956=1230%:%
%:%2957=1230%:%
%:%2958=1231%:%
%:%2959=1231%:%
%:%2960=1232%:%
%:%2961=1232%:%
%:%2962=1233%:%
%:%2963=1233%:%
%:%2964=1234%:%
%:%2965=1234%:%
%:%2966=1235%:%
%:%2967=1235%:%
%:%2968=1236%:%
%:%2969=1236%:%
%:%2970=1237%:%
%:%2971=1237%:%
%:%2972=1238%:%
%:%2973=1238%:%
%:%2974=1239%:%
%:%2975=1239%:%
%:%2976=1240%:%
%:%2977=1241%:%
%:%2978=1241%:%
%:%2979=1241%:%
%:%2980=1241%:%
%:%2981=1241%:%
%:%2982=1242%:%
%:%2988=1242%:%
%:%2991=1243%:%
%:%2992=1244%:%
%:%2993=1244%:%
%:%2994=1245%:%
%:%2995=1246%:%
%:%2996=1246%:%
%:%2997=1247%:%
%:%2998=1248%:%
%:%2999=1248%:%
%:%3000=1249%:%
%:%3001=1250%:%
%:%3002=1251%:%
%:%3003=1251%:%
%:%3004=1252%:%
%:%3005=1253%:%
%:%3006=1254%:%
%:%3009=1255%:%
%:%3010=1256%:%
%:%3014=1256%:%
%:%3015=1256%:%
%:%3016=1257%:%
%:%3017=1257%:%
%:%3018=1258%:%
%:%3019=1258%:%
%:%3020=1259%:%
%:%3021=1259%:%
%:%3022=1260%:%
%:%3023=1260%:%
%:%3024=1261%:%
%:%3025=1261%:%
%:%3026=1262%:%
%:%3027=1262%:%
%:%3032=1262%:%
%:%3035=1263%:%
%:%3036=1264%:%
%:%3037=1264%:%
%:%3038=1265%:%
%:%3039=1266%:%
%:%3040=1267%:%
%:%3043=1268%:%
%:%3044=1269%:%
%:%3048=1269%:%
%:%3049=1269%:%
%:%3050=1270%:%
%:%3051=1270%:%
%:%3052=1271%:%
%:%3053=1271%:%
%:%3054=1272%:%
%:%3055=1272%:%
%:%3056=1273%:%
%:%3057=1273%:%
%:%3058=1274%:%
%:%3059=1274%:%
%:%3060=1275%:%
%:%3061=1275%:%
%:%3062=1276%:%
%:%3063=1276%:%
%:%3064=1277%:%
%:%3065=1277%:%
%:%3066=1278%:%
%:%3067=1278%:%
%:%3068=1279%:%
%:%3069=1279%:%
%:%3070=1280%:%
%:%3071=1280%:%
%:%3072=1281%:%
%:%3073=1281%:%
%:%3074=1282%:%
%:%3075=1282%:%
%:%3076=1283%:%
%:%3077=1283%:%
%:%3078=1284%:%
%:%3079=1284%:%
%:%3080=1285%:%
%:%3081=1285%:%
%:%3082=1286%:%
%:%3083=1286%:%
%:%3084=1287%:%
%:%3085=1287%:%
%:%3086=1288%:%
%:%3087=1288%:%
%:%3088=1289%:%
%:%3089=1289%:%
%:%3090=1290%:%
%:%3091=1290%:%
%:%3092=1291%:%
%:%3093=1291%:%
%:%3094=1292%:%
%:%3095=1292%:%
%:%3096=1293%:%
%:%3097=1293%:%
%:%3102=1293%:%
%:%3105=1294%:%
%:%3106=1295%:%
%:%3107=1296%:%
%:%3108=1296%:%
%:%3109=1297%:%
%:%3110=1298%:%
%:%3111=1299%:%
%:%3112=1300%:%
%:%3113=1301%:%
%:%3114=1302%:%
%:%3115=1303%:%
%:%3116=1304%:%
%:%3123=1305%:%
%:%3124=1305%:%
%:%3125=1306%:%
%:%3126=1306%:%
%:%3127=1307%:%
%:%3128=1307%:%
%:%3129=1308%:%
%:%3130=1308%:%
%:%3131=1309%:%
%:%3132=1309%:%
%:%3133=1310%:%
%:%3134=1311%:%
%:%3135=1311%:%
%:%3136=1311%:%
%:%3137=1311%:%
%:%3138=1312%:%
%:%3139=1312%:%
%:%3140=1312%:%
%:%3141=1312%:%
%:%3142=1312%:%
%:%3143=1313%:%
%:%3144=1314%:%
%:%3145=1314%:%
%:%3146=1315%:%
%:%3147=1315%:%
%:%3148=1316%:%
%:%3149=1316%:%
%:%3150=1317%:%
%:%3151=1317%:%
%:%3152=1318%:%
%:%3153=1318%:%
%:%3154=1318%:%
%:%3155=1319%:%
%:%3156=1319%:%
%:%3157=1320%:%
%:%3158=1320%:%
%:%3159=1321%:%
%:%3160=1322%:%
%:%3161=1322%:%
%:%3162=1323%:%
%:%3163=1323%:%
%:%3164=1324%:%
%:%3165=1324%:%
%:%3166=1325%:%
%:%3167=1325%:%
%:%3168=1326%:%
%:%3169=1326%:%
%:%3170=1326%:%
%:%3171=1327%:%
%:%3172=1327%:%
%:%3173=1328%:%
%:%3174=1328%:%
%:%3175=1329%:%
%:%3176=1330%:%
%:%3177=1330%:%
%:%3178=1331%:%
%:%3179=1331%:%
%:%3180=1332%:%
%:%3181=1332%:%
%:%3182=1332%:%
%:%3183=1333%:%
%:%3184=1333%:%
%:%3185=1334%:%
%:%3186=1334%:%
%:%3187=1335%:%
%:%3188=1335%:%
%:%3189=1336%:%
%:%3190=1336%:%
%:%3191=1337%:%
%:%3192=1337%:%
%:%3193=1337%:%
%:%3194=1338%:%
%:%3195=1338%:%
%:%3196=1339%:%
%:%3197=1339%:%
%:%3198=1340%:%
%:%3199=1340%:%
%:%3200=1341%:%
%:%3201=1341%:%
%:%3202=1341%:%
%:%3203=1342%:%
%:%3204=1342%:%
%:%3205=1343%:%
%:%3206=1343%:%
%:%3207=1344%:%
%:%3208=1344%:%
%:%3209=1344%:%
%:%3210=1344%:%
%:%3211=1345%:%
%:%3212=1346%:%
%:%3213=1346%:%
%:%3214=1346%:%
%:%3215=1346%:%
%:%3216=1347%:%
%:%3217=1347%:%
%:%3218=1347%:%
%:%3219=1348%:%
%:%3220=1348%:%
%:%3221=1349%:%
%:%3222=1349%:%
%:%3223=1349%:%
%:%3224=1349%:%
%:%3225=1350%:%
%:%3226=1350%:%
%:%3227=1350%:%
%:%3228=1351%:%
%:%3229=1351%:%
%:%3230=1352%:%
%:%3231=1352%:%
%:%3232=1352%:%
%:%3233=1353%:%
%:%3234=1353%:%
%:%3235=1354%:%
%:%3236=1354%:%
%:%3237=1355%:%
%:%3238=1355%:%
%:%3239=1356%:%
%:%3240=1356%:%
%:%3241=1356%:%
%:%3242=1357%:%
%:%3243=1357%:%
%:%3244=1358%:%
%:%3245=1358%:%
%:%3246=1359%:%
%:%3247=1359%:%
%:%3248=1359%:%
%:%3249=1359%:%
%:%3250=1360%:%
%:%3251=1361%:%
%:%3252=1361%:%
%:%3253=1361%:%
%:%3254=1362%:%
%:%3255=1362%:%
%:%3256=1363%:%
%:%3257=1363%:%
%:%3258=1364%:%
%:%3259=1364%:%
%:%3260=1365%:%
%:%3261=1366%:%
%:%3262=1366%:%
%:%3263=1367%:%
%:%3264=1367%:%
%:%3265=1368%:%
%:%3266=1368%:%
%:%3267=1369%:%
%:%3268=1369%:%
%:%3269=1370%:%
%:%3270=1370%:%
%:%3271=1371%:%
%:%3272=1371%:%
%:%3273=1372%:%
%:%3274=1372%:%
%:%3275=1373%:%
%:%3276=1373%:%
%:%3277=1374%:%
%:%3278=1374%:%
%:%3279=1375%:%
%:%3280=1375%:%
%:%3281=1376%:%
%:%3282=1376%:%
%:%3283=1377%:%
%:%3284=1378%:%
%:%3285=1378%:%
%:%3286=1378%:%
%:%3287=1378%:%
%:%3288=1378%:%
%:%3289=1379%:%
%:%3290=1379%:%
%:%3291=1379%:%
%:%3292=1379%:%
%:%3293=1379%:%
%:%3294=1380%:%
%:%3295=1381%:%
%:%3296=1381%:%
%:%3297=1382%:%
%:%3298=1382%:%
%:%3299=1383%:%
%:%3300=1383%:%
%:%3301=1383%:%
%:%3302=1384%:%
%:%3303=1384%:%
%:%3304=1384%:%
%:%3305=1384%:%
%:%3306=1385%:%
%:%3307=1386%:%
%:%3308=1386%:%
%:%3309=1387%:%
%:%3310=1387%:%
%:%3311=1388%:%
%:%3312=1388%:%
%:%3313=1388%:%
%:%3314=1389%:%
%:%3315=1389%:%
%:%3316=1389%:%
%:%3317=1389%:%
%:%3318=1389%:%
%:%3319=1390%:%
%:%3320=1391%:%
%:%3321=1391%:%
%:%3322=1392%:%
%:%3323=1392%:%
%:%3324=1393%:%
%:%3325=1393%:%
%:%3326=1394%:%
%:%3327=1394%:%
%:%3328=1395%:%
%:%3329=1395%:%
%:%3330=1396%:%
%:%3331=1396%:%
%:%3332=1397%:%
%:%3333=1397%:%
%:%3334=1398%:%
%:%3335=1398%:%
%:%3336=1399%:%
%:%3337=1400%:%
%:%3338=1400%:%
%:%3339=1401%:%
%:%3340=1401%:%
%:%3341=1402%:%
%:%3342=1402%:%
%:%3343=1402%:%
%:%3344=1403%:%
%:%3345=1403%:%
%:%3346=1404%:%
%:%3347=1404%:%
%:%3348=1405%:%
%:%3349=1405%:%
%:%3350=1406%:%
%:%3351=1406%:%
%:%3352=1406%:%
%:%3353=1406%:%
%:%3354=1407%:%
%:%3355=1408%:%
%:%3356=1408%:%
%:%3357=1409%:%
%:%3358=1409%:%
%:%3359=1410%:%
%:%3360=1410%:%
%:%3361=1411%:%
%:%3362=1411%:%
%:%3363=1412%:%
%:%3364=1412%:%
%:%3365=1413%:%
%:%3366=1414%:%
%:%3367=1415%:%
%:%3368=1415%:%
%:%3369=1416%:%
%:%3370=1416%:%
%:%3371=1417%:%
%:%3372=1417%:%
%:%3373=1417%:%
%:%3374=1418%:%
%:%3375=1418%:%
%:%3376=1418%:%
%:%3377=1418%:%
%:%3378=1419%:%
%:%3379=1419%:%
%:%3380=1419%:%
%:%3381=1419%:%
%:%3382=1420%:%
%:%3383=1420%:%
%:%3384=1420%:%
%:%3385=1420%:%
%:%3386=1421%:%
%:%3387=1421%:%
%:%3388=1421%:%
%:%3389=1421%:%
%:%3390=1421%:%
%:%3391=1422%:%
%:%3392=1422%:%
%:%3393=1423%:%
%:%3394=1423%:%
%:%3395=1423%:%
%:%3396=1424%:%
%:%3397=1424%:%
%:%3398=1424%:%
%:%3399=1424%:%
%:%3400=1425%:%
%:%3401=1425%:%
%:%3402=1425%:%
%:%3403=1425%:%
%:%3404=1425%:%
%:%3405=1426%:%
%:%3406=1426%:%
%:%3407=1426%:%
%:%3408=1426%:%
%:%3409=1427%:%
%:%3410=1427%:%
%:%3411=1427%:%
%:%3412=1427%:%
%:%3413=1427%:%
%:%3414=1428%:%
%:%3415=1428%:%
%:%3416=1429%:%
%:%3417=1430%:%
%:%3418=1430%:%
%:%3419=1431%:%
%:%3420=1431%:%
%:%3421=1432%:%
%:%3422=1432%:%
%:%3423=1433%:%
%:%3424=1433%:%
%:%3425=1434%:%
%:%3426=1434%:%
%:%3427=1435%:%
%:%3428=1435%:%
%:%3429=1436%:%
%:%3430=1436%:%
%:%3431=1437%:%
%:%3432=1437%:%
%:%3433=1438%:%
%:%3434=1438%:%
%:%3435=1439%:%
%:%3436=1439%:%
%:%3437=1440%:%
%:%3438=1440%:%
%:%3439=1441%:%
%:%3440=1441%:%
%:%3441=1442%:%
%:%3442=1442%:%
%:%3443=1443%:%
%:%3444=1443%:%
%:%3445=1444%:%
%:%3446=1444%:%
%:%3447=1445%:%
%:%3448=1445%:%
%:%3449=1445%:%
%:%3450=1446%:%
%:%3451=1446%:%
%:%3452=1447%:%
%:%3453=1447%:%
%:%3454=1448%:%
%:%3455=1448%:%
%:%3456=1449%:%
%:%3457=1450%:%
%:%3458=1450%:%
%:%3459=1450%:%
%:%3460=1450%:%
%:%3461=1450%:%
%:%3462=1451%:%
%:%3468=1451%:%
%:%3471=1452%:%
%:%3472=1453%:%
%:%3473=1453%:%
%:%3474=1454%:%
%:%3475=1455%:%
%:%3476=1456%:%
%:%3477=1457%:%
%:%3478=1458%:%
%:%3479=1459%:%
%:%3480=1460%:%
%:%3481=1461%:%
%:%3482=1462%:%
%:%3489=1463%:%
%:%3490=1463%:%
%:%3491=1464%:%
%:%3492=1465%:%
%:%3493=1465%:%
%:%3494=1466%:%
%:%3495=1466%:%
%:%3496=1467%:%
%:%3497=1467%:%
%:%3498=1468%:%
%:%3499=1468%:%
%:%3500=1468%:%
%:%3501=1468%:%
%:%3502=1469%:%
%:%3503=1469%:%
%:%3504=1469%:%
%:%3505=1470%:%
%:%3506=1470%:%
%:%3507=1471%:%
%:%3508=1471%:%
%:%3509=1472%:%
%:%3510=1472%:%
%:%3511=1473%:%
%:%3512=1473%:%
%:%3513=1474%:%
%:%3514=1474%:%
%:%3515=1475%:%
%:%3516=1475%:%
%:%3517=1476%:%
%:%3518=1476%:%
%:%3519=1477%:%
%:%3520=1477%:%
%:%3521=1477%:%
%:%3522=1477%:%
%:%3523=1477%:%
%:%3524=1478%:%
%:%3525=1478%:%
%:%3526=1478%:%
%:%3527=1478%:%
%:%3528=1478%:%
%:%3529=1479%:%
%:%3530=1479%:%
%:%3531=1479%:%
%:%3532=1479%:%
%:%3533=1480%:%
%:%3534=1480%:%
%:%3535=1480%:%
%:%3536=1480%:%
%:%3537=1481%:%
%:%3538=1481%:%
%:%3539=1481%:%
%:%3540=1481%:%
%:%3541=1481%:%
%:%3542=1482%:%
%:%3543=1482%:%
%:%3544=1483%:%
%:%3545=1483%:%
%:%3546=1483%:%
%:%3547=1484%:%
%:%3548=1484%:%
%:%3549=1485%:%
%:%3550=1485%:%
%:%3551=1486%:%
%:%3552=1486%:%
%:%3553=1487%:%
%:%3554=1487%:%
%:%3555=1488%:%
%:%3556=1489%:%
%:%3557=1489%:%
%:%3558=1490%:%
%:%3559=1490%:%
%:%3560=1491%:%
%:%3561=1491%:%
%:%3562=1492%:%
%:%3563=1492%:%
%:%3564=1493%:%
%:%3565=1494%:%
%:%3566=1494%:%
%:%3567=1495%:%
%:%3568=1495%:%
%:%3569=1496%:%
%:%3570=1496%:%
%:%3571=1497%:%
%:%3572=1497%:%
%:%3573=1498%:%
%:%3574=1498%:%
%:%3575=1499%:%
%:%3576=1499%:%
%:%3577=1500%:%
%:%3578=1500%:%
%:%3579=1501%:%
%:%3580=1501%:%
%:%3581=1502%:%
%:%3582=1502%:%
%:%3583=1503%:%
%:%3584=1503%:%
%:%3585=1504%:%
%:%3586=1504%:%
%:%3587=1505%:%
%:%3588=1505%:%
%:%3589=1505%:%
%:%3590=1505%:%
%:%3591=1506%:%
%:%3592=1506%:%
%:%3593=1506%:%
%:%3594=1506%:%
%:%3595=1507%:%
%:%3596=1508%:%
%:%3597=1508%:%
%:%3598=1509%:%
%:%3599=1509%:%
%:%3600=1510%:%
%:%3601=1510%:%
%:%3602=1511%:%
%:%3603=1511%:%
%:%3604=1512%:%
%:%3605=1513%:%
%:%3606=1513%:%
%:%3607=1514%:%
%:%3608=1514%:%
%:%3609=1515%:%
%:%3610=1515%:%
%:%3611=1515%:%
%:%3612=1516%:%
%:%3613=1516%:%
%:%3614=1516%:%
%:%3615=1516%:%
%:%3616=1517%:%
%:%3617=1517%:%
%:%3618=1517%:%
%:%3619=1517%:%
%:%3620=1517%:%
%:%3621=1518%:%
%:%3622=1518%:%
%:%3623=1518%:%
%:%3624=1518%:%
%:%3625=1519%:%
%:%3626=1519%:%
%:%3627=1520%:%
%:%3628=1521%:%
%:%3629=1521%:%
%:%3630=1522%:%
%:%3631=1522%:%
%:%3632=1523%:%
%:%3633=1523%:%
%:%3634=1523%:%
%:%3635=1524%:%
%:%3636=1524%:%
%:%3637=1524%:%
%:%3638=1524%:%
%:%3639=1524%:%
%:%3640=1525%:%
%:%3641=1525%:%
%:%3642=1525%:%
%:%3643=1526%:%
%:%3644=1526%:%
%:%3645=1527%:%
%:%3646=1527%:%
%:%3647=1528%:%
%:%3648=1528%:%
%:%3649=1529%:%
%:%3650=1529%:%
%:%3651=1530%:%
%:%3652=1531%:%
%:%3653=1531%:%
%:%3654=1532%:%
%:%3655=1532%:%
%:%3656=1533%:%
%:%3657=1533%:%
%:%3658=1534%:%
%:%3659=1534%:%
%:%3660=1535%:%
%:%3661=1535%:%
%:%3662=1535%:%
%:%3663=1535%:%
%:%3664=1535%:%
%:%3665=1536%:%
%:%3666=1536%:%
%:%3667=1536%:%
%:%3668=1536%:%
%:%3669=1537%:%
%:%3670=1537%:%
%:%3671=1537%:%
%:%3672=1538%:%
%:%3673=1538%:%
%:%3674=1539%:%
%:%3675=1539%:%
%:%3676=1540%:%
%:%3677=1540%:%
%:%3678=1541%:%
%:%3679=1541%:%
%:%3680=1542%:%
%:%3681=1542%:%
%:%3682=1543%:%
%:%3683=1543%:%
%:%3684=1544%:%
%:%3685=1544%:%
%:%3686=1545%:%
%:%3687=1545%:%
%:%3688=1546%:%
%:%3689=1546%:%
%:%3690=1546%:%
%:%3691=1546%:%
%:%3692=1546%:%
%:%3693=1547%:%
%:%3694=1547%:%
%:%3695=1547%:%
%:%3696=1548%:%
%:%3697=1548%:%
%:%3698=1549%:%
%:%3699=1549%:%
%:%3700=1550%:%
%:%3701=1550%:%
%:%3702=1551%:%
%:%3703=1551%:%
%:%3704=1552%:%
%:%3705=1553%:%
%:%3706=1553%:%
%:%3707=1554%:%
%:%3708=1554%:%
%:%3709=1555%:%
%:%3710=1555%:%
%:%3711=1556%:%
%:%3712=1556%:%
%:%3713=1557%:%
%:%3714=1557%:%
%:%3715=1558%:%
%:%3716=1558%:%
%:%3717=1559%:%
%:%3718=1559%:%
%:%3719=1560%:%
%:%3720=1560%:%
%:%3721=1561%:%
%:%3722=1561%:%
%:%3723=1562%:%
%:%3724=1562%:%
%:%3725=1563%:%
%:%3726=1563%:%
%:%3727=1564%:%
%:%3728=1564%:%
%:%3729=1565%:%
%:%3730=1565%:%
%:%3731=1566%:%
%:%3732=1566%:%
%:%3733=1567%:%
%:%3734=1567%:%
%:%3735=1568%:%
%:%3736=1568%:%
%:%3737=1569%:%
%:%3738=1569%:%
%:%3739=1570%:%
%:%3740=1570%:%
%:%3741=1571%:%
%:%3742=1571%:%
%:%3743=1572%:%
%:%3744=1572%:%
%:%3745=1573%:%
%:%3746=1573%:%
%:%3747=1574%:%
%:%3748=1574%:%
%:%3749=1575%:%
%:%3750=1575%:%
%:%3751=1576%:%
%:%3752=1576%:%
%:%3753=1577%:%
%:%3754=1577%:%
%:%3755=1578%:%
%:%3756=1578%:%
%:%3757=1579%:%
%:%3758=1579%:%
%:%3759=1580%:%
%:%3760=1580%:%
%:%3761=1581%:%
%:%3762=1581%:%
%:%3763=1582%:%
%:%3764=1582%:%
%:%3765=1583%:%
%:%3766=1583%:%
%:%3767=1584%:%
%:%3768=1584%:%
%:%3769=1585%:%
%:%3770=1585%:%
%:%3771=1585%:%
%:%3772=1586%:%
%:%3773=1586%:%
%:%3774=1587%:%
%:%3775=1587%:%
%:%3776=1588%:%
%:%3777=1588%:%
%:%3778=1589%:%
%:%3779=1589%:%
%:%3780=1590%:%
%:%3781=1590%:%
%:%3782=1590%:%
%:%3783=1590%:%
%:%3784=1591%:%
%:%3790=1591%:%
%:%3793=1592%:%
%:%3794=1593%:%
%:%3795=1593%:%
%:%3796=1594%:%
%:%3797=1595%:%
%:%3798=1596%:%
%:%3799=1597%:%
%:%3800=1598%:%
%:%3801=1599%:%
%:%3802=1600%:%
%:%3803=1601%:%
%:%3804=1602%:%
%:%3805=1603%:%
%:%3806=1604%:%
%:%3807=1605%:%
%:%3808=1606%:%
%:%3809=1607%:%
%:%3810=1608%:%
%:%3817=1609%:%
%:%3818=1609%:%
%:%3819=1610%:%
%:%3820=1611%:%
%:%3821=1611%:%
%:%3822=1611%:%
%:%3823=1612%:%
%:%3824=1612%:%
%:%3825=1612%:%
%:%3826=1613%:%
%:%3827=1614%:%
%:%3828=1614%:%
%:%3829=1615%:%
%:%3830=1615%:%
%:%3831=1615%:%
%:%3832=1615%:%
%:%3833=1616%:%
%:%3834=1616%:%
%:%3835=1616%:%
%:%3836=1616%:%
%:%3837=1617%:%
%:%3838=1618%:%
%:%3839=1618%:%
%:%3840=1618%:%
%:%3841=1618%:%
%:%3842=1619%:%
%:%3843=1619%:%
%:%3844=1619%:%
%:%3845=1619%:%
%:%3846=1620%:%
%:%3847=1620%:%
%:%3848=1620%:%
%:%3849=1620%:%
%:%3850=1621%:%
%:%3851=1621%:%
%:%3852=1621%:%
%:%3853=1621%:%
%:%3854=1622%:%
%:%3855=1622%:%
%:%3856=1622%:%
%:%3857=1622%:%
%:%3858=1623%:%
%:%3859=1623%:%
%:%3860=1623%:%
%:%3861=1623%:%
%:%3862=1624%:%
%:%3863=1625%:%
%:%3864=1625%:%
%:%3865=1626%:%
%:%3866=1626%:%
%:%3867=1627%:%
%:%3868=1627%:%
%:%3869=1627%:%
%:%3870=1628%:%
%:%3871=1628%:%
%:%3872=1628%:%
%:%3873=1629%:%
%:%3874=1629%:%
%:%3875=1630%:%
%:%3876=1630%:%
%:%3877=1631%:%
%:%3878=1631%:%
%:%3879=1632%:%
%:%3880=1632%:%
%:%3881=1633%:%
%:%3882=1633%:%
%:%3883=1633%:%
%:%3884=1634%:%
%:%3885=1634%:%
%:%3886=1634%:%
%:%3887=1634%:%
%:%3888=1634%:%
%:%3889=1635%:%
%:%3890=1635%:%
%:%3891=1635%:%
%:%3892=1635%:%
%:%3893=1635%:%
%:%3894=1636%:%
%:%3895=1636%:%
%:%3896=1636%:%
%:%3897=1636%:%
%:%3898=1636%:%
%:%3899=1636%:%
%:%3900=1637%:%
%:%3901=1637%:%
%:%3902=1637%:%
%:%3903=1637%:%
%:%3904=1637%:%
%:%3905=1637%:%
%:%3906=1638%:%
%:%3907=1639%:%
%:%3908=1639%:%
%:%3909=1640%:%
%:%3910=1640%:%
%:%3911=1641%:%
%:%3912=1641%:%
%:%3913=1642%:%
%:%3914=1642%:%
%:%3915=1643%:%
%:%3916=1643%:%
%:%3917=1644%:%
%:%3918=1644%:%
%:%3919=1645%:%
%:%3920=1645%:%
%:%3921=1646%:%
%:%3922=1646%:%
%:%3923=1647%:%
%:%3924=1647%:%
%:%3925=1648%:%
%:%3926=1648%:%
%:%3927=1649%:%
%:%3928=1650%:%
%:%3929=1650%:%
%:%3930=1651%:%
%:%3931=1651%:%
%:%3932=1652%:%
%:%3933=1652%:%
%:%3934=1652%:%
%:%3935=1653%:%
%:%3936=1653%:%
%:%3937=1653%:%
%:%3938=1653%:%
%:%3939=1653%:%
%:%3940=1654%:%
%:%3941=1655%:%
%:%3942=1655%:%
%:%3943=1655%:%
%:%3944=1655%:%
%:%3945=1655%:%
%:%3946=1656%:%
%:%3947=1656%:%
%:%3948=1656%:%
%:%3949=1657%:%
%:%3950=1657%:%
%:%3951=1658%:%
%:%3952=1658%:%
%:%3953=1659%:%
%:%3954=1659%:%
%:%3955=1660%:%
%:%3956=1660%:%
%:%3957=1661%:%
%:%3958=1661%:%
%:%3959=1662%:%
%:%3960=1662%:%
%:%3961=1663%:%
%:%3962=1663%:%
%:%3963=1664%:%
%:%3964=1664%:%
%:%3965=1665%:%
%:%3966=1665%:%
%:%3967=1666%:%
%:%3968=1666%:%
%:%3969=1666%:%
%:%3970=1666%:%
%:%3971=1666%:%
%:%3972=1666%:%
%:%3973=1667%:%
%:%3974=1667%:%
%:%3975=1667%:%
%:%3976=1668%:%
%:%3977=1668%:%
%:%3978=1669%:%
%:%3979=1669%:%
%:%3980=1670%:%
%:%3981=1670%:%
%:%3982=1671%:%
%:%3983=1671%:%
%:%3984=1672%:%
%:%3985=1672%:%
%:%3986=1673%:%
%:%3987=1673%:%
%:%3988=1674%:%
%:%3989=1674%:%
%:%3990=1675%:%
%:%3991=1675%:%
%:%3992=1676%:%
%:%3993=1676%:%
%:%3994=1677%:%
%:%3995=1677%:%
%:%3996=1678%:%
%:%3997=1679%:%
%:%3998=1679%:%
%:%3999=1680%:%
%:%4000=1680%:%
%:%4001=1681%:%
%:%4002=1681%:%
%:%4003=1682%:%
%:%4004=1682%:%
%:%4005=1683%:%
%:%4006=1683%:%
%:%4007=1684%:%
%:%4008=1684%:%
%:%4009=1685%:%
%:%4010=1686%:%
%:%4011=1686%:%
%:%4012=1687%:%
%:%4013=1687%:%
%:%4014=1688%:%
%:%4015=1688%:%
%:%4016=1689%:%
%:%4017=1689%:%
%:%4018=1690%:%
%:%4019=1690%:%
%:%4020=1691%:%
%:%4021=1691%:%
%:%4022=1692%:%
%:%4023=1692%:%
%:%4024=1693%:%
%:%4025=1694%:%
%:%4026=1694%:%
%:%4027=1694%:%
%:%4028=1694%:%
%:%4029=1694%:%
%:%4030=1695%:%
%:%4031=1695%:%
%:%4032=1696%:%
%:%4033=1696%:%
%:%4034=1696%:%
%:%4035=1697%:%
%:%4036=1697%:%
%:%4037=1697%:%
%:%4038=1698%:%
%:%4039=1699%:%
%:%4040=1700%:%
%:%4041=1701%:%
%:%4042=1702%:%
%:%4043=1702%:%
%:%4044=1702%:%
%:%4045=1703%:%
%:%4046=1704%:%
%:%4047=1704%:%
%:%4048=1704%:%
%:%4049=1704%:%
%:%4050=1704%:%
%:%4051=1705%:%
%:%4052=1705%:%
%:%4053=1705%:%
%:%4054=1705%:%
%:%4055=1705%:%
%:%4056=1706%:%
%:%4057=1707%:%
%:%4058=1707%:%
%:%4059=1707%:%
%:%4060=1707%:%
%:%4061=1707%:%
%:%4062=1708%:%
%:%4063=1708%:%
%:%4064=1708%:%
%:%4065=1708%:%
%:%4066=1708%:%
%:%4067=1709%:%
%:%4068=1709%:%
%:%4069=1709%:%
%:%4070=1709%:%
%:%4071=1709%:%
%:%4072=1710%:%
%:%4073=1710%:%
%:%4074=1710%:%
%:%4075=1710%:%
%:%4076=1710%:%
%:%4077=1711%:%
%:%4078=1712%:%
%:%4079=1712%:%
%:%4080=1713%:%
%:%4081=1713%:%
%:%4082=1714%:%
%:%4083=1714%:%
%:%4084=1715%:%
%:%4085=1715%:%
%:%4086=1716%:%
%:%4087=1716%:%
%:%4088=1717%:%
%:%4089=1717%:%
%:%4090=1718%:%
%:%4091=1719%:%
%:%4092=1719%:%
%:%4093=1720%:%
%:%4094=1720%:%
%:%4095=1721%:%
%:%4096=1721%:%
%:%4097=1722%:%
%:%4098=1722%:%
%:%4099=1723%:%
%:%4100=1723%:%
%:%4101=1724%:%
%:%4102=1724%:%
%:%4103=1725%:%
%:%4104=1726%:%
%:%4105=1726%:%
%:%4106=1727%:%
%:%4107=1727%:%
%:%4108=1728%:%
%:%4109=1728%:%
%:%4110=1729%:%
%:%4111=1729%:%
%:%4112=1730%:%
%:%4113=1730%:%
%:%4114=1731%:%
%:%4115=1731%:%
%:%4116=1732%:%
%:%4117=1732%:%
%:%4118=1733%:%
%:%4119=1733%:%
%:%4120=1733%:%
%:%4121=1733%:%
%:%4122=1733%:%
%:%4123=1734%:%
%:%4124=1734%:%
%:%4125=1735%:%
%:%4126=1736%:%
%:%4127=1736%:%
%:%4128=1737%:%
%:%4129=1737%:%
%:%4130=1738%:%
%:%4131=1739%:%
%:%4132=1739%:%
%:%4133=1740%:%
%:%4134=1740%:%
%:%4135=1741%:%
%:%4136=1741%:%
%:%4137=1742%:%
%:%4138=1742%:%
%:%4139=1743%:%
%:%4140=1743%:%
%:%4141=1744%:%
%:%4142=1744%:%
%:%4143=1745%:%
%:%4144=1745%:%
%:%4145=1746%:%
%:%4146=1746%:%
%:%4147=1747%:%
%:%4148=1747%:%
%:%4149=1748%:%
%:%4150=1748%:%
%:%4151=1749%:%
%:%4152=1749%:%
%:%4153=1750%:%
%:%4154=1750%:%
%:%4155=1751%:%
%:%4156=1751%:%
%:%4157=1752%:%
%:%4158=1752%:%
%:%4159=1753%:%
%:%4160=1753%:%
%:%4161=1754%:%
%:%4162=1754%:%
%:%4163=1755%:%
%:%4164=1755%:%
%:%4165=1756%:%
%:%4166=1756%:%
%:%4167=1757%:%
%:%4168=1758%:%
%:%4169=1758%:%
%:%4170=1759%:%
%:%4171=1759%:%
%:%4172=1760%:%
%:%4173=1760%:%
%:%4174=1761%:%
%:%4175=1761%:%
%:%4176=1762%:%
%:%4177=1762%:%
%:%4178=1763%:%
%:%4179=1764%:%
%:%4180=1764%:%
%:%4181=1764%:%
%:%4182=1764%:%
%:%4183=1765%:%
%:%4184=1766%:%
%:%4185=1766%:%
%:%4186=1767%:%
%:%4187=1767%:%
%:%4188=1768%:%
%:%4189=1768%:%
%:%4190=1769%:%
%:%4191=1769%:%
%:%4192=1770%:%
%:%4193=1770%:%
%:%4194=1770%:%
%:%4195=1770%:%
%:%4196=1771%:%
%:%4202=1771%:%
%:%4205=1772%:%
%:%4206=1773%:%
%:%4207=1773%:%
%:%4208=1774%:%
%:%4209=1775%:%
%:%4210=1776%:%
%:%4211=1777%:%
%:%4212=1778%:%
%:%4213=1779%:%
%:%4214=1780%:%
%:%4215=1781%:%
%:%4216=1782%:%
%:%4219=1783%:%
%:%4220=1784%:%
%:%4224=1784%:%
%:%4225=1784%:%
%:%4226=1785%:%
%:%4227=1785%:%
%:%4228=1786%:%
%:%4229=1786%:%
%:%4230=1787%:%
%:%4231=1787%:%
%:%4232=1788%:%
%:%4233=1788%:%
%:%4234=1789%:%
%:%4235=1789%:%
%:%4236=1790%:%
%:%4237=1790%:%
%:%4238=1791%:%
%:%4239=1791%:%
%:%4240=1792%:%
%:%4241=1792%:%
%:%4242=1793%:%
%:%4243=1793%:%
%:%4244=1794%:%
%:%4245=1794%:%
%:%4246=1795%:%
%:%4247=1795%:%
%:%4248=1796%:%
%:%4249=1796%:%
%:%4250=1797%:%
%:%4251=1797%:%
%:%4252=1798%:%
%:%4253=1798%:%
%:%4254=1799%:%
%:%4255=1800%:%
%:%4256=1800%:%
%:%4257=1801%:%
%:%4258=1801%:%
%:%4259=1802%:%
%:%4260=1802%:%
%:%4261=1803%:%
%:%4262=1803%:%
%:%4263=1804%:%
%:%4264=1804%:%
%:%4265=1805%:%
%:%4266=1805%:%
%:%4267=1806%:%
%:%4273=1806%:%
%:%4276=1807%:%
%:%4277=1808%:%
%:%4278=1808%:%
%:%4285=1809%:%
