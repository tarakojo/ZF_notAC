\RequirePackage{plautopatch}
\documentclass[14pt,aspectratio=169,xcolor=dvipsnames,table,dvipdfmx]{beamer}
\usepackage{bxdpx-beamer} % dvipdfmxなので必要

%Beamerの設定
\usetheme{Boadilla}

%Beamerフォント設定
\usefonttheme{professionalfonts} % Be professional!
\usepackage[T1]{fontenc}
\usepackage{mlmodern}  % 太いComputer Modern
% MLmodernのバグを修正: cf. https://tex.stackexchange.com/questions/646333/size-of-integral-symbol-in-section-header-with-mlmodern
\DeclareFontFamily{OMX}{mlmex}{}
\DeclareFontShape{OMX}{mlmex}{m}{n}{%
   <->mlmex10%
   }{} 
\usepackage{newtxtext} % 数式以外をTXフォントで上書き
\usepackage[deluxe,uplatex]{otf} % 日本語多ウェイト化
\renewcommand{\familydefault}{\sfdefault}  % 英文をサンセリフ体に
\renewcommand{\kanjifamilydefault}{\gtdefault}  % 日本語をゴシック体に
\usefonttheme{structurebold} % タイトル部を太字
\setbeamerfont{alerted text}{series=\bfseries} % Alertを太字
\setbeamerfont{section in toc}{series=\mdseries} % 目次は太字にしない
\setbeamerfont{frametitle}{size=\Large} % フレームタイトル文字サイズ
\setbeamerfont{title}{size=\LARGE} % タイトル文字サイズ
\setbeamerfont{date}{size=\small}  % 日付文字サイズ

% Babel (日本語の場合のみ・英語の場合は不要)
\uselanguage{japanese}
\languagepath{japanese}
\deftranslation[to=japanese]{Theorem}{定理}
\deftranslation[to=japanese]{Lemma}{補題}
\deftranslation[to=japanese]{Example}{例}
\deftranslation[to=japanese]{Examples}{例}
\deftranslation[to=japanese]{Definition}{定義}
\deftranslation[to=japanese]{Definitions}{定義}
\deftranslation[to=japanese]{Problem}{問題}
\deftranslation[to=japanese]{Solution}{解}
\deftranslation[to=japanese]{Fact}{事実}
\deftranslation[to=japanese]{Proof}{証明}
\def\proofname{証明}

%Beamer色設定
\definecolor{UniBlue}{RGB}{0,150,200} 
\definecolor{AlertOrange}{RGB}{255,76,0}
\definecolor{AlmostBlack}{RGB}{38,38,38}
\setbeamercolor{normal text}{fg=AlmostBlack}  % 本文カラー
\setbeamercolor{structure}{fg=UniBlue} % 見出しカラー
\setbeamercolor{block title}{fg=UniBlue!50!black} % ブロック部分タイトルカラー
\setbeamercolor{alerted text}{fg=AlertOrange} % \alert 文字カラー
\mode<beamer>{
    \definecolor{BackGroundGray}{RGB}{254,254,254}
    \setbeamercolor{background canvas}{bg=BackGroundGray} % スライドモードのみ背景をわずかにグレーにする
}

%フラットデザイン化
\setbeamertemplate{blocks}[rounded] % Blockの影を消す
\useinnertheme{circles} % 箇条書きをシンプルに
\setbeamertemplate{navigation symbols}{} % ナビゲーションシンボルを消す
\setbeamertemplate{footline}[frame number] % フッターはスライド番号のみ

%タイトルページ
\setbeamertemplate{title page}{%
    \vspace{2.5em}
    {\usebeamerfont{title} \usebeamercolor[fg]{title} \inserttitle \par}
    {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle \par}
    \vspace{1.5em}
    \begin{flushright}
        \usebeamerfont{author}\insertauthor\par
        \usebeamerfont{institute}\insertinstitute \par
        \vspace{3em}
        \usebeamerfont{date}\insertdate\par
        \usebeamercolor[fg]{titlegraphic}\inserttitlegraphic
    \end{flushright}
}

% Algorithm系
\usepackage{algorithm}
\usepackage[noend]{algorithmic}
\algsetup{linenosize=\color{fg!50}\footnotesize}
\renewcommand\algorithmicdo{:}
\renewcommand\algorithmicthen{:}
\renewcommand\algorithmicrequire{\textbf{Input:}}
\renewcommand\algorithmicensure{\textbf{Output:}}

% 定理
\theoremstyle{definition}
\newenvironment{mythm}{\begin{alertblock}{定理}}{\end{alertblock}} %自分の結果は赤色で表示

\AtBeginSection[]{
    \frame{\tableofcontents[currentsection, hideallsubsections]} %目次スライド
}


%タイトル
\title{Aqua Beamer テンプレート}
\author{\textbf{相馬 輔（統計数理研究所）}}
\date{\today}
\institute{ほげほげ研究室}

\begin{document}
\maketitle
\frame{\tableofcontents[hideallsubsections]}

\section{注意事項}
\begin{frame}{注意事項}
\begin{itemize}
\item License: MIT License
\item \texttt{uplatex+dvipdfmx}でのコンパイルを想定．\texttt{platex}利用の方は適宜書き換えること．
\item 数式フォントに\texttt{mlmodern}（太いComputer Modern）を使うので\TeX~Live 2021+が必要．
\end{itemize}
\end{frame}

\section{フレーム}
\begin{frame}{ブロック環境サンプル}
    \begin{block}{block sample}
        ブロック環境のサンプル\\
        \alert{alerted text}
    \end{block} 
    \vfill
    \begin{exampleblock}{example block sample}
        Exampleブロック環境のサンプル
    \end{exampleblock} 
    \vfill
    \begin{mythm}
        mythm環境のサンプル
    \end{mythm} 
\end{frame}

\begin{frame}{数式サンプル}
    \[
       \frac{1}{2\pi} \int_0^\infty f(x)e^{i\omega x} dx, \quad
       \sum_{i=1}^\infty \frac{1}{i^2} = \frac{\pi^2}{6}
    \]

    \begin{itemize}
        \item 和文・欧文と数式 \\ 
         $\alpha$近似アルゴリズム, submodular function $f$, $\sum_{i=1}^n i$
        \item 黒板太字$\mathbb{Q}$, $\mathbb{R}$, $\mathbb{C}$
        \item 立体太字$\mathbf{a}, \mathbf{b}, \mathbf{c}$
        \item 斜体太字$\boldsymbol{a}, \boldsymbol{b}, \boldsymbol{c}$
        \item 花文字 $\mathcal{A}$, $\mathcal{B}$, $\mathcal{C}$
        \item 作用素$\max A$, $\min B$, $\sup X$, $\inf Y$
    \end{itemize}
\end{frame}

\section{アルゴリズム}
\begin{frame}{アルゴリズムサンプル}
    \begin{block}{Matrix Multiplication}
        \begin{algorithmic}[1]
            \STATE $C = O$
            \FOR{$i = 1, \dots, m$}
            \FOR{$j = 1, \dots, n$}
            \FOR{$k = 1, \dots, r$}
            \STATE $C[i,j] = C[i,j] + A[i, k] \cdot B[k, j]$
            \ENDFOR
            \ENDFOR
            \ENDFOR
            \RETURN $C$
        \end{algorithmic}
    \end{block}
\end{frame}
\end{document}